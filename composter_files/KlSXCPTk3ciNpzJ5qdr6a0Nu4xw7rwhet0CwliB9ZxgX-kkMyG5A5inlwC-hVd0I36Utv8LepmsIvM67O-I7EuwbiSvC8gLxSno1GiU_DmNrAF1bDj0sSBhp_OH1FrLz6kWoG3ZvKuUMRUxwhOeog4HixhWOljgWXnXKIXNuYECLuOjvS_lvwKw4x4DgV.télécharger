;/*FB_PKG_DELIM*/

__d("LSClearPinnedMessages",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(205).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearPinnedMessagesStoredProcedure";a.__tables__=["msg_pinned_messages_v2"];e.exports=a}),null);
__d("LSCreateOpenToE2EEThreadLink",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.db.table(193).put({openThreadId:a[0],armadilloThreadId:a[1],showOpenMessageHistory:a[2],timestampMs:a[3]})},function(a){return c[0]=new b.Map()}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateOpenToE2EEThreadLinkStoredProcedure";a.__tables__=["cutover_threads"];e.exports=a}),null);
__d("LSDeleteExistingMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(13).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteExistingMessageRangesStoredProcedure";a.__tables__=["messages_ranges_v2__generated"];e.exports=a}),null);
__d("LSShimHybridThreadDeleteByThreadKey.nop",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimHybridThreadDeleteByThreadKey";f["default"]=a}),66);
__d("LSHybridThreadDelete",["LSShimHybridThreadDeleteByThreadKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.nativeOperation(b("LSShimHybridThreadDeleteByThreadKey.nop"),a[0])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxHybridThreadDeleteStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertAttachmentCta",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(19).add({ctaId:a[0],attachmentFbid:a[1],attachmentIndex:a[2],threadKey:a[3],messageId:a[5],title:a[6],type_:a[7],platformToken:a[8],actionUrl:a[9],nativeUrl:a[10],urlWebviewType:a[11],actionContentBlob:a[12],enableExtensions:a[13],extensionHeightType:a[14],targetId:a[15]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertAttachmentCtaStoredProcedure";a.__tables__=["attachment_ctas"];e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq(b.i64.cast([0,0]),a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,b.i64.cast([0,2]))||b.i64.eq(c.attachmentType,b.i64.cast([0,3]))||b.i64.eq(c.attachmentType,b.i64.cast([0,4]))||b.i64.eq(c.attachmentType,b.i64.cast([0,5]))||b.i64.eq(c.attachmentType,b.i64.cast([0,6]))||b.i64.eq(c.attachmentType,b.i64.cast([0,10]))||b.i64.eq(c.attachmentType,b.i64.cast([0,14]))||b.i64.eq(c.attachmentType,b.i64.cast([0,15])))&&b.i64.eq(c.ephemeralMediaState,void 0)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertBlobAttachmentStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"insert_persistent_menu_items",c.i64.cast([0,117]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsIssueInsertPersistentMenuItemsForThreadTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMoveThreadToE2EECutoverFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({folderName:"e2ee_cutover",parentThreadKey:b.i64.cast([-1,4294967279])})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToE2EECutoverFolderStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSReplaceOptimisticThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[1]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?b.forEach(b.filter(b.db.table(9).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.le(c.authorityLevel,b.i64.cast([0,20]))}),function(c){var d=c.update;c.item;return d({threadKey:a[1],authorityLevel:b.i64.cast([0,40])})}):(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxReplaceOptimisticThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSSetForwardScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({forwardScore:a[3]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetForwardScoreStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSShimCopyAllParticipantNicknamesForThread",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return c("gkx")("26379")===!1?0:0,b.resolve(d)}a.__sproc_name__="LSMailboxShimCopyAllParticipantNicknamesForThreadStoredProcedure";a.__tables__=[];b=a;g["default"]=b}),98);
__d("LSShimGetServerThreadKeyFromJIDV2.nop",["ReQL","RetUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(c)));return d("RetUtil").getNullableRetResult(b==null?void 0:b.serverThreadKey)});function c(b,c,d){return a.apply(this,arguments)}return c}();a.__nop_name__="LSShimGetServerThreadKeyFromJIDV2";g["default"]=a}),98);
__d("LSShimVerifyThreadExists.nop",["FBLogger","I64","LSPlatformArmadilloUtils","LSPlatformLsInitLog","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWJids","MAWLoggerDeferred","MAWMIC","MAWMiActBulkCreateThreadInActWithMiData","MAWThreadMappingQPL","MAWThreadMappingState","MAWTrackPendingOccamadilloThreads","MWCookieUtil","Promise","ReQL","WATimeUtils","asyncToGeneratorRuntime","cr:14163","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(a=b("cr:14163"))!=null?a:null,k=["MiActMapping","ThreadReady"];function l(){return j!=null&&c("gkx")("10842")}var m=new Map(),n=[];d("LSPlatformArmadilloUtils").executeOnThreadMappingEnd(function(){if(n.length===0)return;var a=n.map(function(a){var b=q(a,"LSShimVerifyThreadExists.init_sync");return babelHelpers["extends"]({instanceKey:b},a)});p(d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData(void 0,a,"init_sync"),a.map(function(a){return a.instanceKey}).filter(Boolean),!0)});e=200;f=20;var o=j==null?void 0:j.createSimpleBatcher({delayMs:e,maxSize:f},function(a){a=a.map(function(a){var b=q(a,"LSShimVerifyThreadExists.non-init_sync");return babelHelpers["extends"]({instanceKey:b},a)});p(d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData(void 0,a,"batched_mapping"),a.map(function(a){return a.instanceKey}).filter(Boolean),!1);return[]});a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,r,s,t,u,v,w,x,y){d("MAWTrackPendingOccamadilloThreads").markThreadPassedToNativeOp({callingSource:y});e=d("MAWThreadMappingQPL").pendingThreadCreationOnServer.get((i||(i=d("I64"))).to_string(g));j=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(f))]));r=j[0];v=j[1];w=d("MAWJids").convertIntJidToChatJid(g,s);if(c("gkx")("11539")){x=d("MAWThreadMappingState").getMappingStateForDbRows(r,v);x.actState===d("MAWThreadMappingState").ActState.READY&&d("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:(i||(i=d("I64"))).to_string(f),description:"LSShimVerifyThreadExists",instanceKey:e,jid:w,optimisticThreadKey:null});r!=null&&d("MAWThreadMappingState").isReady(x)&&(yield d("MAWBridgeOccamadilloVerifyThreadExistsHandler").genUpdatesForAuthoritativeThread(a,r.threadKey,{clientThreadKey:r.clientThreadKey!=null?(i||(i=d("I64"))).to_string(r.clientThreadKey):null,instanceKey:e,isGroup:s,lastActivityTs:d("WATimeUtils").castToMillisTime((i||(i=d("I64"))).to_float(r.lastActivityTimestampMs))}))}j=(y=e)!=null?y:d("MAWThreadMappingQPL").getInstanceKeyForThreadKey(f);m.set(j,{hasMappingRowAlready:v!=null,isExistingRowPlaceholder:v==null?void 0:(i||(i=d("I64"))).to_float(v.clientThreadPk)<0,isExpectedThreadMissingInLsdb:r==null});v==null&&(yield d("MAWThreadMappingState").markActThreadMappingAsInProgress(a,f,g));d("MAWLoggerDeferred").TAGS(k,"Insert MI thread: fbid:"+i.to_string(f)+", jid:"+i.to_string(g)+", last activity ts:"+i.to_string(t)+", last read ts:"+i.to_string(u)+", read="+String(i.le(t,u)));(i||(i=d("I64"))).equal(t,(i||(i=d("I64"))).zero)&&c("FBLogger")("messenger_web").warn("[Occamadillo] MI thread insertion with lastActivityTimestamp == 0 for lastReadWatermarkTimestampMs: %s",(i||(i=d("I64"))).to_string(u));d("MAWTrackPendingOccamadilloThreads").addPendingThread(w);x={description:"LSShimVerifyThreadExists.nop",fbid:f,forceLoadMessages:d("MWCookieUtil").isInChatHead(f),instanceKey:j,isGroupThread:s,jid:g,lastActivityTimestampMs:t,lastReadWatermarkTimestampMs:u};e=d("MWCookieUtil").isAutoChatTabFromCookie(f);e?(q(x,"LSShimVerifyThreadExists.acto"),p(d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData(void 0,[x],"acto"),[j],!0)):d("LSPlatformLsInitLog").LsSync.isRunning()?n.push(x):l()&&o!=null?c("promiseDone")(o.accept(x)):(q(x,"LSShimVerifyThreadExists.non_acto"),p(d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData(void 0,[x],"non_acto"),[j],!1))});return function(b,c,d,e,f,g,h,i,j,k,l,m,n){return a.apply(this,arguments)}}();e=a;function p(a,b,e){a["catch"](function(a){e&&d("MAWMIC").fail("thread_mapping_error",c("getErrorSafe")(a));b.forEach(function(b){return d("MAWThreadMappingQPL").endFailureError(a,b)});return a})}function q(a,b){var c=a.instanceKey!=null?m.get(a.instanceKey):null;c=c==null?null:{hasMappingRowAlready:c.hasMappingRowAlready,hasPlaceholderRowInserted:!c.hasMappingRowAlready,isExistingRowPlaceholder:c.isExistingRowPlaceholder,isExpectedThreadMissingInLsdb:c.isExpectedThreadMissingInLsdb};return d("MAWThreadMappingQPL").startOrContinueForMiActMappingParams(a,b,c)}a.__nop_name__="LSShimVerifyThreadExists";g["default"]=e}),98);
__d("LSTransportHybridParticipantUpdateReceipts",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTransportHybridParticipantUpdateReceiptsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateAttachmentItemCtaAtIndex",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[5],b.i64.cast([0,0]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({defaultCtaId:a[2],defaultCtaTitle:a[3],defaultCtaType:a[4]})}):b.i64.eq(a[5],b.i64.cast([0,1]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta1Id:a[2],cta1Title:a[3],cta1Type:a[4],cta1IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,2]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta2Id:a[2],cta2Title:a[3],cta2Type:a[4],cta2IconType:void 0})}):b.i64.eq(a[5],b.i64.cast([0,3]))?b.forEach(b.db.table(18).fetch([[[a[0],a[1]]]]),function(b){var c=b.update;b.item;return c({attachmentCta3Id:a[2],cta3Title:a[3],cta3Type:a[4],cta3IconType:void 0})}):b.resolve(function(a){b.logger(a).warn(a)}("Unexpected CTA index"))},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateAttachmentItemCtaAtIndexStoredProcedure";a.__tables__=["attachment_items"];e.exports=a}),null);
__d("LSUpdateOptimisticContextThreadKeys",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(32).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})},function(c){return b.forEach(b.filter(b.db.table(31).fetch(),function(c){return b.i64.eq(c.threadKey,a[0])}),function(b){var c=b.update;b.item;return c({threadKey:a[1]})})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateOptimisticContextThreadKeysStoredProcedure";a.__tables__=["threads_optimistic_context","messages_optimistic_context"];e.exports=a}),null);
__d("LSUpdateReadReceipt",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[2])&&b.i64.lt(c.readWatermarkTimestampMs,a[0])}),function(c){var d=c.update;c=c.item;return d({readWatermarkTimestampMs:a[0],readActionTimestampMs:b.i64.gt(a[3],b.i64.cast([0,0]))?a[3]:c.readActionTimestampMs})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateReadReceiptStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSUpdateTaskQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b.item;return c({queueName:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateTaskValue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(b){var c=b.update;b=b.item;return c({taskValue:b.taskValue.split(a[1]).join(a[2])})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreUpdateTaskValueStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMapping",["LSDeleteThread","LSHybridThreadDelete","LSReplaceOptimisticThread","LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateOptimisticContextThreadKeys","LSUpdateTaskQueueName","LSUpdateTaskValue"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[1]=!1:(a.item,d[1]=!0)})},function(b){return c.filter(c.db.table(9).fetch(),function(b){return c.i64.eq(b.threadKey,a[2])}).next().then(function(a,b){b=a.done;a=a.value;return b?d[3]=!1:(a.item,d[3]=!0)})},function(e){return d[5]=c.i64.neq(d[0],void 0),d[7]=c.i64.eq(d[0],a[2])&&d[5],!d[7]&&!(c.i64.eq(d[0],a[1])&&d[5])&&d[5]?function(a){c.logger(a).mustfix(a)}("The mi_act_mapping row did not correspond to either the authoritative or optimistic thread key."):0,c.i64.neq(a[2],void 0)?d[6]=a[2]:d[6]=c.i64.cast([0,0]),d[5]?d[7]?c.sequence([function(e){return d[1]?c.storedProcedure(b("LSDeleteThread"),a[1],!1):c.resolve()},function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):d[3]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.resolve():d[3]?d[1]?c.storedProcedure(b("LSHybridThreadDelete"),d[6]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.forEach(c.db.table(9).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({clientThreadKey:d[6]})}):c.resolve()},function(e){return c.storedProcedure(b("LSReplaceOptimisticThread"),d[6],a[1])},function(e){return c.storedProcedure(b("LSUpdateOptimisticContextThreadKeys"),d[6],a[1])}]):c.resolve()},function(e){return d[3]?c.sequence([function(e){return d[9]=c.i64.to_string(d[6]),d[8]=c.i64.to_string(a[1]),c.storedProcedure(b("LSUpdateTaskQueueName"),d[9],d[8])},function(a){return c.storedProcedure(b("LSUpdateTaskValue"),d[8],d[9],d[8])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateThreadAuthorityAndMappingWithOTIDFromJID",["LSShimGetServerThreadKeyFromJIDV2.nop","LSUpdateThreadAuthorityAndMapping"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.nativeOperation(b("LSShimGetServerThreadKeyFromJIDV2.nop"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],a[1])?d[1]=d[0]:d[1]=void 0,c.storedProcedure(b("LSUpdateThreadAuthorityAndMapping"),a[0],a[1],d[1])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateThreadAuthorityAndMappingWithOTIDFromJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpsertMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[9]]],"optimistic"]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(12).add({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:a[6],senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:a[7],stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):(d=c.item,b.i64.le(d.authorityLevel,a[2])?b.db.table(12).put({threadKey:a[3],timestampMs:a[5],messageId:a[8],offlineThreadingId:a[9],authorityLevel:a[2],primarySortKey:d.primarySortKey,senderId:a[10],isAdminMessage:a[12],sendStatus:a[15],sendStatusV2:a[16],text:a[0],subscriptErrorMessage:a[1],secondarySortKey:d.secondarySortKey,stickerId:a[11],messageRenderingType:a[13],isUnsent:a[17],unsentTimestampMs:a[18],mentionOffsets:a[19],mentionLengths:a[20],mentionIds:a[21],mentionTypes:a[22],replySourceId:a[23],replySourceType:a[24],replySourceTypeV2:a[25],replyStatus:a[26],replySnippet:a[27],replyMessageText:a[28],replyToUserId:a[29],replyMediaExpirationTimestampMs:a[30],replyMediaUrl:a[31],replyMediaPreviewWidth:a[33],replyMediaPreviewHeight:a[34],replyMediaUrlMimeType:a[35],replyMediaUrlFallback:a[36],replyCtaId:a[37],replyCtaTitle:a[38],replyAttachmentType:a[39],replyAttachmentId:a[40],replyAttachmentExtra:a[41],replyType:a[42],isForwarded:a[43],forwardScore:a[44],hasQuickReplies:a[45],adminMsgCtaId:a[46],adminMsgCtaTitle:a[47],adminMsgCtaType:a[48],cannotUnsendReason:a[49],textHasLinks:a[50],viewFlags:a[51],displayedContentTypes:a[52],viewedPluginKey:a[53],viewedPluginContext:a[54],quickReplyType:a[55],hotEmojiSize:a[56],platformXmdEncoded:a[57],replySourceTimestampMs:a[58],ephemeralDurationInSec:a[59],msUntilExpirationTs:a[60],ephemeralExpirationTs:a[61],takedownState:a[62],isCollapsed:a[63],subthreadKey:a[64],botResponseId:a[65],metadataDataclass:a[66],editCount:a[67],isPaidPartnership:a[68],adminSignatureName:a[69],adminSignatureProfileUrl:a[70],adminSignatureCreatorType:a[71],translatedText:a[72],textDialect:a[73],translatedTextDialect:a[74],scheduledTimestamp:a[75],isVideoQuickSend:a[76]}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertMessageStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSVerifyHybridThreadExists",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSShimVerifyThreadExists.nop","LSVerifyE2EEMetadataThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSVerifyE2EEMetadataThreadExistsV2"),a[2],a[0],c.i64.cast([0,60])).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=c.i64.of_float(Date.now()),c.i64.neq(a[11],void 0)?c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[10]=new c.Map(),d[10].set("error_msg","Expected a nonempty query result"),d[10].set("code",c.i64.cast([0,3])),d[10].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[11]=c.createArray(),d[12]=(d[11].push(d[10]),d[11]),e=[void 0,d[11]],d[4]=e[0],d[5]=e[1],e):(b=a.item,d[10]=new c.Map(),d[10].set("backup_id",b.backupId),d[10].set("device_public_key_blob",b.devicePublicKeyBlob),d[10].set("device_private_key_blob",b.devicePrivateKeyBlob),d[10].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[10].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[10].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[10].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[10].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[10].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[10].set("orf_client_state_v2_blob",void 0),d[10].set("orf_v2_authority_level",void 0),d[10].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[10].set("device_id",b.deviceId),d[10].set("backup_tenancy",b.backupTenancy),d[10].set("encryption_version",b.encryptionVersion),d[10].set("revision_version",b.revisionVersion),d[10].set("initialize_restore_result",void 0),d[10].set("authority_level",b.authorityLevel),e=[d[10],void 0],d[4]=e[0],d[5]=e[1],e)})},function(e){return d[7]=new c.Map(),d[7].set("value",d[4]),d[7].set("errors",d[5]),d[8]=d[7].get("value"),d[8]!==void 0?c.sequence([function(e){return d[10]=d[8].get("backup_id"),d[11]=d[8].get("device_public_key_blob"),d[12]=d[8].get("device_private_key_blob"),d[13]=d[8].get("epoch_storage_public_key_blob"),d[14]=d[8].get("epoch_storage_private_key_blob"),d[15]=d[8].get("epoch_auth_public_key_blob"),d[16]=d[8].get("epoch_auth_private_key_blob"),d[17]=d[8].get("mailbox_root_key_blob"),d[18]=d[8].get("ocmf_client_state_blob"),d[19]=d[8].get("orf_client_state_v2_blob"),d[20]=d[8].get("orf_v2_authority_level"),d[21]=d[8].get("oblivious_validation_token_blob"),d[22]=d[8].get("device_id"),d[23]=d[8].get("backup_tenancy"),d[24]=d[8].get("encryption_version"),d[25]=d[8].get("revision_version"),d[26]=d[8].get("initialize_restore_result"),d[27]=d[8].get("authority_level"),c.i64.neq(d[22],void 0)?c.sequence([function(a){return d[29]=void 0,c.i64.neq(d[29],void 0)?c.resolve(d[30]=d[29]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[24],a)})?d[41]=d[24]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[30]=d[42]}])},function(b){return c.i64.neq(d[30],void 0)?d[31]=d[30]:d[31]=c.i64.cast([0,0]),c.i64.neq(d[23],void 0)?d[32]=d[23]:d[32]=c.i64.cast([0,1]),d[28]=c.i64.neq(d[22],a[11])}]):c.resolve(d[28]=!1)},function(a){return d[9]=d[28]}]):c.resolve((d[10]=d[7].get("errors"),d[11]=d[7].get("errors"),d[9]=!1))},function(a){return d[2]=d[9]}]):c.resolve(d[2]=!1)},function(e){return d[2]?d[3]=!0:d[3]=a[8],c.nativeOperation(b("LSShimVerifyThreadExists.nop"),a[0],a[1],a[3],a[4],a[5],a[6],a[7],d[3],a[9],a[10],a[12])},function(a){return e[0]=c.i64.cast([0,0])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxVerifyHybridThreadExistsStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSWriteThreadCapabilities",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,e){e=d.done;d=d.value;return e?0:(d.item,c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({capabilities:a[1],capabilities2:a[2],capabilities3:a[3],capabilities4:a[4],capabilities5:a[5]})}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxWriteThreadCapabilitiesStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("useCometThemeConfig.react",["CometStyleXSheet","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("react-compiler-runtime").c(1);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={dark:d("CometStyleXSheet").DARK_MODE_CLASS_NAME,light:d("CometStyleXSheet").LIGHT_MODE_CLASS_NAME,type:"CLASSNAMES"},a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("CometTheme.react",["BaseTheme.react","XPlatReactEnvironment","react","react-compiler-runtime","useCometThemeConfig.react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("XPlatReactEnvironment").isWeb()?{root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",zIndex:"x1swf91x",$$css:!0}}:{root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e,f,g,h,k;b[0]!==a?(f=a.ref,g=a.theme,h=a.vrGlassEffectEnabled,k=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref","theme","vrGlassEffectEnabled","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5]);a=c("useCometThemeConfig.react")(h);h=c("useCurrentDisplayMode")();g=g==="invert"?h==="dark"?"light":"dark":(g=g)!=null?g:h;b[6]!==k?(h=[j.root,k],b[6]=k,b[7]=h):h=b[7];b[8]!==a||b[9]!==g||b[10]!==e||b[11]!==f||b[12]!==h?(k=i.jsx(c("BaseTheme.react"),babelHelpers["extends"]({config:a,displayMode:g,ref:f,xstyle:h},e)),b[8]=a,b[9]=g,b[10]=e,b[11]=f,b[12]=h,b[13]=k):k=b[13];return k}g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MDSMenuItemBase.react",["BaseMenuContext","BaseMenuFocusGroup","FDSMenuItemBaseRoleContext","MDSPressable.react","MDSTextPairing.react","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useId,m=b.useMemo,n=b.useRef,o={disabled:{cursor:"x1h6gzvc",$$css:!0},listItem:{alignItems:"x6s0dn4",appearance:"xjyslct",boxSizing:"x9f619",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",marginTop:"xdj266r",marginBottom:"xat24cr",marginStart:"xnqzcj9",marginEnd:"x1gh759c",marginLeft:null,marginRight:null,paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1344otq",paddingEnd:"x1de53dj",paddingLeft:null,paddingRight:null,position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},listItemWithIcon:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function a(a){var b=a.ref,d=a.addOnEnd,e=a.addOnStart,f=a.disabled;f=f===void 0?!1:f;var g=a.href,h=a.id,p=a.onClick,q=a.onFocusIn,r=a.onFocusOut,s=a.onHoverIn,t=a.onHoverOut,u=a.onPressIn,v=a.preventClosingMenuOnSelect;v=v===void 0?!1:v;var w=a.primaryColor,x=a.primaryText,y=a.role,z=a.secondaryColor,A=a.secondaryText,B=a.target,C=a.testid;C=babelHelpers.objectWithoutPropertiesLoose(a,["ref","addOnEnd","addOnStart","disabled","href","id","onClick","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPressIn","preventClosingMenuOnSelect","primaryColor","primaryText","role","secondaryColor","secondaryText","target","testid"]);a=l();var D=n(null),E=k(c("BaseMenuContext")),F=v!==!0&&E?E.onClose:null;v=g!=null||B!=null?{target:B,url:g}:void 0;E=j(function(a){F!=null&&F(),p&&p(a)},[p,F]);B=k(c("FDSMenuItemBaseRoleContext"));g=(y=(g=y)!=null?g:B)!=null?y:void 0;B=m(function(){return c("mergeRefs")(b,D)},[b]);y=C["aria-label"]==null?babelHelpers["extends"]({},C,{"aria-labelledby":a}):C;return i.jsx(c("BaseMenuFocusGroup").FocusItem,{disabled:f,children:i.jsxs(c("MDSPressable.react"),babelHelpers["extends"]({},y,{disabled:f,display:"inline",id:h,linkProps:v,onFocusIn:q,onFocusOut:r,onHoverIn:s,onHoverOut:t,onPress:E,onPressIn:u,overlayRadius:"normal",ref:B,role:g,testid:void 0,xstyle:[o.listItem,e!=null&&o.listItemWithIcon,f&&o.disabled],children:[e,i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 x1qughib xeuugli"},{children:[i.jsx(c("MDSTextPairing.react"),{headline:x,headlineColor:f?"disabled":w,headlineId:a,level:4,meta:A,metaColor:f?"disabled":z,reduceEmphasis:!0}),d!=null&&i.jsx("div",babelHelpers["extends"]({className:"x2lah0s x16n37ib"},{children:d}))]}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSMenuItem.react",["FDSMenuItemIcon.react","MDSIconSizes","MDSMenuItemBase.react","MDSText.react","MWXIconStrict.react","MWXSvgIcon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(26),e,f,g,h,j;b[0]!==a?(f=a.ref,e=a.auxItem,g=a.icon,h=a.iconColor,j=babelHelpers.objectWithoutPropertiesLoose(a,["ref","auxItem","icon","iconColor"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);b[6]!==g?(a=d("MDSIconSizes").getIconSizeForMWMenuItem(g),b[6]=g,b[7]=a):a=b[7];a=a;var k;if(e!=null)bb0:switch(e.type){case"text":var l;b[8]!==e.auxText||b[9]!==e.style?(l=e.style==="link"?i.jsx(c("MDSText.react"),{color:"blueLink",type:"bodyLink3",children:e.auxText}):i.jsx(c("MDSText.react"),{color:"secondary",type:"body4",children:e.auxText}),b[8]=e.auxText,b[9]=e.style,b[10]=l):l=b[10];k=l;break bb0;case"icon":b[11]!==e.color||b[12]!==e.icon?(l=i.jsx(c("MWXIconStrict.react"),{color:e.color,icon:e.icon,size:20}),b[11]=e.color,b[12]=e.icon,b[13]=l):l=b[13];k=l;break bb0;case"numberedBadge":b[14]!==e.badge?(l=i.jsx(i.Fragment,{children:e.badge}),b[14]=e.badge,b[15]=l):l=b[15];k=l}b[16]!==g||b[17]!==h||b[18]!==a||b[19]!==j?(e=g!=null?i.jsx(c("FDSMenuItemIcon.react"),{disabled:j.disabled,icon:g instanceof d("MWXSvgIcon").MWXSvgMenuItemIcon?g.component:g,iconColor:h,iconSize:a,isDecorative:!0,use:"contained"}):void 0,b[16]=g,b[17]=h,b[18]=a,b[19]=j,b[20]=e):e=b[20];b[21]!==k||b[22]!==f||b[23]!==j||b[24]!==e?(l=i.jsx(c("MDSMenuItemBase.react"),babelHelpers["extends"]({addOnEnd:k,addOnStart:e},j,{ref:f})),b[21]=k,b[22]=f,b[23]=j,b[24]=e,b[25]=l):l=b[25];return l}g["default"]=a}),98);
__d("MDSSwitch.react",["BaseSwitch.react","BaseTheme.react","BaseView.react","Locale","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("Locale").isRTL(),k={background:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",transitionDuration:"x1eub6wo",transitionProperty:"x19991ni",transitionTimingFunction:"x1d72o",$$css:!0},backgroundDisabledColor_DEPRECATED:{backgroundColor:"xwcfey6",$$css:!0},backgroundInactive:{transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},slider:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",boxShadow:"xvo6coq",height:"x1qx5ct2",start:"xb1c2wi",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"xs7f9wi",transitionDuration:"x1eub6wo",transitionProperty:"x11xpdln",transitionTimingFunction:"x1d72o",width:"xw4jnvo",$$css:!0},sliderActiveColor:{backgroundColor:"x1ky6f7f",$$css:!0},sliderActiveLeft:{transform:"x13gy369",$$css:!0},sliderActiveRight:{transform:"x13n5tbt",$$css:!0},sliderColor_DEPRECATED:{backgroundColor:"x14hiurz",$$css:!0},sliderDisabled_DEPRECATED:{backgroundColor:"xszat0t",transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},sliderInactiveColor:{backgroundColor:"x1mck26p",$$css:!0},"switch":{backgroundColor:"x14nfmen",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x1rg5ohu",height:"xxk0z11",opacity:"x1hc1fzr",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",transitionDuration:"x1eub6wo",transitionProperty:"x19991ni",transitionTimingFunction:"x1d72o",width:"x187nhsf",$$css:!0},switchDisabledColor:{opacity:"xti2d7y",$$css:!0},trackColorActive:{backgroundColor:"xbpvyw4",$$css:!0},trackColorActive_DEPRECATED:{backgroundColor:"x1792ry3",$$css:!0},trackColorInactive:{backgroundColor:"x1czgurv",$$css:!0},trackColorInactive_DEPRECATED:{backgroundColor:"x1qhmfi1",$$css:!0}},l={dark:{"disabled-button-background":"#ececec","secondary-button-background":"#d8d8d8","toggle-active-background":"#429AFF"},light:{"disabled-button-background":"#ececec","secondary-button-background":"#d8d8d8","toggle-active-background":"#0A7CFF"},type:"VARIABLES"};function m(a,b){return c("gkx")("7347")?[k.background,b===!1&&k.backgroundInactive,b===!1?k.trackColorInactive:k.trackColorActive]:[k.background,k.trackColorActive_DEPRECATED,a?k.backgroundDisabledColor_DEPRECATED:b===!1&&k.trackColorInactive_DEPRECATED]}function n(a,b){return c("gkx")("7347")?[k.slider,k.sliderActiveColor,b===!1&&k.sliderInactiveColor,b&&(j?k.sliderActiveLeft:k.sliderActiveRight)]:[k.slider,k.sliderColor_DEPRECATED,a===!0&&k.sliderDisabled_DEPRECATED,b&&(j?k.sliderActiveLeft:k.sliderActiveRight)]}function a(a){var b=d("react-compiler-runtime").c(39),e,f,g,h,j,o,p,q,r,s,t;b[0]!==a?(e=a["aria-describedby"],f=a["aria-hidden"],p=a.disabled,j=a.onClick,o=a.onValueChange,h=a.ref,q=a.tabIndex,r=a.testid,s=a.value,t=a.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(a,["aria-describedby","aria-hidden","disabled","onClick","onValueChange","ref","tabIndex","testid","value","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=o,b[7]=p,b[8]=q,b[9]=r,b[10]=s,b[11]=t):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],o=b[6],p=b[7],q=b[8],r=b[9],s=b[10],t=b[11]);a=p===void 0?!1:p;p=a&&c("gkx")("7347")&&k.switchDisabledColor;var u;b[12]!==p||b[13]!==t?(u=[k["switch"],p,t],b[12]=p,b[13]=t,b[14]=u):u=b[14];b[15]!==a||b[16]!==s?(p=m(a,s),b[15]=a,b[16]=s,b[17]=p):p=b[17];b[18]!==p?(t=i.jsx(c("BaseView.react"),{xstyle:p}),b[18]=p,b[19]=t):t=b[19];b[20]!==a||b[21]!==s?(p=n(a,s),b[20]=a,b[21]=s,b[22]=p):p=b[22];var v;b[23]!==p?(v=i.jsx(c("BaseView.react"),{xstyle:p}),b[23]=p,b[24]=v):v=b[24];b[25]!==e||b[26]!==f||b[27]!==g||b[28]!==a||b[29]!==h||b[30]!==j||b[31]!==o||b[32]!==u||b[33]!==t||b[34]!==v||b[35]!==q||b[36]!==r||b[37]!==s?(p=i.jsx(c("BaseTheme.react"),{config:c("gkx")("7347")?void 0:l,children:i.jsxs(c("BaseSwitch.react"),babelHelpers["extends"]({"aria-describedby":e,"aria-hidden":f},g,{checked:s,disabled:a,onClick:j,onValueChange:o,ref:h,tabIndex:q,testid:void 0,xstyle:u,children:[t,v]}))}),b[25]=e,b[26]=f,b[27]=g,b[28]=a,b[29]=h,b[30]=j,b[31]=o,b[32]=u,b[33]=t,b[34]=v,b[35]=q,b[36]=r,b[37]=s,b[38]=p):p=b[38];return p}g["default"]=a}),98);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("MessengerEnvironment",["CurrentEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h=babelHelpers["extends"]({},c("CurrentEnvironment"),{messengerui:!1,roomschatui:!1,setMessengerUI:function(a){h.messengerui=a},setRoomsChatUI:function(a){h.roomschatui=a}});a=h;g["default"]=a}),98);
__d("MessengerPlusCircleFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-1-16a1 1 0 1 1 2 0v3.75c0 .138.112.25.25.25H23a1 1 0 1 1 0 2h-3.75a.25.25 0 0 0-.25.25V23a1 1 0 1 1-2 0v-3.75a.25.25 0 0 0-.25-.25H13a1 1 0 1 1 0-2h3.75a.25.25 0 0 0 .25-.25V13z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("useBaseDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","react-compiler-runtime","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=d("react-compiler-runtime").c(17),e=a.entryPoint,f=a.environmentProvider,g=a.onClose,h=a.otherProps,j=a.overrideRelayEnv,m=a.preloadedEntryPoint,n=a.preloadParams;a=d("CometRelay").useEntryPointLoader(f,e);var o=a[0],p=a[1],q=a[2],r=(f=o)!=null?f:m,s=l(null);b[0]!==q||b[1]!==r.isDisposed||b[2]!==n||b[3]!==m||b[4]!==p||b[5]!==o?(e=function(){s.current!=null&&(c("clearTimeout")(s.current),s.current=null);r.isDisposed&&p(n);return function(){s.current=c("setTimeout")(function(){o?q():m.dispose(),s.current=null},6e4)}},a=[q,r.isDisposed,m,n,p,o],b[0]=q,b[1]=r.isDisposed,b[2]=n,b[3]=m,b[4]=p,b[5]=o,b[6]=e,b[7]=a):(e=b[6],a=b[7]);k(e,a);b[8]!==g||b[9]!==h?(f=babelHelpers["extends"]({},h,{onClose:g}),b[8]=g,b[9]=h,b[10]=f):f=b[10];e=f;b[11]!==m||b[12]!==e?(a=i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:m,props:e}),b[11]=m,b[12]=e,b[13]=a):a=b[13];g=a;b[14]!==g||b[15]!==j?(h=j!=null?i.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:j,children:g}):g,b[14]=g,b[15]=j,b[16]=h):h=b[16];return h}function a(a,b,e,f){var g=d("react-compiler-runtime").c(7),h=c("useCometRelayEntrypointContextualEnvironmentProvider")(f),i=j(c("CometDialogContext")),k;g[0]!==i||g[1]!==a||g[2]!==h||g[3]!==e||g[4]!==f||g[5]!==b?(k=function(g,j,k,l){var n=d("CometRelay").loadEntryPoint(h,a,g),o=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b;k&&k.apply(void 0,d);var e=n==null?void 0:n.dispose;e&&e()};i(c("CometSuspendedDialogImpl.react"),{dialog:m,dialogProps:{entryPoint:a,environmentProvider:h,otherProps:j,overrideRelayEnv:f,preloadedEntryPoint:n,preloadParams:g},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(j=l)!=null?j:c("tracePolicyFromResource")("comet.dialog",a.root)},o)},g[0]=i,g[1]=a,g[2]=h,g[3]=e,g[4]=f,g[5]=b,g[6]=k):k=g[6];return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FDSContextualMessage.react",["fbt","ix","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextPairing.react","FbtResultBase","fbicon","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={root:{borderTopStartRadius:"x1qpq9i9",borderTopEndRadius:"xdney7k",borderBottomEndRadius:"xu5ydu1",borderBottomStartRadius:"xt3gfkd",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",paddingBottom:"x1l90r2v",$$css:!0}},n={highlight:{backgroundColor:"xwnonoy",$$css:!0},"highlight-bg":{backgroundColor:"xfmpgtx",$$css:!0},primary:{backgroundColor:"x1jx94hy",$$css:!0},secondary:{backgroundColor:"xlhe6ec",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(36),e,f,g;b[0]!==a?(f=a.ref,g=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=e;var k=a.addOnPrimary,o=a.addOnSecondary,p=a.body,q=a.headline,r=a.headlineLineLimit,s=a.icon,t=a.level,u=a.meta,v=a.paddingTop,w=a.testid;a=a.type;t=t===void 0?3:t;a=a===void 0?"primary":a;var x=e.onClose!=null?e.onClose:null;e=e.headlineAriaLabel!=null?e.headlineAriaLabel:typeof q==="string"||q instanceof c("FbtResultBase")?q:null;var y;b[4]!==a||b[5]!==g?(y=(j||(j=c("stylex"))).props(m.root,n[a],g),b[4]=a,b[5]=g,b[6]=y):y=b[6];b[7]!==s?(g=s!=null?l.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:l.jsx("div",babelHelpers["extends"]({className:"x1rdy4ex"},{children:s}))}):null,b[7]=s,b[8]=g):g=b[8];s=a==="highlight"?"white":"secondary";var z=a==="highlight"?"white":"primary";r=(r=r)!=null?r:2;var A;b[9]!==p||b[10]!==q||b[11]!==t||b[12]!==s||b[13]!==z||b[14]!==r?(A=l.jsx(c("CometRowItem.react"),{expanding:!0,children:l.jsx(c("FDSTextPairing.react"),{body:p,bodyColor:s,headline:q,headlineColor:z,headlineLineLimit:r,isSemanticHeading:!0,level:t})}),b[9]=p,b[10]=q,b[11]=t,b[12]=s,b[13]=z,b[14]=r,b[15]=A):A=b[15];b[16]!==e||b[17]!==x||b[18]!==a?(p=x!=null?l.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:l.jsx("div",babelHelpers["extends"]({className:"xcud41i x9otpla"},{children:l.jsx(c("FDSIcon.react"),{"aria-label":e!=null?h._(/*BTDS*/"Ignorer la bo\u00eete de dialogue {card name}",[h._param("card name",e)]):h._(/*BTDS*/"Ignorer la bo\u00eete de dialogue"),color:a==="highlight"?"white":"secondary",icon:d("fbicon")._(i("478232"),16),onPress:x,size:16,testid:void 0})}))}):null,b[16]=e,b[17]=x,b[18]=a,b[19]=p):p=b[19];b[20]!==v||b[21]!==g||b[22]!==A||b[23]!==p?(q=l.jsxs(c("CometRow.react"),{paddingTop:v,verticalAlign:"center",children:[g,A,p]}),b[20]=v,b[21]=g,b[22]=A,b[23]=p,b[24]=q):q=b[24];b[25]!==t||b[26]!==u?(s=u!=null&&l.jsx(c("CometRow.react"),{paddingTop:12,children:l.jsx(c("CometRowItem.react"),{children:l.jsx(c("FDSTextPairing.react"),{level:t,meta:u})})}),b[25]=t,b[26]=u,b[27]=s):s=b[27];b[28]!==k||b[29]!==o||b[30]!==f||b[31]!==q||b[32]!==s||b[33]!==y||b[34]!==w?(z=l.jsxs("div",babelHelpers["extends"]({},y,{"data-testid":void 0,ref:f,children:[q,k,o,s]})),b[28]=k,b[29]=o,b[30]=f,b[31]=q,b[32]=s,b[33]=y,b[34]=w,b[35]=z):z=b[35];return z}g["default"]=a}),226);
__d("FDSCrossFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("478231"),12);b=a;g["default"]=b}),98);
__d("LSContactLink.react",["CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","MWXPressable.react","getLSContactHref","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={shrinking:{flexShrink:"xs83m0k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(19),e=a.children,f=a.contact,g=a.isText,h=a.label;a=a.testid;g=g===void 0?!0:g;var k=f.blockedByViewerStatus,l=f.contactTypeExact,m=f.id;f=f.secondaryName;var n;b[0]!==k||b[1]!==l||b[2]!==m||b[3]!==f?(n=c("getLSContactHref")({blockedByViewerStatus:k,contactTypeExact:l,id:m,secondaryName:f}),b[0]=k,b[1]=l,b[2]=m,b[3]=f,b[4]=n):n=b[4];k=n;m=d("MWLSContactTypeExactUtils").isIgContact(l);f=!c("CurrentEnvironment").facebookdotcom||m?"_blank":void 0;if(k==null)return e;if(g){b[5]!==e||b[6]!==h||b[7]!==f||b[8]!==a||b[9]!==k?(n=i.jsx(c("MWXLink.react"),{href:k,label:h,target:f,testid:void 0,children:e}),b[5]=e,b[6]=h,b[7]=f,b[8]=a,b[9]=k,b[10]=n):n=b[10];return n}b[11]!==f||b[12]!==k?(l={target:f,url:k},b[11]=f,b[12]=k,b[13]=l):l=b[13];b[14]!==e||b[15]!==h||b[16]!==l||b[17]!==a?(m=i.jsx(c("MWXPressable.react"),{expanding:!0,label:h,linkProps:l,overlayRadius:"normal",testid:void 0,xstyle:j.shrinking,children:e}),b[14]=e,b[15]=h,b[16]=l,b[17]=a,b[18]=m):m=b[18];return m}g["default"]=a}),98);
__d("MAWCutoverEncryptedBackupsBanner.react",["CometErrorBoundary.react","cr:3127","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(4);a=a.isShown;var f;e[0]!==a?(f=a&&b("cr:3127")?i.jsx(c("CometErrorBoundary.react"),{fallback:j,children:i.jsx(b("cr:3127"),{})}):null,e[0]=a,e[1]=f):f=e[1];e[2]!==f?(a=i.jsx(i.Fragment,{children:f}),e[2]=f,e[3]=a):a=e[3];return a}function j(){return null}g["default"]=a}),98);
__d("MAWEphemeralGatingUtil",["$InternalEnum","MetaConfig","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";e=b("$InternalEnum")({SEEN_BASED:0,SEND_BASED:1});var h="0,60,900,86400";function a(){var a=c("MetaConfig")._("56");(a===null||a==="")&&(a=h);a=a.replace('"',"").split(",").map(function(a){return parseInt(a,10)});c("gkx")("2260")&&a.push(10,30,60,120);return a}function d(){var a=c("MetaConfig")._("65");return c("justknobx")._("1546")&&a}g.EphemeralityType=e;g.getExpirationOptions=a;g.isResetEphemeralSettingsEnabled=d}),98);
__d("MAWFetchSecureMessages",["I64","LSMEBTaskCreationSource","MAWBridgeSendAndReceive","MAWDbMsg","MAWMiActOnActThreadReady","ReQL","WATagsLogger","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""]);i=function(){return a};return a}var j=c("requireDeferred")("MWRestoreMessagesFromEB").__setRef("MAWFetchSecureMessages"),k=10;function a(a,b,c,d,e,f,g){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,l,m){l===void 0&&(l=k);var n=m.addQPLAnnotations,o=m.markQPLFailure,p=m.markQPLPoint,q=m.markQPLStart;m=m.markQPLSuccess;var r=q();n(r,{string:{threadType:(h||(h=d("I64"))).to_string(f)}});function s(a){p(r,"load_more_msgs_success","successfully loaded messages from worker"),n(r,a)}p(r,"before_start_load_more_msgs","before fetching messages range from table");n(r,{string:babelHelpers["extends"]({direction:g,thread_id:h.to_string(e)},f!=null?{thread_type:(h||(h=d("I64"))).to_string(f)}:{})});q=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages_ranges_v2__generated).getKeyRange(e)));try{if(q!=null&&!q.isLoadingBefore&&g==="before"){p(r,"start_load_more_msgs","starting the load more QPL event");f=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWFetchSecureMessages"));var t=f.chatJid;p(r,"put_message_range","put txn in messages_ranges_v2__generated table");yield b.messages_ranges_v2__generated.put({hasMoreAfter:q.hasMoreAfter,hasMoreBefore:q.hasMoreBefore,isLoadingAfter:q.isLoadingAfter,isLoadingBefore:!0,maxMessageId:q.maxMessageId,maxTimestampMs:q.maxTimestampMs,minMessageId:q.minMessageId,minTimestampMs:q.minTimestampMs,threadKey:q.threadKey});p(r,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs");e=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:t,direction:g,numMsgs:l,offsetMsgId:d("MAWDbMsg").toMsgId(q.minMessageId)}));s({bool:{hasMoreBefore:e.hasMoreBefore}});if(e.hasMoreBefore){m(r);return}var u=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:t,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(q.minMessageId)}));d("WATagsLogger").TAGS(["labyrinth_web","MAWFetchSecureMessages"]).LOG(i(),t,u.minMsgTimestampMs);p(r,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+u.minMsgTimestampMs);m(r);j.onReady(function(b){b({chatJid:t,newerNumMessages:(h||(h=d("I64"))).zero,numMessages:h.of_int32(l),sortOrderMs:h.of_float(u.minMsgTimestampMs),source:c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,storage:a})})}n(r,{bool:{isLoadingAfter:q==null?void 0:q.isLoadingAfter,isLoadingBefore:q==null?void 0:q.isLoadingBefore}});p(r,"already_loading_messages","end the load more QPL event.");m(r)}catch(a){o(r,a)}});return l.apply(this,arguments)}g["default"]=a}),98);
__d("useMAWQPLLogger",["MAWQPLLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){return i(function(){return c("MAWQPLLogger")(a)},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["Int64Hooks","MAWFetchSecureMessages","MAWSecureLocalDBDataSource","qpl","react-compiler-runtime","useMAWQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];return d("Int64Hooks").useMemoInt64(i,b)}function i(){return new(c("MAWSecureLocalDBDataSource"))()}function b(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("qpl")._(25303796,"1974"),b[0]=f):f=b[0];var g=d("useMAWQPLLogger").useMAWQPLLogger(f),i;b[1]!==e||b[2]!==g||b[3]!==a?(f=function(b,d,f,h){return c("MAWFetchSecureMessages")(e,b,d,a,f,h,g)},i=[e,g,a],b[1]=e,b[2]=g,b[3]=a,b[4]=f,b[5]=i):(f=b[4],i=b[5]);return d("Int64Hooks").useCallbackInt64(f,i)}g.useSecureDataStorage=a;g.useFetchSecureMessages=b}),98);
__d("MAWMediaManagerUtilsDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWMediaManagerUtils").__setRef("MAWMediaManagerUtilsDeferred");b=a;g["default"]=b}),98);
__d("MAWThreadEvent",["LSContactUtils","MAWBridge","MAWBridgeSendAndReceive","MAWContactRelationshipType","MAWJobDefinitions","MAWUIJob","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){d("MAWBridge").getBridge().setHandlers("threadEvent",{placeholderConvertSubscription:function(f){var g=f.chatJid;f=f.msgId;a===g&&c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:f}).then(function(a){if(a==null)return;d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(g,b&&d("MAWContactRelationshipType").getContactRelationshipType(b),b?d("LSContactUtils").isContactBlocked(b):!1,b?d("LSContactUtils").isContactRestricted(b):!1,a,e))}))}})}g.setThreadEventHandler=a}),98);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function m(){try{var a;return((a=document.activeElement)==null?void 0:a.getAttribute("data-release-focus-from"))==="CLICK"}catch(a){return!1}}function a(a){var b=d("react-compiler-runtime").c(22),e=a.children,f=a.disableAutoFocus,g=a.onBlur,i=a.onEscape,n=a.onFocus;a=a.xstyle;var o=k(null),p=d("MWChatFocusComposerContext").useMWChatFocusComposer();p=p.focusComposer;var q;q=p;f===!0&&(q=void 0);b[0]!==q?(p=function(){if(o.current!=null&&q!=null&&window.getSelection().toString()===""&&(o.current===document.activeElement||m()))return q()},b[0]=q,b[1]=p):p=b[1];q;f=p;b[2]!==g?(p=function(){return g==null?void 0:g()},b[2]=g,b[3]=p):p=b[3];var r;b[4]!==q||b[5]!==n?(r=function(a){a.target instanceof HTMLElement&&a.target.getAttribute("data-prevent_chattab_focus")==null&&(n==null?void 0:n()),o.current!=null&&q!=null&&o.current===a.target&&q()},b[4]=q,b[5]=n,b[6]=r):r=b[6];var s;b[7]!==i?(s=function(){return i==null?void 0:i()},b[7]=i,b[8]=s):s=b[8];var t;b[9]!==a?(t=(h||(h=c("stylex"))).props(l.root,a),b[9]=a,b[10]=t):t=b[10];b[11]!==e||b[12]!==f||b[13]!==t?(a=j.jsx("div",babelHelpers["extends"]({},t,{onClick:f,ref:o,role:"none",tabIndex:-1,children:e})),b[11]=e,b[12]=f,b[13]=t,b[14]=a):a=b[14];b[15]!==s||b[16]!==a?(e=j.jsx(c("CometHideLayerOnEscape.react"),{onHide:s,children:a}),b[15]=s,b[16]=a,b[17]=e):e=b[17];b[18]!==p||b[19]!==r||b[20]!==e?(f=j.jsx(c("FocusWithinHandler.react"),{onBlurWithin:p,onFocusWithin:r,children:e}),b[18]=p,b[19]=r,b[20]=e,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("MWChatUnsendNUXSender.react",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMWXLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),f=m(!1),g=m(!1),j=m(!1),n=m(),o=c("useMessengerUnsendNUX")(8598),p=o[0],q=o[1],r=k(function(){var a=n.current;if(a!=null){a();n.current=void 0;return}},[]),s=k(function(){if(!j.current){j.current=!0;r();return q()}},[]);o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.react"));var t=o[0],u=k(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return p(function(a){f.current=!1,a?(t({onView:s},function(){}),g.current=!0):(r(),j.current=!0)})}},[a,r]);l(function(){n.current=d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(b).filter(function(b){return b.isUnsent&&(i||(i=d("I64"))).equal(b.senderId,a)}).subscribe(function(a,b){b.operation!=="delete"&&u(b.value)});return r},[b,u,r]);return null}g["default"]=a}),98);
__d("MessengerFriendGenericAddFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M17.25 12.305C17.25 16.207 19.446 18 22 18s4.75-1.793 4.75-5.695C26.75 9.123 24.75 7 22 7s-4.75 2.123-4.75 5.305zM29.94 28c.69 0 1.06-.595 1.06-1.335C31 22.985 26.835 20 22 20s-9 2.985-9 6.665c0 .74.37 1.335 1.06 1.335h15.88zM8 12a1 1 0 1 1 2 0v2.75c0 .138.112.25.25.25H13a1 1 0 1 1 0 2h-2.75a.25.25 0 0 0-.25.25V20a1 1 0 1 1-2 0v-2.75a.25.25 0 0 0-.25-.25H5a1 1 0 1 1 0-2h2.75a.25.25 0 0 0 .25-.25V12z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("XCometSettingsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/settings/",Object.freeze({show_dialog:!1,show_recommendable_nux:!1}),void 0);b=a;g["default"]=b}),98);
__d("updateEphemeralDuration",["JSResourceForInteraction","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h){var i=d("WATimeUtils").millisTime();return c("JSResourceForInteraction")("MAWEphemeralSettingsUpdate").__setRef("updateEphemeralDuration").load().then(function(a){return a.updateEphemeralSettings(b,i,e,h)}).then(function(a){f();return!0})["catch"](function(a){g();return!1})}g["default"]=a}),98);
__d("useRegisterMAWThreadEvent",["I64","Int64Hooks","LSAuthorityLevel","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReady","MAWThreadEvent","Promise","promiseDone","react-compiler-runtime","useAsyncReStoreBulkFix","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var e=d("react-compiler-runtime").c(11),f=a.authorityLevel,g=a.threadKey,k=a.threadType,l;e[0]!==f?(l=(i||(i=d("I64"))).ge(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[0]=f,e[1]=l):l=e[1];var m=l,n=d("useAsyncReStoreBulkFix").useReStoreHook(),o=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=[].concat(d("LSContactBitOffset").contactCapabilityFields,["contactViewerRelationship","blockedByViewerStatus"]),e[2]=f):f=e[2];var p=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,f);e[3]!==p||e[4]!==n||e[5]!==m||e[6]!==o||e[7]!==g||e[8]!==k?(l=function(){d("useAsyncReStoreBulkFix").onDbReady(n,function(a){d("LSMessagingThreadTypeUtil").isArmadilloSecure(k)&&m&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,g,"useRegisterMAWThreadEvent",function(a,c){d("MAWThreadEvent").setThreadEventHandler(c,p,o);return(h||(h=b("Promise"))).resolve()}))})},a=[g,k,m,n,o,p],e[3]=p,e[4]=n,e[5]=m,e[6]=o,e[7]=g,e[8]=k,e[9]=l,e[10]=a):(l=e[9],a=e[10]);d("Int64Hooks").useEffectInt64(l,a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("makeImmutable",[],(function(a,b,c,d,e,f){"use strict";function a(a){throw new Error("This empty "+((a=a)!=null?a:"Object")+" cannot be mutated.")}function b(a,b){return a}f["default"]=b}),66);
__d("emptyArray",["makeImmutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("makeImmutable")([],["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);b=a;g["default"]=b}),98);
__d("MAWDbThreadBumpMiddlewareUtils",["I64","MAWAckLevel","MAWCalculateBumpTimestampMs","MAWDbMsg","MAWDbMsgOrReaction","MAWDbReaction","MAWGetThreadUpdateType","MAWThreadUpdateType","MAWUpdateThreadBumpTimestamp","MAWUserJidWrapper","WAJids","WATimeUtils","emptyArray","err","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.reduce(function(a,b){return a.set(b.threadJid,[].concat((a=a.get(b.threadJid))!=null?a:c("emptyArray"),[b]).toSorted(function(a,b){return i(b,a)}))},new Map());var b=new Map();a.forEach(function(a,e){var f=null,g=d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.SNIPPET_ONLY;for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=a.length)break;k=a[i++]}else{i=a.next();if(i.done)break;k=i.value}k=k;var l=d("MAWGetThreadUpdateType").getThreadUpdateTypeForMsg(k);switch(l){case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.NO_SNIPPET_OR_ACTIVITY_TS_UPDATE:case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.SNIPPET_ONLY:continue;case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.BUMP_THREAD:f=j(f,k);g=d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.BUMP_THREAD;break;case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD:f=j(f,k);g=d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD;break;default:throw c("err")("[MAWCentralizedThreadUpdate] Unhandled threadUpdateType "+l)}if(f!=null)break}b.set(e,{bumpMsg:f,threadUpdateType:g})});return b}function i(a,b){var c;c=(c=a.sortOrderMs)!=null?c:(h||(h=d("I64"))).to_float(d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMsForMsg({msg:a,throwIfNoServerTs:!1}));a=(a=b.sortOrderMs)!=null?a:(h||(h=d("I64"))).to_float(d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMsForMsg({msg:b,throwIfNoServerTs:!1}));return c-a}function j(a,b){if(a==null||b==null){var d;return c("nullthrows")((d=a)!=null?d:b,"both messages are null")}return i(a,b)>0?a:b}function b(a){return a.msgId!=null?d("WATimeUtils").castToMillisTime(d("MAWDbMsg").getSortOrderWithFallback(a)):d("MAWDbReaction").getReactionTimeMs(a)}function e(a){return a.reduce(function(a,b){b.type==null?(a.reactions==null&&(a.reactions=0),a.reactions+=1):(a[b.type]==null&&(a[b.type]=0),a[b.type]+=1);return a},{})}function f(a){return d("MAWDbMsgOrReaction").switchOnMsgOrReactionNullish(a,{forMessage:function(a){return d("WAJids").isAuthorMe(a.author)||a.author===d("MAWUserJidWrapper").getMyUserJid()},forNull:function(){return!1},forReaction:function(){return!1}})}function k(a){return l(a)?!1:!0}function l(a){return d("MAWDbMsgOrReaction").switchOnMsgOrReaction(a,{forMessage:function(a){return a.ack===d("MAWAckLevel").ACK.clock},forReaction:function(){return!1}})}var m=new Map();function n(a){return a.filter(function(a){var b=m.get(a.threadJid);a=d("MAWUpdateThreadBumpTimestamp").getBumpTimestampMs(a);return b==null||(h||(h=d("I64"))).gt(a,b)})}function o(a){var b=m.get(a.threadJid),c=d("MAWUpdateThreadBumpTimestamp").getBumpTimestampMs(a);(b==null||(h||(h=d("I64"))).gt(c,b))&&m.set(a.threadJid,c)}g.createThreadUpdateInfoWithoutSnippetMsgFromInsertedMsgs=a;g.getMsgOrReactionTimeMs=b;g.getMessageTypesFromValues=e;g.isMsgSentByMyself=f;g.isMsgOrReactionEligibleToUpdateThread=k;g.filterOutOlderUpdates=n;g.setCacheMsgOrReactionForBump=o}),98);
__d("MAWCentralizedThreadUpdateReq",["FBLogger","MAWDbThreadBumpMiddlewareUtils","MAWDexieTable","err"],(function(a,b,c,d,e,f,g){"use strict";var h=3;function a(a,b,e){switch(e.type){case"add":return d("MAWDexieTable").dexieResolve({type:"bulkAdd",values:e.values,valuesBefore:[]});case"put":return i(a,b,{keys:e.values.map(function(a){return a.rowId}),trans:e.trans}).then(function(a){return{type:"bulkPut",values:e.values,valuesBefore:a}});case"delete":return i(a,b,e).then(function(a){return{type:"bulkDelete",values:[],valuesBefore:a}});case"deleteRange":e.range.type!==h&&c("FBLogger")("messenger_web").mustfix("Unexpected deleteRange call, object:"+JSON.stringify(e.range));return d("MAWDexieTable").dexieResolve({type:"deleteRange",values:[],valuesBefore:[]})}}function b(a){switch(a.type){case"add":return{type:"bulkAdd",values:a.values.filter(d("MAWDbThreadBumpMiddlewareUtils").isMsgOrReactionEligibleToUpdateThread),valuesBefore:[]};case"put":return{type:"bulkPut",values:a.values.filter(d("MAWDbThreadBumpMiddlewareUtils").isMsgOrReactionEligibleToUpdateThread),valuesBefore:[]};case"deleteRange":c("FBLogger")("messenger_web").mustfix("Unexpected deleteRange call, object:"+JSON.stringify(a.range));return{type:"deleteRange",values:[],valuesBefore:[]};default:throw c("err")("[MAWCentralizedThreadUpdateReq] Unknown request type")}}function e(a){var b=[];switch(a.type){case"add":case"put":b=a.values.filter(d("MAWDbThreadBumpMiddlewareUtils").isMsgOrReactionEligibleToUpdateThread).map(function(a){return a.threadJid});break;case"deleteRange":a.range.type!==h&&c("FBLogger")("messenger_web").mustfix("Unexpected deleteRange call, object:"+JSON.stringify(a.range));break}return b}function f(a,b,c){return i(a,b,c).then(function(a){return a.map(function(a){return a.threadJid})})}function i(a,b,c){var d=c.keys;c=c.trans;return a.table(b).getMany({keys:d,trans:c}).then(function(a){return a.filter(Boolean)})}g.parseDexieMutateRequest=a;g.parseDexieMutateRequestSynchronous=b;g.parseDexieOtherMutateRequestForThrottle=e;g.parseDexieDeleteRequestForThrottle=f}),98);
__d("MAWOutgoingMsgCache",[],(function(a,b,c,d,e,f){"use strict";a=1;b=2;c=Object.freeze({OPTIMISTIC:a,PROCESSED:b});d=new Map();f.OUTGOING_MSG_STATE=c;f.OUTGOING_MSG_CACHE=d}),66);
__d("MAWDbMessageHandler",["MAWAckLevel","MAWDbMsg","MAWDbThreadBumpMiddlewareUtils","MAWDbThreadTxns","MAWDexieTable","MAWOutgoingMsgCache","MAWThreadUpdateType","MAWTransactionMode","MAWTransactor","MAWUpdateThreadBumpTimestamp","Promise","WAOdsEnums","emptyFunction","err"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){switch(a.type){case"bulkAdd":case"bulkPut":case"bulkDelete":var c=d("MAWDbThreadBumpMiddlewareUtils").filterOutOlderUpdates(a.values);return c.length===0?(h||(h=b("Promise"))).resolve():i({type:a.type,values:c,valuesBefore:a.valuesBefore});case"deleteRange":break;default:a.type;break}return(h||(h=b("Promise"))).resolve()};var i=d("MAWTransactor").makeMsgrTransactor({groupInfo:(e=d("MAWTransactionMode")).READONLY,messages:e.READONLY,reactions:e.READONLY,threads:e.READONLY,xma:e.READONLY},"updateThreadForMessages",function(a){return function(b){switch(b.type){case"bulkAdd":case"bulkPut":return k(a,b.values);case"bulkDelete":return j(a,b.valuesBefore);case"deleteRange":break;default:b.type;break}return d("MAWDexieTable").dexieResolve()}});function j(a,b){b=Array.from(new Set(b.map(function(a){return a.threadJid})));b=b.map(function(b){var e=d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.SNIPPET_ONLY;return d("MAWDbThreadTxns").getThread(a,b).then(function(f){if(!f.success)throw c("err")("[MAWDbMessageHandler] thread not found"+b);return d("MAWUpdateThreadBumpTimestamp").updateThreadViaCentralizedThreadUpdate({bumpMsgOrReaction:null,db:a,odsBumpParams:{entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"$MAWDbMessageHandlerDelete"},sentByLocalDevice:!1,thread:f.value,threadUpdateType:e}).then(c("emptyFunction"))})});return d("MAWDexieTable").dexieAll(b).then(c("emptyFunction"))}function k(a,b){b=d("MAWDbThreadBumpMiddlewareUtils").createThreadUpdateInfoWithoutSnippetMsgFromInsertedMsgs(b);b=Array.from(b.entries()).map(function(b){var e=b[0];b=b[1];var f=b.bumpMsg,g=b.threadUpdateType;return d("MAWDbThreadTxns").getThread(a,e).then(function(b){if(!b.success)throw c("err")("[MAWDbMessageHandler] thread not found"+e);f!=null&&d("MAWDbThreadBumpMiddlewareUtils").setCacheMsgOrReactionForBump(f);return d("MAWUpdateThreadBumpTimestamp").updateThreadViaCentralizedThreadUpdate({bumpMsgOrReaction:f,db:a,odsBumpParams:{entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"$MAWDbMessageHandlerInsert"},sentByLocalDevice:l(f),thread:b.value,threadUpdateType:g}).then(c("emptyFunction"))})});return d("MAWDexieTable").dexieAll(b).then(c("emptyFunction"))}function l(a){if(a==null)return!1;var b=d("MAWDbMsg").getWAMsgId(a),c=d("MAWOutgoingMsgCache").OUTGOING_MSG_CACHE.get(b);if(d("MAWAckLevel").isMsgAuthoritative(a.ack)&&c===d("MAWOutgoingMsgCache").OUTGOING_MSG_STATE.OPTIMISTIC){d("MAWOutgoingMsgCache").OUTGOING_MSG_CACHE.set(b,d("MAWOutgoingMsgCache").OUTGOING_MSG_STATE.PROCESSED);return!0}return!1}g.updateThreadForMessagesWithCache=a;g.updateThreadForMessages=i}),98);
__d("MAWDbReactionHandlerUtils",["MAWDbReaction","MAWThreadNewestMsgOrReactionUtils","MAWThreadUpdateType","MAWUpdateThreadBumpTimestamp","WAGlobals","WAJids","WAOdsEnums"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return(a==null?void 0:a.reaction)==null},i=function(a){return a.reaction!=null};e=function(a){return a.rowId};f=function(a,b){return d("MAWDbReaction").getReactionTimeMs(b)-d("MAWDbReaction").getReactionTimeMs(a)};function j(a){var b=k(a.reactToAuthor);a=!k(a.author);return b&&a}function k(a){return a===d("WAJids").AUTHOR_ME||a===d("WAGlobals").getMyUserJid()}var l=function(a){return a.reduce(function(a,b){var c;c=(c=a.get(b.threadJid))!=null?c:[];c.push(b);return a.set(b.threadJid,c)},new Map())};function a(a,b){var c=b.bumpMsgOrReaction,e=b.db,f=b.thread;b=b.unbumpTrigger;return d("MAWUpdateThreadBumpTimestamp").updateThreadViaCentralizedThreadUpdate({bumpMsgOrReaction:c,db:e,odsBumpParams:{entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"$MAWDbReactionHandler-"+(a==="bumped"?"Bump":"Unbump")},sentByLocalDevice:!1,thread:f,threadUpdateType:d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD,unbumpTrigger:b})}function b(a){var b=a.values;a=a.valuesBefore;var c=a.reduce(function(a,b){return b!=null?a.set(b.rowId,b):a},new Map()),d=new Map();b.forEach(function(a){if(i(a))d.set(a,"addedReaction");else if(h(a)){a=c.get(a.rowId);a!=null&&i(a)&&d.set(a,"removedReaction")}});return{mapReactionToUpdate:d,reactions:Array.from(d.keys())}}function c(a,b){return d("MAWThreadNewestMsgOrReactionUtils").getNewestReactionToNonNullMsg(a,b.filter(j)).then(function(a){a=a.newestReaction;return a})}g.isRemovedReaction=h;g.isAddedReaction=i;g.toRowId=e;g.sortReactionsByNewest=f;g.canReactionBumpThread=j;g.groupReactionsByThread=l;g.updateThreadForReactionViaCentralizedThreadUpdate=a;g.parseReactionUpdates=b;g.getNewestReactionInMutationForBump=c}),98);
__d("MAWDbReactionHandler",["MAWDbReaction","MAWDbReactionHandlerUtils","MAWDbThreadBumpMiddlewareUtils","MAWDbThreadTxns","MAWDexieTable","MAWThreadNewestMsgOrReactionUtils","MAWTransactionMode","MAWTransactor","Promise","emptyFunction","err"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){var c=d("MAWDbThreadBumpMiddlewareUtils").filterOutOlderUpdates(a.values);return c.length===0?(h||(h=b("Promise"))).resolve():i({type:a.type,values:c,valuesBefore:a.valuesBefore})};var i=d("MAWTransactor").makeMsgrTransactor({groupInfo:(e=d("MAWTransactionMode")).READONLY,messages:e.READONLY,reactions:e.READONLY,threads:e.READONLY,xma:e.READONLY},"updateThreadForReactions",function(a){return function(b){b=d("MAWDbReactionHandlerUtils").parseReactionUpdates(b);var e=b.mapReactionToUpdate;b=b.reactions;b=Array.from(d("MAWDbReactionHandlerUtils").groupReactionsByThread(b)).map(function(b){var f=b[0];b=b[1];return d("MAWDexieTable").dexieAll([d("MAWDbThreadTxns").getThread(a,f),d("MAWThreadNewestMsgOrReactionUtils").getNewestMsgOrReactionForBump(a,f),d("MAWDbReactionHandlerUtils").getNewestReactionInMutationForBump(a,b)]).then(function(b){var g=b[0],h=b[1];b=b[2];if(g.success===!1)throw c("err")("[MAWDbReactionHandler] thread not found"+f);if(h==null||b==null)return;if(d("MAWDbReaction").getReactionTimeMs(b)<d("MAWDbThreadBumpMiddlewareUtils").getMsgOrReactionTimeMs(h))return;g={bumpMsgOrReaction:h,db:a,thread:g.value};switch(e.get(b)){case"addedReaction":d("MAWDbThreadBumpMiddlewareUtils").setCacheMsgOrReactionForBump(h);return d("MAWDbReactionHandlerUtils").updateThreadForReactionViaCentralizedThreadUpdate("bumped",g);case"removedReaction":return d("MAWDbReactionHandlerUtils").updateThreadForReactionViaCentralizedThreadUpdate("unbumped",babelHelpers["extends"]({},g,{unbumpTrigger:b}));default:throw c("err")("[MAWDbReactionHandler] invalid mutation type")}})});return d("MAWDexieTable").dexieAll(b).then(c("emptyFunction"))}});g.updateThreadForReactionsWithCache=a;g.updateThreadForReactions=i}),98);
__d("MAWThrottleThreadUpdateScheduler",["WorkerScheduler"],(function(a,b,c,d,e,f,g){"use strict";var h=250,i;function a(){i==null&&(i=d("WorkerScheduler").makeScheduler("throttle-thread-update",{concurrency:1,maxConcurrency:1,maxThrottleMs:h}));return i}g.throttleThreadUpdateScheduler=a}),98);
__d("MAWThrottleThreadUpdate",["FBLogger","MAWDbMsg","MAWDbMsgOrReaction","MAWDbThreadTxns","MAWDexieTable","MAWGetThreadUpdateType","MAWLoggerDeferred","MAWOutgoingMsgCache","MAWThreadNewestMsgOrReactionUtils","MAWThreadUpdateType","MAWThrottleThreadUpdateScheduler","MAWTransactionMode","MAWTransactor","MAWUpdateThreadBumpTimestamp","WALogger","WAOdsEnums","WorkerScheduler","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose([""," Reaction unexpectedly in outgoing message cache for thread ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," Downgrading bump for processed outgoing message in thread "," to SNIPPET_ONLY"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," Skipping bump for outgoing message in thread ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWCentralizedThreadUpdate][Throttled]: thread not found for jid ",""]);k=function(){return a};return a}var l=new Set(),m="[Occamadillo][Middleware][Throttled]";function a(){l.clear()}b=function(a,b){a.forEach(function(a){if(l.has(a))return;l.add(a);n(a,b)})};function n(a,b){c("promiseDone")(d("MAWThrottleThreadUpdateScheduler").throttleThreadUpdateScheduler().runTask({fn:function(){return p(a,b)},name:"thread_update",priority:d("WorkerScheduler").REGULAR_PRIORITY})["finally"](function(){l["delete"](a)}))}function o(a,b,c){return d("MAWDexieTable").dexieAll([d("MAWDbThreadTxns").getThread(c,a),d("MAWThreadNewestMsgOrReactionUtils").getNewestMsgOrReactionForBump(c,a)]).then(function(e){var f=e[0];e=e[1];if(f.success===!1||f.value==null){d("WALogger").WARN(k(),a);return}var g=d("MAWGetThreadUpdateType").getThreadUpdateTypeForMsgOrReaction(e);switch(q(e)){case d("MAWOutgoingMsgCache").OUTGOING_MSG_STATE.OPTIMISTIC:s(a);return;case d("MAWOutgoingMsgCache").OUTGOING_MSG_STATE.PROCESSED:g=r(g,a);break;default:break}return d("MAWUpdateThreadBumpTimestamp").updateThreadViaCentralizedThreadUpdate({bumpMsgOrReaction:e,db:c,isThrottled:!0,odsBumpParams:{entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"$MAWDbThrottledHandler"},sentByLocalDevice:!1,tableName:b,thread:f.value,threadUpdateType:g})})}var p=d("MAWTransactor").makeMsgrTransactor({messages:(e=d("MAWTransactionMode")).READONLY,reactions:e.READONLY,threads:e.READONLY,xma:e.READONLY},"updateThreadsForJidsDuringThrottle",function(a){return function(b,c){return o(b,c,a)}});function q(a){return d("MAWDbMsgOrReaction").switchOnMsgOrReactionNullish(a,{forMessage:function(a){return d("MAWOutgoingMsgCache").OUTGOING_MSG_CACHE.get(d("MAWDbMsg").getWAMsgId(a))},forNull:function(){return null},forReaction:function(a){u(a.threadJid);return null}})}function r(a,b){switch(a){case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.BUMP_THREAD:case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD:t(b);return d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.SNIPPET_ONLY;case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.SNIPPET_ONLY:case d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.NO_SNIPPET_OR_ACTIVITY_TS_UPDATE:default:return a}}function s(a){c("FBLogger")("messenger_web").info(m+" Skipping bump for outgoing message in thread %s",a),c("promiseDone")(d("MAWLoggerDeferred").LOG(j(),m,a))}function t(a){c("FBLogger")("messenger_web").info(m+" Downgrading bump for processed outgoing message in thread %s to SNIPPET_ONLY",a),c("promiseDone")(d("MAWLoggerDeferred").LOG(i(),m,a))}function u(a){c("FBLogger")("messenger_web").warn(m+" Reaction unexpectedly in outgoing message cache for thread %s",a),c("promiseDone")(d("MAWLoggerDeferred").LOG(h(),m,a))}g.clearCacheForThreadUpdateThrottle=a;g.throttleThreadUpdates=b;g.updateThreadWithJidTxn=p}),98);
__d("MAWGetThreadSnippetAndTimestampMiddleware",["FBLogger","MAWAckLevel","MAWCentralizedThreadUpdateReq","MAWDbMessageHandler","MAWDbMsg","MAWDbMsgOrReaction","MAWDbObjEncryption","MAWDbReactionHandler","MAWDbThreadBumpMiddlewareUtils","MAWDexieTable","MAWGetThreadUpdateType","MAWIndexedDb","MAWOutgoingMsgCache","MAWThreadUpdateMiddlewareGatingUtil","MAWThrottleThreadUpdate","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Adding optimistic msg to cache: ",", for threadJid: ",""]);h=function(){return a};return a}var i=["messages","reactions"];function j(a,b,c){var e=a.table(b);return!i.includes(b)?e:babelHelpers["extends"]({},e,{mutate:function(f){if(d("MAWIndexedDb").getDbStatus()!=="ready")return e.mutate(f);f={db:a,getEncryptionKey:c,req:f,table:e,tableName:b};return d("MAWThreadUpdateMiddlewareGatingUtil").isMiddlewareCacheOptimizationEnabled()?p(f):l(f)}})}function k(a){var b=a.db,c=a.req,e=a.table,f=a.tableName;if(c.type==="delete")return d("MAWCentralizedThreadUpdateReq").parseDexieDeleteRequestForThrottle(b,f,c).then(function(a){return e.mutate(c).then(function(b){d("MAWThrottleThreadUpdate").throttleThreadUpdates(a,f);return b})});var g=d("MAWCentralizedThreadUpdateReq").parseDexieOtherMutateRequestForThrottle(c);return e.mutate(c).then(function(a){d("MAWThrottleThreadUpdate").throttleThreadUpdates(g,f);return a})}function l(a){var b=a.req,e=a.table,f=a.tableName;switch(b.type){case"add":case"put":var g=m(b.values),h=g.incomingMsgOrReactions,i=g.outgoingMsgs;return e.mutate(b).then(function(e){if(i.length>0){c("FBLogger")("messenger_web").info("[Middleware] %s outgoing messages routed to unthrottled thread update",i.length);var g={type:b.type==="add"?"bulkAdd":"bulkPut",values:i,valuesBefore:[]};r(a,g)}if(h.length>0){g=h.map(function(a){return a.threadJid});d("MAWThrottleThreadUpdate").throttleThreadUpdates(g,f)}return e});case"delete":case"deleteRange":return k(a);default:b.type;throw c("err")("Unknown mutation type")}}function m(a){var b=[],c=[];a.forEach(function(a){d("MAWDbMsgOrReaction").switchOnMsgOrReaction(a,{forMessage:function(a){var e=d("MAWDbMsg").getWAMsgId(a);n(a)?(d("MAWOutgoingMsgCache").OUTGOING_MSG_CACHE.set(e,d("MAWOutgoingMsgCache").OUTGOING_MSG_STATE.OPTIMISTIC),d("WALogger").LOG(h(),e,a.threadJid)):o(a)?c.push(a):b.push(a)},forReaction:function(a){return b.push(a)}})});return{incomingMsgOrReactions:b.filter(d("MAWDbThreadBumpMiddlewareUtils").isMsgOrReactionEligibleToUpdateThread),outgoingMsgs:c}}function n(a){return a.ack===d("MAWAckLevel").ACK.clock}function o(a){return d("MAWOutgoingMsgCache").OUTGOING_MSG_CACHE.has(d("MAWDbMsg").getWAMsgId(a))}function p(a){var b=a.db,c=a.req,e=a.tableName;if(c.type==="delete"||t(a))return d("MAWCentralizedThreadUpdateReq").parseDexieMutateRequest(b,e,c).then(function(b){return q(b,a)});b=d("MAWCentralizedThreadUpdateReq").parseDexieMutateRequestSynchronous(c);return q(b,a)}function q(a,b){var d=b.req,e=b.table;return e.mutate(d).then(function(c){r(b,a);return c})["catch"](function(a){c("FBLogger")("messenger_web").mustfix("[Occamadillo][Middleware] Request pre-processing failed. Failed to use CentralizedThreadUpdate middleware for this request %s",a.message);return e.mutate(d)})}function r(a,b){var c=a.tableName;d("MAWIndexedDb").afterTransactionEffect(function(){var e=s(b,a);c==="messages"&&(d("MAWThreadUpdateMiddlewareGatingUtil").isMiddlewareCacheOptimizationEnabled()?d("MAWDexieTable").dexieResolve(d("MAWDbMessageHandler").updateThreadForMessagesWithCache(e)):d("MAWDexieTable").dexieResolve(d("MAWDbMessageHandler").updateThreadForMessages(e)));c==="reactions"&&(d("MAWThreadUpdateMiddlewareGatingUtil").isMiddlewareCacheOptimizationEnabled()?d("MAWDexieTable").dexieResolve(d("MAWDbReactionHandler").updateThreadForReactionsWithCache(e)):d("MAWDexieTable").dexieResolve(d("MAWDbReactionHandler").updateThreadForReactions(e)))})}function s(a,b){var c=b.getEncryptionKey,e=b.tableName;b=babelHelpers["extends"]({},a);b.values!=null&&(b.values=b.values.map(function(a){return d("MAWDbObjEncryption").decryptDbObj(a,e,c)}));b.valuesBefore!=null&&(b.valuesBefore=b.valuesBefore.map(function(a){return d("MAWDbObjEncryption").decryptDbObj(a,e,c)}));return b}function a(a){return{create:function(b){try{return babelHelpers["extends"]({},b,{table:function(c){return j(b,c,a)}})}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Error applying Thread Update Middleware");return b}},name:"MAWGetThreadSnippetAndTimestampMiddleware",stack:"dbcore"}}function t(a){var b=a.req;a=a.tableName;return a==="reactions"&&["add","put"].includes(b.type)&&b.values!=null&&b.values.some(function(a){return a.reaction==null&&d("MAWGetThreadUpdateType").canReactionAffectBump(a)})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ALT_PLACEHOLDER_FIXME",[],(function(a,b,c,d,e,f){"use strict";a=null;f["default"]=a}),66);
__d("BaseMenuFocusGroup",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusGroup.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var k=b[0];e=b[1];function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[{command:{key:c("CometKeys").UP},description:h._(/*BTDS*/"\u00c9l\u00e9ment pr\u00e9c\u00e9dent"),handler:m},{command:{key:c("CometKeys").DOWN},description:h._(/*BTDS*/"\u00c9l\u00e9ment suivant"),handler:l}],b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:e,children:j.jsx(k,babelHelpers["extends"]({},a))}),b[1]=a,b[2]=e):e=b[2];return e}function l(){}function m(){}f={FocusGroup:a,FocusItem:e};g["default"]=f}),226);
__d("BaseTextWithIcon.react",["BaseNonBreakingSpace.react","BaseView.react","XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={icon:{alignSelf:"xpvyfi4",flex:"x98rzlu",$$css:!0},iconContainer:{flexDirection:"x1q0g3np",$$css:!0},iconContainerWeb:{display:"xt0psk2",whiteSpace:"xuxw1ft",$$css:!0},iconWeb:{alignItems:"x6s0dn4",display:"x3nfvp2",verticalAlign:"xxymvpz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.iconAfter,g=a.iconBefore,h=a.iconOverrideVerticalStyle,k=a.observeDirectionality;a=a.spacing;h=h===void 0?null:h;k=k===void 0?!1:k;a=a===void 0?.5:a;var l=d("XPlatReactEnvironment").isWeb()?j.iconWeb:j.icon,m=d("XPlatReactEnvironment").isWeb()?j.iconContainerWeb:j.iconContainer,n;b[0]!==g||b[1]!==h||b[2]!==a?(n=g!=null&&i.jsxs(c("BaseView.react"),{xstyle:m,children:[i.jsx(c("BaseView.react"),{xstyle:[l,h],children:g}),i.jsx(c("BaseNonBreakingSpace.react"),{size:a})]}),b[0]=g,b[1]=h,b[2]=a,b[3]=n):n=b[3];b[4]!==f||b[5]!==h||b[6]!==a?(g=f!=null&&i.jsxs(c("BaseView.react"),{xstyle:m,children:[i.jsx(c("BaseNonBreakingSpace.react"),{size:a}),i.jsx(c("BaseView.react"),{xstyle:[l,h],children:f})]}),b[4]=f,b[5]=h,b[6]=a,b[7]=g):g=b[7];b[8]!==e||b[9]!==n||b[10]!==g?(m=i.jsxs(i.Fragment,{children:[n,e,g]}),b[8]=e,b[9]=n,b[10]=g,b[11]=m):m=b[11];l=m;if(k){b[12]!==l?(f=i.jsx(d("react-strict-dom").html.span,{dir:"auto",children:l}),b[12]=l,b[13]=f):f=b[13];return f}return l}g["default"]=a}),98);
__d("FDSMenuItemBaseRoleContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("FDSMenuItemIcon.react",["CometImage.react","FDSIcon.react","IconSource","ImageIconSource","SVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},roundedRect:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0}};function a(a){var b=a.disabled,e=a.icon,f=a.iconColor,g=a.iconCssSelectorId,h=a.iconSize,l=h===void 0?20:h;h=a.isDecorative;a=a.use;var m=a===void 0?"normal":a;a=j(function(){if(e instanceof c("IconSource")){var a;return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"primary",disabled:b,icon:e})}if(e instanceof c("ImageIconSource"))return i.jsx(c("FDSIcon.react"),{disabled:b,icon:e});if(e instanceof d("SVGIcon").SVGIcon){return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"primary",disabled:b,icon:e,size:l})}if(e instanceof d("SVGIcon").LegacySVGIcon||e instanceof d("SVGIcon").EmojiIcon){return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"primary",disabled:b,icon:e,size:l})}if(typeof e==="object"&&typeof e!=="function"&&e._isSVG!==!0&&typeof e.src==="string"){a=e.src;var g=m==="contained"?36:20;return i.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[i.jsx(c("CometImage.react"),{height:g,src:a,width:g,xstyle:[e.style==="circle"&&k.circle,e.style==="roundedRect"&&k.roundedRect]}),e.style!=="square"?i.jsx("div",{className:{0:"xlg9a9y x10l6tqk x17qophe x13vifvy",2:"x14yjl9h xudhj91 x18nykt9 xww2gxu xlg9a9y x10l6tqk x17qophe x13vifvy",1:"xlg9a9y x10l6tqk x17qophe x13vifvy x1lq5wgf xgqcy7u x30kzoy x9jhf4c",3:"xlg9a9y x10l6tqk x17qophe x13vifvy x1lq5wgf xgqcy7u x30kzoy x9jhf4c"}[!!(e.style==="circle")<<1|!!(e.style==="roundedRect")<<0],style:{height:g,width:g}}):null]}))}return i.jsx(c("FDSIcon.react"),{color:(a=f)!=null?a:"secondary",disabled:b,icon:e,size:l})},[b,e,f,l,m]);return i.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb"},2:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu xvnh2x x1g0q3yh"},1:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb xcrj56b x1ua1ozc"},3:{className:"x6s0dn4 xoi2r2e x78zum5 xl56j7k xq8finb x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu xcrj56b x1ua1ozc"}}[!!(m==="contained"||m==="contained_small_icon")<<1|!!(m==="normal")<<0],{"aria-hidden":h,id:g,children:a}))}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("FDSTextWithIcon.react",["BaseTextWithIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("BaseTextWithIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("GeneratedLoggerUtils",["invariant","Banzai","JstlMigrationFalcoEvent","getDataWithLoggerOptions"],(function(a,b,c,d,e,f,g){"use strict";var h=window.location.search.indexOf("showlog")>-1;function a(a,c,d,e){var f=b("getDataWithLoggerOptions")(c,e);c=a.split(":")[0];var g=a.split(":")[1];c=="logger"?b("JstlMigrationFalcoEvent").log(function(){return{logger_config_name:g,payload:f}}):b("Banzai").post(a,f,d);h}c={log:a,serializeVector:function(a){if(!a)return a;if(Array.isArray(a))return a;if(a.toArray){var b=a;return b.toArray()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"])return Array.from(a);g(0,3874,a)},serializeMap:function(a){if(!a)return a;if(a.toJS){var b=a;return b.toJS()}if(typeof a==="object"&&a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]){b=a;var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f[0]]=f[1]}return c}if(Object.prototype.toString.call(a)==="[object Object]")return a;g(0,3875,a)},checkExtraDataFieldNames:function(a,b){Object.keys(a).forEach(function(a){Object.prototype.hasOwnProperty.call(b,a)&&g(0,3876,a)})},warnForInvalidFieldNames:function(a,b,c,d){},throwIfNull:function(a,b){a||g(0,3877,b);return a}};e.exports=c}),null);
__d("MDSIconSizes",["MWXSvgIcon"],(function(a,b,c,d,e,f,g){"use strict";var h=24,i=16;function a(a){return a instanceof d("MWXSvgIcon").MWXSvgIcon?i:h}g.MDS_MENU_ITEM_ICON_SIZE=h;g.MDS_MENU_ITEM_ICON_SIZE_FOR_SVG=i;g.getIconSizeForMWMenuItem=a}),98);
__d("StringTransformations",[],(function(a,b,c,d,e,f){"use strict";a={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt(0).toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}};f["default"]=a}),66);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","ExecutionEnvironment","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageCleanupReason","WebStorageMonsterLoggingURI","ifRequired","isEmpty","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=1e4,l=5,m=!1;function n(a){var b={};for(var d in a){var e=a.getItem(d),f=c("StringTransformations").unicodeEscape(d);typeof e==="string"&&(b[f]=e.length)}return b}function o(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b||a==null||!a.keys)return;r._getLocalStorageKeys().forEach(function(c){a.keys.includes(c)&&b.removeItem(c)})}function p(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();b&&r._getLocalStorageKeys().forEach(function(c){a.some(function(a){return new RegExp(a).test(c)})||b.removeItem(c)})}function q(a,b){a===void 0&&(a=!1);b===void 0&&(b=k);if(c("UserActivity").isActive(b)){var d=Math.max(k,Math.floor(b/l));c("setTimeoutAcrossTransitions")(function(){q(a,d)},d)}else{r.cleanNow(a);var e=b*l;c("setTimeoutAcrossTransitions")(function(){q(a,e)},e)}}var r={_getLocalStorageKeys:function(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return a?Object.keys(a):[]},cleanNow:function(a){a===void 0&&(a=!1);var b=Date.now(),d={},e=(h||(h=c("WebStorage"))).getLocalStorage();e&&(d.local_storage=n(e));e=h.getSessionStorage();e&&(d.session_storage=n(e));e=!(i||(i=c("isEmpty")))(d);var f=Date.now();d.logtime=f-b;if(e){var g,j=c("WebStorageMonsterLoggingURI").uri;if(j===null)return null;var k=function(){new(c("AsyncRequest"))(j).setData(d).setHandler(function(b){b=b.getPayload();b&&b.keys&&(b.keys=b.keys.map(c("StringTransformations").unicodeUnescape));a||o(b);c("NetworkStatus").reportSuccess()}).setErrorHandler(function(){c("NetworkStatus").reportError()}).setOption("retries",2).send()};if(c("NetworkStatus").isOnline())k();else{f=function(a){a=a.online;a&&(k(),g.remove())};g=c("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a,b){d("WebStorageCleanupReason").setLastCleanupReason(b);c("CacheStorage").disablePersistentWrites();c("ifRequired")("WebAsyncStorage",function(a){a.disablePersistentWrites()});a?p(a):p([]);b=(h||(h=c("WebStorage"))).getSessionStorage();b&&b.clear();c("ifRequired")("WebAsyncStorage",function(a){a.clear(function(){})})},registerLogoutForm:function(a,b){c("Event").listen(a,"submit",function(a){r.cleanOnLogout(b,"WebStorageMonster.registerLogoutForm")})},schedule:function(a){a===void 0&&(a=!1);if(m||!(j||(j=c("ExecutionEnvironment"))).isInBrowser)return;m=!0;q(a)}};a=r;g["default"]=a}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("getViewportDimensions",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=null;return function(){var b=document.body;if(b==null)return null;(a==null||!b.contains(a))&&(a=document.createElement("div"),a.style.left=Number.MAX_SAFE_INTEGER+"px",a.style.width="100%",a.style.height="100%",a.style.position="fixed",b.appendChild(a));return a}}();function i(){var a;document.documentElement&&(a=document.documentElement.clientWidth);a==null&&document.body&&(a=document.body.clientWidth);return a||0}function j(){var a;document.documentElement&&(a=document.documentElement.clientHeight);a==null&&document.body&&(a=document.body.clientHeight);return a||0}function k(){return{width:window.innerWidth||i(),height:window.innerHeight||j()}}k.withoutScrollbars=function(){return c("UserAgent").isPlatform("Android")?k():{width:i(),height:j()}};k.layout=function(){var a,b=h();return{width:(a=b==null?void 0:b.clientWidth)!=null?a:i(),height:(a=b==null?void 0:b.clientHeight)!=null?a:j()}};g["default"]=k}),98);
__d("useCometHomeChatSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9976213915752418"}),null);
__d("useDebouncedState",["clearTimeout","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=b.useState,l=100;function a(a,b){var d,e=(d=b==null?void 0:b.debounceMS)!=null?d:l;d=(b==null?void 0:b.doNotDebounce)!==!0;b=k(a);a=b[0];var f=b[1],g=i(n,[]);b=i(m,[g,e]);var h=j(null);return[a,d?b:f,g];function m(a){g(),h.current=c("setTimeoutAcrossTransitions")(function(){return f(a)},e)}function n(){c("clearTimeout")(h.current),h.current=null}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBMessagePointQueryWithPersistenceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9424683750918152"}),null);
__d("EBMessagePointQueryWithPersistenceQuery.graphql",["EBMessagePointQueryWithPersistenceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"app_id"},c={defaultValue:null,kind:"LocalArgument",name:"restore_payload_string"},d={defaultValue:null,kind:"LocalArgument",name:"restore_type"},e=[{kind:"Variable",name:"app_id",variableName:"app_id"},{kind:"Variable",name:"restore_payload_string",variableName:"restore_payload_string"},{kind:"Variable",name:"restore_type",variableName:"restore_type"}],f={alias:null,args:null,kind:"ScalarField",name:"encryption_version",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"epoch_anon_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"epoch_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"encrypted_protobuf_stanza",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"protobuf_timestamp_ms",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"sk_ciphertext",storageKey:null},l=[g,h];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"EBMessagePointQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages_point_restore",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"handleRestoreMessagesGraphQLResponse_XFBEncryptedBackupMessages"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"EBMessagePointQueryWithPersistenceQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:e,concreteType:"XFBEncryptedBackupMessages",kind:"LinkedField",name:"messages_point_restore",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMessage",kind:"LinkedField",name:"encrypted_messages",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEchoDocument",kind:"LinkedField",name:"echo_document",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"echo_document_string",storageKey:null},f,g,h,{alias:null,args:null,kind:"ScalarField",name:"epoch_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"otid",storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanzas",kind:"LinkedField",name:"protobuf_stanzas",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"top_level_protobuf",plural:!1,selections:[i,f,g,h,j,k],storageKey:null},{alias:null,args:null,concreteType:"XFBProtobufStanza",kind:"LinkedField",name:"supplemental_protobufs",plural:!0,selections:[i,f,g,h,j,k,{alias:null,args:null,kind:"ScalarField",name:"supplemental_key",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_id",storageKey:null},{alias:null,args:null,concreteType:"XFBMessageRangeInfo",kind:"LinkedField",name:"message_range_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_more_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_more_after",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_before",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"next_message_timestamp_ms_after",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_delete_mailbox",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_not_found",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochDerivationSet",kind:"LinkedField",name:"epoch_derivation_set",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupsEpochEdge",kind:"LinkedField",name:"epoch_edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"backward_edge",storageKey:null},{alias:null,args:null,concreteType:"XFBEpochForwardEdge",kind:"LinkedField",name:"forward_edge",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"auth_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_entropy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entropy_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"epoch_storage_public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"psk_fingerprint",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"from_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"XFBEpochIds",kind:"LinkedField",name:"to_epoch",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"from_epoch_fingerprint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"to_epoch_fingerprint",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessagePointQueryWithPersistenceQuery_facebookRelayOperation"),metadata:{},name:"EBMessagePointQueryWithPersistenceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBMessagePointQueryWithPersistence",["Base64Utils","EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBIsEbEnabled","EBMessagePointQueryWithPersistenceQuery.graphql","EBSMHydrationUtils","I64","LSDecryptMessageProtobufsStoredProcedure","LSDecryptMessagesStoredProcedure","LSDeleteAndReenrollDeviceStateStoredProcedure","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSMEBDeviceReenrollmentReason","LSMEBTaskCreationSource","LSShape","LSVec","MAWBridge","MAWCurrentUser","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWEncryptedBackupsPersistedDB","MAWJobDefinitions","MAWMainTraceUtils","QPLUserFlow","WAHashStringToNumber","WALogger","WAResultOrError","WorkerRelay","WorkerRelayNetwork","asyncToGeneratorRuntime","cr:14165","gkx","handleRestoreMessagesGraphQLResponse","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL point restore error ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptMessageProtobufs failed with error: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[protobuf-only] decryptMessageProtobufs failed with an error"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[echo-only][echo] decryptMessageEcho failed with error: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[echo-only][echo] decryptMessageEcho failed with an error."]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is not complete - cannot proceed with graphQL restore"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] backup_id is null during graphQL restore"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] message range info is null - cannot proceed with graphQL restore"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] server side exception during graphql restore - ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL worker point restore query returned null for message response"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling EBLS without EBLS being available for message point query"]);x=function(){return a};return a}var y=h!==void 0?h:h=b("EBMessagePointQueryWithPersistenceQuery.graphql");function a(a){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,g=a.jid,h=a.messageId,z=a.sortOrderMs,A=a.source,B=a.threadId;a=a.traceId;if(!d("EBAPIWorkerCheck").runningInWorker())return d("WAResultOrError").makeError("unsupported-context");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql");var C=a!=null?a:d("MAWMainTraceUtils").createTraceId(),D=d("WAHashStringToNumber").hashStringToNumber(C),E=c("qpl")._(521474469,"2612");c("QPLUserFlow").start(E,{annotations:{bool:{mainThreadRestore:!1,workerThreadRestore:!0},"int":{source:(e=A)!=null?e:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestorePoint(A,C,"GQL_WORKER",!0);try{var F;if(b("cr:14165")==null){d("WALogger").ERROR(x());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"ebls_not_initialized");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("ebls-not-intialized")}c("QPLUserFlow").addPoint(E,"before_ebls_initialization",{instanceKey:D});yield b("cr:14165").genLSClient();c("QPLUserFlow").addPoint(E,"after_ebls_initialization",{instanceKey:D});e=(yield b("cr:14165").getLSStorage());var G=(yield d("EBIsEbEnabled").isEbEnabledLS(e.tables));if(c("gkx")("2489")){var H=d("MAWEncryptedBackupsPersistedDB").getEBLSDB();H=(yield d("EBSMHydrationUtils").loadEBdataToEphemeralRestore(H));var I=d("EBAPISharedUtils").getClientStateFromPersistedEBSM(H);H=d("EBAPISharedUtils").getAvailableEpochsFromPersistedEBSM(H);if(I===null){d("WALogger").ERROR(w());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"no_client_state");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("no-client-state")}var J=G!=null?G:d("EBAPISharedUtils").isBackupTenancyAuthoritative(I);if(!J){c("QPLUserFlow").addPoint(E,"eb_not_enabled",{instanceKey:D});c("QPLUserFlow").endSuccess(E,{instanceKey:D});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"eb_not_enabled",traceId:C});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(C,!0);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.success");return d("WAResultOrError").makeResult()}J=d("EBAPISharedUtils").getDeviceAndKeyMetadata(I,H)}else{I=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(e.tables));H=G!=null?G:I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION));if(!H){c("QPLUserFlow").addPoint(E,"eb_not_enabled",{instanceKey:D});c("QPLUserFlow").endSuccess(E,{instanceKey:D});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"eb_not_enabled",traceId:C});d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(C,!0);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.success");return d("WAResultOrError").makeResult()}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"lsdb_singleton_retrieved",traceId:C});c("QPLUserFlow").addPoint(E,"lsdb_singleton_retrieved",{instanceKey:D});J=(yield d("handleRestoreMessagesGraphQLResponse").getClientState(e))}if(J==null){d("WALogger").ERROR(v());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"no_client_state");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("no-client-state")}G=J;I=G.backupId;var K=G.device_id;H=G.locally_available_epochs;var L=G.mailboxRootKey;G=G.ocmfClientStateBlob;if(I==null||K==null||L==null||G==null){d("WALogger").ERROR(u());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWithAnnotationsWorker({annotations:{string:{device_id:(i||(i=d("I64"))).to_string((F=(F=J)==null?void 0:F.device_id)!=null?F:(i||(i=d("I64"))).zero)}},pointName:"client_state_retrieved",traceId:C});c("QPLUserFlow").addPoint(E,"client_state_retrieved",{data:{string:{device_id:i.to_string((J=(F=J)==null?void 0:F.device_id)!=null?J:(i||(i=d("I64"))).zero)}},instanceKey:D});F=d("MAWCurrentUser").getAppID();d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"app_id_retrieved",traceId:C});c("QPLUserFlow").addPoint(E,"app_id_retrieved",{instanceKey:D});J={restore_context:{act_thread_id:d("MAWJobDefinitions").toThreadJidPrimaryId(B),site:"www",tam_thread_subtype:0},success:babelHelpers["extends"]({device_context:{device_id:i.to_string(K),locally_available_epochs:H,raw_tokens:{mailbox_root_key:d("Base64Utils").fromArrayBuffer(L),ocmf_client_state_blob:d("Base64Utils").fromArrayBuffer(G)}},message_id:h},z!=null?{reference_timestamp:z}:{})};d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"graphql_query_start",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:D});yield d("WorkerRelayNetwork").createWorkerNetworkExecute();L=(yield d("WorkerRelay").createWorkerQuery(y,{app_id:String((H=F)!=null?H:"0"),restore_payload_string:JSON.stringify(J),restore_type:"POINT_QUERY_RESTORE"}));d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"graphql_query_end",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_END,{instanceKey:D});if(L==null||(L==null?void 0:(G=L.viewer)==null?void 0:(h=G.encrypted_backup)==null?void 0:h.mailbox)==null){c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"gql_point_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}G=L==null?void 0:(F=L.viewer)==null?void 0:(H=F.encrypted_backup)==null?void 0:(J=H.mailbox)==null?void 0:J.messages_point_restore;if(G==null){d("WALogger").ERROR(t());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_GRAPHQL_RESPONSE}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"gql_point_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}h=G;if((h==null?void 0:h.encrypted_messages)==null){c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_MESSAGES}},instanceKey:D});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"null_messages",traceId:C});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"null_messages");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}L=h.backup_id;F=h.encrypted_messages;H=h.epoch_derivation_set;J=h.exception_string;G=h.message_range_info;h=h.should_delete_mailbox;if(J!=null){d("WALogger").ERROR(s(),J);h===!0&&(c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DELETE_MAILBOX,{instanceKey:D}),yield e.runInTransaction(function(a){return c("LSDeleteAndReenrollDeviceStateStoredProcedure")(c("LSFactory")(a),{reenrollmentReason:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMEBDeviceReenrollmentReason").RESTORE_FAILED_WITH_NO_DEVICE_FOUND),targetDeviceId:K})},"readwrite",void 0,void 0,f.id+":538"),d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"delete_mailbox",traceId:C}));c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,exception:J}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.SERVER_SIDE_EXCEPTION,exception:J}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("server-side-exception")}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"derive_and_store_epochs_start",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_START,{instanceKey:D});c("QPLUserFlow").addAnnotations(E,{bool:{hasEpochs:H!=null&&H.epoch_edges.length>0}},{instanceKey:D});yield d("handleRestoreMessagesGraphQLResponse").deriveAndStoreEpochs(H,e,K,C,!0);d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"derive_and_store_epochs_end",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DERIVE_AND_STORE_EPOCHS_END,{instanceKey:D});F.length===0&&(c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_MESSAGES_TO_RESTORE,{instanceKey:D}),d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"no_messages",traceId:C}));if(G==null){d("WALogger").ERROR(r());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"missing_message_range_info");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}L==null&&(d("WALogger").WARN(q()),c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.BACKUP_ID_NULL,{instanceKey:D}),d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"backup_id_null",traceId:C}));h=G.has_more_after;J=G.has_more_before;H=G.next_message_timestamp_ms_after;G=G.next_message_timestamp_ms_before;if(J==null||h==null||H==null||G==null){d("WALogger").ERROR(p());c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.MISSING_RANGE_INFO}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"message_range_info_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("missing-message-range-info")}F=d("handleRestoreMessagesGraphQLResponse").processMessageArray(F,L!=null?L:(i||(i=d("I64"))).to_string(I),E,D);var M=F.encryptedLSEchoMessages,N=F.encryptedMessagesWithProtobufs;if(N.length===0){d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_echo_start",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_START,{instanceKey:D});L=(yield e.runInTransaction(function(a){return c("LSDecryptMessagesStoredProcedure")(c("LSFactory")(a),{actThreadId:B,encryptedMessages:c("LSVec").ofArray(M)})},"readwrite",void 0,void 0,f.id+":752"));I=L[0];F=L[1];if(F!=null){L=d("LSShape").toRecord(F);d("WALogger").ERROR(o());d("WALogger").WARN(n(),L.error_message);c("QPLUserFlow").endFailure(E,"ECHO_DECRYPTION_FAILURE",{annotations:{string:{error_description:L.error_message}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!1,"ECHO_DECRYPTION_FAILURE",{string:{error_description:L.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("echo-decryption-failure")}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_echo_end",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_ECHO_END,{instanceKey:D});F=I;if(F!=null){L=c("LSVec").toArray(F).map(function(a){return d("LSShape").toRecord(a).value});c("promiseDone")(d("MAWBridge").getBridge().sendAndReceive("event","uiUpdate",{events:[{tag:"RestoreNativeOp",value:{chatJid:g,echoMessages:c("LSVec").ofArray(L),hasMoreAfter:h,hasMoreBefore:J,isPointQuery:!0,nextMessageTimestampMsAfter:(i||(i=d("I64"))).of_string(H),nextMessageTimestampMsBefore:i.of_string(G),referenceTimestamp:z!=null?(i||(i=d("I64"))).to_string(z):void 0,requestId:C,taskSource:(j||(j=d("LSIntEnum"))).ofNumber((I=A)!=null?I:c("LSMEBTaskCreationSource").UNKNOWN),threadId:B}}]}))}}else{d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_protobuf_start",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_START,{instanceKey:D});F=(yield e.runInTransaction(function(a){return c("LSDecryptMessageProtobufsStoredProcedure")(c("LSFactory")(a),{actThreadId:B,encryptedMessagesWithProtobufs:c("LSVec").ofArray(N)})},"readwrite",void 0,void 0,f.id+":856"));L=F[0];I=F[1];if(I!=null){e=d("LSShape").toRecord(I);d("WALogger").ERROR(m());d("WALogger").WARN(l(),e.error_message);c("QPLUserFlow").endFailure(E,"PROTOBUF_DECRYPTION_FAILURE",{annotations:{string:{error_description:e.error_message}},instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a,!1,"PROTOBUF_DECRYPTION_FAILURE",{string:{error_description:e.error_message}});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("protobuf-decryption-failure")}d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypt_messages_protobuf_end",traceId:C});c("QPLUserFlow").addPoint(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPT_MESSAGES_PROTOBUF_END,{instanceKey:D});if(L!=null){F=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(L);c("promiseDone")(d("MAWBridge").getBridge().sendAndReceive("event","uiUpdate",{events:[{tag:"RestoreNativeOp",value:{chatJid:g,decryptedMessagesProtobufs:F,hasMoreAfter:h,hasMoreBefore:J,isPointQuery:!0,nextMessageTimestampMsAfter:(i||(i=d("I64"))).of_string(H),nextMessageTimestampMsBefore:i.of_string(G),referenceTimestamp:z!=null?(i||(i=d("I64"))).to_string(z):void 0,requestId:C,taskSource:(j||(j=d("LSIntEnum"))).ofNumber((I=A)!=null?I:c("LSMEBTaskCreationSource").UNKNOWN),threadId:B}}]}))}else{c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPTED_PROTOBUFS_NULL,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.DECRYPTED_PROTOBUFS_NULL}},instanceKey:D});d("MAWEBRestoreTrackingUtils").addQPLRestorePointWorker({pointName:"decrypted_protobufs_null",traceId:C});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"decrypted_protobufs_null");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").makeError("invalid-graphql-response")}}c("QPLUserFlow").endSuccess(E,{annotations:{bool:{isEcho:N.length===0,isProtobuf:N.length>0}},instanceKey:D});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.success");return d("WAResultOrError").makeResult()}catch(b){d("WALogger").ERROR(k(),b);c("QPLUserFlow").endFailure(E,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{annotations:{string:{error_description:d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,errorStackTrace:(a=b.stack)!=null?a:""}},error:b,instanceKey:D});d("MAWEBRestoreTrackingUtils").markEBRestoreFail(C,!0,"gql_point_restore_exception");d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.point.gql.error");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",b)}});return z.apply(this,arguments)}g.pointRestoreQuery=y;g.messagePointQueryWithPersistence=a}),98);/*FB_PKG_DELIM*/
__d("Keys",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BACKSPACE:8,TAB:9,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRAKET:221,SINGLE_QUOTE:222});f["default"]=a}),66);
__d("MercuryIDs",[],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)c=a.length>b.length?a:b,d=a.length>b.length?b:a;else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{c=a[e]>b[e]?a:b;d=a[e]>b[e]?b:a;break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);
__d("fbjs/lib/invariant",["invariant"],(function(a,b,c,d,e,f){"use strict";e.exports=b("invariant")}),null);
__d("useStyleXTransition",["differenceSets","mapMapToArray","mapSet","nullthrows","react","react-compiler-runtime","setImmediate","sortBy","useForceUpdate","useIsMountedRef","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useLayoutEffect,l=b.useRef;e=window;var m=e.clearTimeout,n=e.requestAnimationFrame,o=e.setTimeout;function p(){var a=d("react-compiler-runtime").c(3),b=c("useStable")(q),e;a[0]!==b?(e=function(){return function(){return Array.from(b.values()).forEach(m)}},a[0]=b,a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],a[2]=f):f=a[2];j(e,f);return b}function q(){return new Map()}function r(){var a=d("react-compiler-runtime").c(3),b=c("useForceUpdate")(),e=c("useIsMountedRef")(),f;a[0]!==b||a[1]!==e.current?(f=function(){return function(){e.current&&b()}},a[0]=b,a[1]=e.current,a[2]=f):f=a[2];return c("useStable")(f)}function a(a,b,d,e){var f=r(),g=p(),h=c("useStable")(function(){return new Map()}),j=l(!0),q=d.enter,s=d.leave,t=d.base,u=d.duration,v=u===void 0?100:u,w=d.durationIn,x=d.durationOut,y=d.onEnter,z=d.onLeave,A=d.onEnterComplete,B=d.onLeaveComplete,C=i(function(a,b,c){return{item:b,key:a,order:c,xstyle:[t,j.current&&q],style:{transitionDuration:((b=w)!=null?b:v)+"ms"}}},[t,q,w,v]),D=new Map(a.map(function(a,c){return[b(a),{item:a,order:c}]})),E=c("differenceSets")(new Set(D.keys()),new Set(h.keys())),F=c("differenceSets")(new Set(h.keys()),new Set(D.keys())),G=new Map();u=Array.from(c("mapSet")(F,function(a){a=c("nullthrows")(h.get(a));a=a.order;return a})).sort(function(a,b){return a-b});u.forEach(function(b,c){b=b-c;while(b<a.length){c=(c=G.get(b))!=null?c:0;G.set(b,c+1);b+=1}});d=c("sortBy")([].concat(c("mapMapToArray")(h,function(a){var b=a.key;b=D.get(b);if(b){return babelHelpers["extends"]({},a,{item:b.item,order:b.order+((b=G.get(b.order))!=null?b:0)})}return a}),Array.from(c("mapSet")(E,function(a){var b=c("nullthrows")(D.get(a)),d=b.item;b=b.order;return C(a,d,b)}))),function(a){return a.order});k(function(){if(e===!0)return;a.forEach(function(a,d){var e,i=b(a),j=(e=h.get(i))!=null?e:C(i,a,d);E.has(i)&&n(function(){var b;j.xstyle=[t,q];m(g.get(i));g.set(i,o(function(){A&&A(a)},(b=w)!=null?b:v));c("setImmediate")(function(){j.xstyle=[t,q],y&&y(a),f()})});j.item=a;j.order=d+((e=G.get(d))!=null?e:0);h.set(i,j)});Array.from(F.values()).forEach(function(a){var b=h.get(a);if(b==null)return;var d=b.item;if(b.status!=="leaving"){var e;b.status="leaving";b.style={transitionDuration:((e=x)!=null?e:v)+"ms"};n(function(){var e;b.xstyle=[t,s];m(g.get(a));g.set(a,o(function(){h["delete"](a),B&&B(d),f()},(e=x)!=null?e:v));c("setImmediate")(function(){z&&z(d),f()})})}});j.current=!1});return d}g["default"]=a}),98);
__d("useStyleXTransitionSingle",["react-compiler-runtime","useStyleXTransition"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("react-compiler-runtime").c(2),f;e[0]!==a?(f=a!=null?[a]:[],e[0]=a,e[1]=f):f=e[1];a=c("useStyleXTransition")(f,h,b);return a[0]}function h(){return 0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FalcoAppUniverse",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({FACEBOOK:1,INSTAGRAM:2,OCULUS:3});c=a;f["default"]=c}),66);
__d("Queue",[],(function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a}),66);
__d("FalcoLoggerTransports",["AnalyticsCoreData","Banzai","ExecutionEnvironment","FalcoAppUniverse","FalcoUtils","ODS","PersistedQueue","Queue","WebSession","performanceAbsoluteNow","promiseDone","requireDeferredForDisplay","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("requireDeferredForDisplay")("TransportSelectingClientSingletonConditional").__setRef("FalcoLoggerTransports"),m=5*1024,n=(b=(i||(i=c("AnalyticsCoreData"))).max_delay_br_queue)!=null?b:60*1e3,o=(e=(i||(i=c("AnalyticsCoreData"))).max_delay_br_queue_immediate)!=null?e:1e3;b=(f=(i||(i=c("AnalyticsCoreData"))).max_delay_br_init_not_complete)!=null?f:1e3;var p="falco:",q=new(c("Queue"))(),r=5e3,s=6e4,aa=c("uuidv4")(),ba="ods_web_batch",t=new Map(),u=new Set(),v=new Set(),w=d("FalcoUtils").getTaggedBitmap(38),x=(e=c("FalcoAppUniverse").cast((i||(i=c("AnalyticsCoreData"))).app_universe))!=null?e:1,y=[],z=0,A=null,B=!1,C=!1,D=!1,E=!0,F=!1,G=Date.now()-s,H=1,I=b>n?b:n,J=b;Y();for(e=(f=(i||(i=c("AnalyticsCoreData"))).stateful_events_list_for_br)!=null?f:[],b=Array.isArray(e),f=0,e=b?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var K;if(b){if(f>=e.length)break;K=e[f++]}else{f=e.next();if(f.done)break;K=f.value}K=K;u.add(K)}for(f=(K=(i||(i=c("AnalyticsCoreData"))).stateless_non_fb_events_for_br)!=null?K:[],b=Array.isArray(f),e=0,f=b?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(b){if(e>=f.length)break;K=f[e++]}else{e=f.next();if(e.done)break;K=e.value}K=K;v.add(K)}function L(){return(i||(i=c("AnalyticsCoreData"))).enable_bladerunner&&!(k||(k=c("ExecutionEnvironment"))).isInWorker}function M(a,b){d("FalcoUtils").bumpODSMetrics(b.item.name,"event.info.streaming.batched",1);var c=b.item.extra.length;z+c>m&&(clearTimeout(A),N());y.push([a,b]);z+=c}function N(){A=null;B=!1;var a=y;S("event.info.streaming.batch_processing",a.map(function(a){return a[1].item}));!F?O(a,"event.non_critical_failure.streaming_init_not_complete"):q.enqueue(function(b){return b.log(a.map(function(a){return a[1].item}),function(b){if(!b){O(a,"event.info.banzai_fallback");return}P(a,b,"event.info.streaming.enqueued")})});y=[];z=0}function O(a,b){var e=function(){var e,g=a[f],h=g[0],j=g[1];g=j.item;d("FalcoUtils").bumpODSMetrics(g.name,b,1);g.identity||(g.identity=(i||(i=c("AnalyticsCoreData"))).identity);if((e=g.logCritical)!=null?e:!1)U.logCritical([g],function(a){return h.markItem(j,a)});else{((e=g.logImmediate)!=null?e:!1)?U.logImmediately([g],function(a){return h.markItem(j,a)}):U.log([g],function(a){return h.markItem(j,a)})}};for(var f=0;f<a.length;f++)e();return}function P(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=f[0];f=f[1];d("FalcoUtils").bumpODSMetrics(f.item.name,c,1);g.markItem(f,b)}}function ca(a){return{events:a.map(function(a){return{name:a.name,extra:a.extra,rate:a.policy.r,time:a.time/1e3,tag:0,tags:a.tags,shouldAddState:a.shouldAddState,identity:Q(a.identity),expTags:a.exptTags,sessionID:a.sessionId,deviceID:a.deviceId}})}}function da(a){var b;a={deviceId:(i||(i=c("AnalyticsCoreData"))).device_id,familyDeviceId:null,osBuildNumber:null,sessionId:a,appId:i.app_id,appVersion:(a=(i||(i=c("AnalyticsCoreData"))).app_version)!=null?a:null,bundleId:null,consentState:null,identity:null,pushPhase:i.push_phase};((b=(b=(i||(i=c("AnalyticsCoreData"))).stateful_events_list_for_br)==null?void 0:b.length)!=null?b:0)>0&&(a.ambientState=(i||(i=c("AnalyticsCoreData"))).state_for_br);a.identity=Q(i.identity);return Object.freeze(a)}function Q(a){var b=a==null?void 0:a.claim;b=b!=null?[b]:[];if(x===2||x===3){var c=a==null?void 0:a.appScopedIdentity;if(c!==void 0)return{appScopedIdentity:{uid:c,identifier:c,claims:b}}}else{c=a==null?void 0:a.fbIdentity;if(c!==void 0)return{facebookIdentity:{actorId:c.actorId,accountId:c.accountId,claims:b}}}return null}function R(a,b){for(var e=0;e<a.length;e++){var f,g,h=a[e];f=(g={},g.e=h.extra,g.r=h.policy.r,g.d=(f=h.deviceId)!=null?f:(i||(i=c("AnalyticsCoreData"))).device_id,g.s=(f=h.sessionId)!=null?f:d("WebSession").getId(),g.t=h.time,g);h.privacyContext&&(f.p=h.privacyContext);h.tags!=null&&(f.b=h.tags);g=h.identity;g&&(f.id=g);c("Banzai").post(p+h.name,f,b)}S("event.uploaded",a)}function S(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.name!==ba&&d("FalcoUtils").bumpODSMetrics(e.name,a,1)}}function T(a,b){var e="falco.fabric.www."+(i||(i=c("AnalyticsCoreData"))).push_phase;(h||(h=d("ODS"))).bumpEntityKey(1344,e,a,b)}var U={log:function(a,b){S("event.info.banzai.log.upload_processing",a),R(a,c("Banzai").BASIC),b(!0)},logImmediately:function(a,b){S("event.info.banzai.log_immediately.upload_processing",a),R(a,c("Banzai").VITAL),b(!0)},logCritical:function(a,b){S("event.info.banzai.log_critical.upload_processing",a),R(a,{signal:!0,retry:!0}),b(!0)}};function ea(a){Y();var b=V(a,"banzai_data_loss","log"),d=V(a,"banzai_data_loss","logImmediately"),e=V(a,"banzai_data_loss","logCritical"),f=V(a,"bladerunner_data_loss",""),g=V(a,"bladerunner_data_loss","logCritical");T("js.br_data_loss.posted."+a,1);if(F&&E)try{q.enqueue(function(b){return b.log([f],function(b){if(!b){T("js.br.transport_failure."+a,1);U.logCritical([g],function(b){T("js.br.failure_fallback_success_callback."+a,1)});return}T("js.br.success_callback."+a,1)})})}catch(b){T("js.br.error_enqueueing."+a,1),U.logCritical([g],function(b){T("js.br.enqueuing_fallback_success_callback."+a,1)})}else E||T("js.br.failed."+a,1),F||T("js.br.init_not_complete."+a,1),U.logCritical([g],function(b){T("js.br.init_fallback_success_callback."+a,1)});R([b],c("Banzai").BASIC);R([d],c("Banzai").VITAL);R([e],{signal:!0,retry:!0})}function V(a,b,d){return{name:b,time:(j||(j=c("performanceAbsoluteNow")))(),policy:{r:1},extra:JSON.stringify({event_index:a,falco_js_connection_id:aa,logging_mode:d,logging_flow_flag:"original_flow"})}}function W(){G+r<Date.now()&&(ea(H),G=Date.now(),H++)}function X(){window.setTimeout(function(){W(),H<=40&&X()},s)}function fa(a){q.start(function(b){return b({log:function(d,b){S("event.info.streaming.queue_processing",d);var e=JSON.stringify(ca(d));a?(i||(i=c("AnalyticsCoreData"))).enable_ack?c("promiseDone")(a.amendWithAck(e),function(a){a?(S("event.streamed.with_ack",d),S("event.uploaded",d)):S("event.non_critical_failure.streaming.ack_failed",d),b(a)},function(){S("event.non_critical_failure.streaming.ack_rejected",d),b(!1)}):(a.amendWithoutAck(e),S("event.streamed.without_ack",d),S("event.uploaded",d)):(S("event.non_critical_error.streaming.stream_not_available",d),b(!1))},logImmediately:function(b,a){this.log(b,a)},logCritical:function(b,a){this.log(b,a)}})})}function Y(){if(C)return;F=!1;if(!L())return;l.onReady(function(a){if(!a){E=!1;q.start(function(a){return a(U)});return}a=a;var b={onTermination:function(a){a.message==="Stream closed"?(q.stop(!0),C=!1):(d("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.rejected",1),E=!1,q.start(function(a){return a(U)}))},onFlowStatus:function(){}};c("promiseDone")(a.requestStream({method:"Falco"},JSON.stringify(da(d("WebSession").getId())),b,{requestId:""}).then(function(b){a=b,fa(a),F=!0,I=n,J=o})["catch"](function(a){d("FalcoUtils").bumpODSMetrics("","streaming.non_critical_failure.failed",1),q.stop(!0),C=!1}))});C=!0}function Z(a){var b,e=a.name;if(!L()||!E)return!1;if(u.has(e)||a.policy.s!==1&&((b=(i||(i=c("AnalyticsCoreData"))).br_stateful_migration_on)!=null?b:!1)){a.shouldAddState=!0;a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],w);return!0}if(x!==1&&(i||(i=c("AnalyticsCoreData"))).enable_non_fb_br_stateless_by_default!==!0&&!v.has(e))return!1;if(a.policy.s===1){a.tags=d("FalcoUtils").xorBitmap((b=a.tags)!=null?b:[0,0],w);return!0}return!1}function $(a){if(a==="")return null;if(t.has(a))return t.get(a);else{var b={claim:""},c=a.split("^#");if(c.length>=4){var d=c[0],e=c[1],f=c[2];c=c[3];f!==""?b={appScopedIdentity:f,claim:c}:d!==""&&(b={fbIdentity:{accountId:d,actorId:e},claim:c});t.set(a,b)}return b}}function a(){if(D)return;D=!0;c("PersistedQueue").setHandler("falco_queue_log",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){Z(e.item)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log",1),Y(),A==null&&(A=setTimeout(N,I)),g&&!a(f)&&(e.item.identity=g),M(b,e)):(g?e.item.identity=g:e.item.identity=(i||(i=c("AnalyticsCoreData"))).identity,U.log([e.item],function(a){return b.markItem(e,a)}))})(e)});c("PersistedQueue").setHandler("falco_queue_immediately",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){Z(e.item)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log_immediately",1),Y(),(A==null||!B)&&(clearTimeout(A),A=setTimeout(N,J),B=!0),e.item.logImmediate=!0,g&&!a(f)&&(e.item.identity=g),M(b,e),c("PersistedQueue").isPersistenceAllowed()||(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.streaming_no_persistence.log_immediately",1),N())):(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.banzai.log_immediately",1),g?e.item.identity=g:e.item.identity=(i||(i=c("AnalyticsCoreData"))).identity,U.logImmediately([e.item],function(a){return b.markItem(e,a)}))})(e)});c("PersistedQueue").setHandler("falco_queue_critical",function(b){var e,f=b.getQueueNameSuffix(),g=$(f);while(e=b.dequeueItem())(function(e){var h=e.item;Z(h)?(d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.streaming.log_critical",1),Y(),h.logCritical=!0,!F?(g?h.identity=g:h.identity=(i||(i=c("AnalyticsCoreData"))).identity,O([[b,e]],"event.non_critical_failure.streaming_init_not_complete.log_critical")):(g&&!a(f)&&(h.identity=g),q.enqueue(function(a){return a.logCritical([h],function(a){if(!a){h.identity||(g?h.identity=g:h.identity=(i||(i=c("AnalyticsCoreData"))).identity);O([[b,e]],"event.info.banzai_fallback.log_critical");return}P([[b,e]],a,"event.uploaded")})}))):(g?h.identity=g:h.identity=(i||(i=c("AnalyticsCoreData"))).identity,d("FalcoUtils").bumpODSMetrics(e.item.name,"event.info.upload_method.banzai.log_critical",1),U.logCritical([h],function(a){return b.markItem(e,a)}))})(e)});(i||(i=c("AnalyticsCoreData"))).enable_dataloss_timer&&(Y(),W(),X());function a(a){try{var b=d("FalcoUtils").identityToString((i||(i=c("AnalyticsCoreData"))).identity);return a===b}catch(a){(h||(h=d("ODS"))).bumpEntityKey(1344,"js.br.identity.check","exception.when.comparing.with.current.user.identity",1);return!0}}}g.attach=a}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]);c=a;f["default"]=c}),66);
__d("MAWEncryptedBackupsClearRecoveryCode",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_recovery_code_data)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_recovery_code_status))]).then(function(c){var d=c[0],e=c[1];if(d!=null||e!=null)return a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([(d==null?void 0:d.taskId)!=null?a.secure_recovery_code_data["delete"](d.taskId):(h||(h=b("Promise"))).resolve(),(e==null?void 0:e.pk)!=null?a.secure_encrypted_backups_recovery_code_status["delete"](e.pk):(h||(h=b("Promise"))).resolve()])},"readwrite",void 0,void 0,f.id+":27")})}g.encryptedBackupsClearRecoveryCode=a}),98);
__d("TransportSelectingClientSingletonConditional",["cr:710"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:710")}),98);/*FB_PKG_DELIM*/
__d("LSIssueNewFireAndForgetTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[1]=b.i64.to_string(a[1]),c[0]=b.i64.of_float(Date.now()),b.db.table(5).add({taskId:void 0,queueName:a[0],context:c[1],taskValue:a[2],enqueueTimestampMs:c[0]})},function(d){return b.filter(b.db.table(5).fetchDesc(),function(b){return b.queueName===a[0]&&b.context===c[1]&&b.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[2]=b.i64.cast([-1,4294967295]):(d=a.item,c[2]=d.taskId)})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewFireAndForgetTaskStoredProcedure";a.__tables__=["pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSCheckThreadConsistency",["LSIssueNewFireAndForgetTask","LSIssueNewTask","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return c("gkx")("8236")?(e[0]=new d.Map(),e[0].set("threads",a[0]),e[0].set("metadata",a[1]),e[1]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",d.i64.cast([0,18]),e[1])):(e[0]=new d.Map(),e[0].set("threads",a[0]),e[0].set("metadata",a[1]),e[1]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewTask"),"check-thread-consistency",d.i64.cast([0,160019]),e[1],void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]),void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0])))},function(a){return d.resolve(f)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckThreadConsistencyStoredProcedure";a.__tables__=[];d=a;g["default"]=d}),98);
__d("LSCheckThreadConsistencyStoredProcedure",["LSCheckThreadConsistency","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCheckThreadConsistency"),e.threads,e.metadata);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock",l="lockRequestOnDemand";f="mw_msgr_mutex";function m(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),m=d("LSPlatformLockState").LockState.Waiting,n=c("emptyFunction"),o,p=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,q=function(){if(!c("gkx")("24155"))return;o!=null&&c("clearTimeout")(o);if(m===d("LSPlatformLockState").LockState.Canceled||m===d("LSPlatformLockState").LockState.Acquired)return;o=c("setTimeout")(function(){e()&&m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),p==null?void 0:p.postMessage(k))},c("justknobx")._("1764"))};function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),m=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return s.apply(this,arguments)}function t(){m=d("LSPlatformLockState").LockState.Cleaning,n=c("emptyFunction"),g.forEach(function(a){return a()})}function u(){var b=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to ["+e.name+"] "+e.message),c("FBLogger")("messenger_web").info("[LS] SyncLock aborted due to [%s] %s",e.name,e.message),n(),b.abort(),m=d("LSPlatformLockState").LockState.Canceled,p==null?void 0:p.removeEventListener("message",g),a.removeEventListener("focus",q),f()}),g=function a(g){if(g==null||g.data==null||(g.data!==k||e())&&g.data!==l)return;i.debug("got message from other tab to abort request to sync lock");n();b.abort();f();p==null?void 0:p.removeEventListener("message",a);m=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(v())};p==null?void 0:p.addEventListener("message",g);return b}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(e){m=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}i.debug("Attempted to acquire sync lock and suceeded");yield r();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=u();m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield r();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","ls_web_init")}});return w.apply(this,arguments)}p!=null&&(a.addEventListener("focus",q),q(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){n()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return m},hasLock:function(){return m===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){n()},requestLock:v}}var n=null;function a(){n==null&&(n=m());return n}function e(){n!=null&&n.release()}g.SYNC_KEY=f;g.init=m;g.use=a;g.releaseIfExist=e}),98);
__d("MAWThreadConsistencyLogger",["FBLogger","I64","LSAuthorityLevel","LSCheckThreadConsistencyStoredProcedure","LSDatabaseSingleton","LSFactory","LSMessagingThreadTypeUtil","LSShape","LSVec","ODS","Promise","ReQL","WAArrayZip","asyncToGeneratorRuntime","clearInterval","gkx","justknobx","promiseDone","qex","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=20,m=c("justknobx")._("3207"),n=!c("gkx")("5457"),o=!1,p=null;function a(){if(o||n)return;o=!0;c("clearInterval")(p);p=c("setInterval")(function(){if(document.visibilityState!=="visible")return;c("promiseDone")(q())},m*1e3)}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){(k||(k=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","initiate_snapshot");var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs")).filter(s).take(l)));if(e.length===0){(k||(k=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","no_e2ee_threads_fetched_on_client");return}var f;c("qex")._("18")?f=(yield (h||(h=b("Promise"))).all(e.map(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(b.threadKey))}))):f=(yield (h||(h=b("Promise"))).all(e.map(function(b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey))})));e=d("WAArrayZip").zip(e,f).map(function(a){var b=a[0];a=a[1];return d("LSShape").ofRecord({is_last_activity_optimistic:t(a),last_activity_timestamp_ms:b.lastActivityTimestampMs,last_read_timestamp_ms:b.lastReadWatermarkTimestampMs,thread_key:b.threadKey})});return c("LSCheckThreadConsistencyStoredProcedure")(c("LSFactory")(a),{metadata:d("LSShape").ofRecord({client_snapshot_timestamp_ms:(j||(j=d("I64"))).of_float(Date.now()),session_timestamp_ms:j.of_int32(Math.round(window.performance.now()))}),threads:c("LSVec").ofArray(e)})});return function(b){return a.apply(this,arguments)}}(),"readonly",void 0,void 0,f.id+":59"),function(){return(k||(k=d("ODS"))).bumpEntityKey(3185,"maw_tc_metric","send_snapshot")},function(a){c("FBLogger")("maw_tc_metric").catching(a).warn("failed to send tc metric snapshot")})});return r.apply(this,arguments)}function s(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&a.folderName==="inbox"&&(j||(j=d("I64"))).to_int32(a.authorityLevel)>=c("LSAuthorityLevel").AUTHORITATIVE}function t(a){return a==null?!1:(j||(j=d("I64"))).to_int32(a.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE}g.startMAWThreadConsistencyLogger=a;g.MAWThreadConsistencyLoggerTakeSnapshot=q}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:h(a)}}function h(a){c("ClientConsistencyEventEmitter").emit("softRefresh",a)}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh("restore_versionchange");return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("TemporaryLoggingUtilsForS406998Only",["FBLogger","I64","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id ",": ",""]);i=function(){return a};return a}function j(a){var b=6917529027641082e3,c=!1;try{c=(h||(h=d("I64"))).equal(h.and_(h.of_string(a),h.of_float(b)),h.of_float(b))}catch(b){d("WALogger").ERROR(i(),a,b)}return c}function a(a,b){var e=a.contactId!=null?(h||(h=d("I64"))).to_string(a.contactId):null;e!=null&&j(e)&&c("FBLogger")("messenger_e2ee_web","invalid_participant_added").mustfix("[S406998] invalid participant added to participants. contactId: %s at loc: %s",e,b);return a}g.isStanzaIdForS406998Only=j;g.logIfInvalidParticipantAndReturnForS406998Only=a}),98);/*FB_PKG_DELIM*/
__d("LSSetReadReceiptSettingForThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(c){var d=c.update;c.item;return d({isReadReceiptsDisabled:b.i64.eq(a[1],b.i64.cast([0,1])),readReceiptsDisabledV2:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetReadReceiptSettingForThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticToggleReadReceipts",["LSIssueNewTask","LSSetReadReceiptSettingForThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSSetReadReceiptSettingForThread"),a[0],a[1]?c.i64.cast([0,1]):c.i64.cast([0,2]))},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("is_read_receipts_disabled",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,60003]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticToggleReadReceiptsStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSOptimisticToggleReadReceiptsStoredProcedure",["LSOptimisticToggleReadReceipts","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticToggleReadReceipts"),e.threadKey,e.isReadReceiptsDisabled);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticallyUpdateMessagingPrivacySettings",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.forEach(c.db.table(288).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({readReceiptsDisabled:a[0]})})},function(e){return d[1]=new c.Map(),d[1].set("read_receipts_disabled",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"toggle_rr",c.i64.cast([0,731]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure";a.__tables__=["messaging_privacy_settings"];e.exports=a}),null);
__d("LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure",["LSOptimisticallyUpdateMessagingPrivacySettings","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticallyUpdateMessagingPrivacySettings"),e.readReceiptsDisabled);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWCMGetGender",["IntlVariations","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return c("IntlVariations").GENDER_UNKNOWN;switch((h||(h=d("LSIntEnum"))).toNumber(a)){case 1:return c("IntlVariations").GENDER_FEMALE;case 2:return c("IntlVariations").GENDER_MALE;case 3:case 0:default:return c("IntlVariations").GENDER_UNKNOWN}}g.getGender=a}),98);
__d("ReadReceiptControlSettingChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3164");b=d("FalcoLoggerInternal").create("read_receipt_control_setting_changed",a);e=b;g["default"]=e}),98);
__d("useDebouncedOnChange",["react","react-compiler-runtime","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useLayoutEffect,k=b.useRef,l=b.useState;function a(a,b,e){var f=d("react-compiler-runtime").c(20);e=e===void 0?100:e;var g=l(a),h=g[0],m=g[1],n=c("useDebounced")(b,e);f[0]!==n||f[1]!==a||f[2]!==h?(g=n.isPending()?h:a,f[0]=n,f[1]=a,f[2]=h,f[3]=g):g=f[3];var o=g;f[4]!==n?(e=function(a){n(a),m(a)},f[4]=n,f[5]=e):e=f[5];h=e;f[6]!==o||f[7]!==n||f[8]!==a||f[9]!==b?(g=function(){o!==a&&b(o),n.reset()},f[6]=o,f[7]=n,f[8]=a,f[9]=b,f[10]=g):g=f[10];var p=g,q=k(p);f[11]!==p?(e=function(){q.current=p},g=[p],f[11]=p,f[12]=e,f[13]=g):(e=f[12],g=f[13]);j(e,g);f[14]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return function(){return q.current()}},g=[],f[14]=e,f[15]=g):(e=f[14],g=f[15]);i(e,g);f[16]!==o||f[17]!==h||f[18]!==p?(e=[o,h,p],f[16]=o,f[17]=h,f[18]=p,f[19]=e):e=f[19];return e}g["default"]=a}),98);
__d("useMWReadReceiptsPropsForThread",["fbt","I64","Int64Hooks","LSFactory","LSOptimisticToggleReadReceiptsStoredProcedure","MAWFolderUtils","MWCMGetGender","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","ReadReceiptControlSettingChangedFalcoEvent","coerceMessagingThreadTypeToLSThreadType","promiseDone","queryMWLSOtherParticipantContact","react-compiler-runtime","useDebouncedOnChange","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=250;function l(a){return a?h._(/*BTDS*/"Les membres de la discussion ne verront pas quand vous aurez lu leurs messages, et vous ne verrez pas quand les v\u00f4tres on \u00e9t\u00e9 lus."):h._(/*BTDS*/"Les membres de la discussion verront quand vous aurez lu leurs messages.")}function m(a,b){var c=d("MWCMGetGender").getGender(b.gender);return a?h._(/*BTDS*/"_j{\"*\":\"{friend_name} ne verra pas quand vous lisez ses messages, et vous ne verrez pas quand les v\\u00f4tres ont \\u00e9t\\u00e9 lus.\"}",[h._name("friend_name",(a=b.firstName)!=null?a:b.name,c)]):h._(/*BTDS*/"_j{\"*\":\"{friend_name} verra quand vous aurez lu ses messages.\"}",[h._name("friend_name",(a=b.firstName)!=null?a:b.name,c)])}function n(a,b){return b==null?l(a):m(a,b)}function a(a){var b=d("react-compiler-runtime").c(29),e=(j||(j=c("useReStore")))(),g=c("useMWIsReadReceiptsDisabledForThread")(a),h=d("MWLSThread").useThread(a),l=d("MWPActor.react").useActor(),m;b[0]!==l||b[1]!==e||b[2]!==h||b[3]!==a?(m=function(){return(h==null?void 0:h.threadType)!=null?c("queryMWLSOtherParticipantContact")(e,a,h.threadType,l,["firstName","name","gender"]):d("ReQL").empty()},b[0]=l,b[1]=e,b[2]=h,b[3]=a,b[4]=m):m=b[4];var o=h==null?void 0:h.threadType,p;b[5]!==l||b[6]!==e||b[7]!==o||b[8]!==a?(p=[e,l,a,o],b[5]=l,b[6]=e,b[7]=o,b[8]=a,b[9]=p):p=b[9];o=d("ReQLSuspense").useFirst(m,p,f.id+":92");b[10]!==e||b[11]!==(h==null?void 0:h.parentThreadKey)||b[12]!==(h==null?void 0:h.threadType)||b[13]!==a?(m=function(b){c("ReadReceiptControlSettingChangedFalcoEvent").log(function(){return{is_account_level:!1,setting_enabled:!b,thread_folder:(h==null?void 0:h.parentThreadKey)!=null?d("MAWFolderUtils").parentThreadKeyToLsSystemFolder(h==null?void 0:h.parentThreadKey):void 0,thread_id:(i||(i=d("I64"))).to_string(a),thread_type:(h==null?void 0:h.threadType)!=null?c("coerceMessagingThreadTypeToLSThreadType")(h==null?void 0:h.threadType):void 0}}),c("promiseDone")(e.runInTransaction(function(d){return c("LSOptimisticToggleReadReceiptsStoredProcedure")(c("LSFactory")(d),{isReadReceiptsDisabled:b,threadKey:a})},"readwrite",void 0,void 0,f.id+":122"))},b[10]=e,b[11]=h==null?void 0:h.parentThreadKey,b[12]=h==null?void 0:h.threadType,b[13]=a,b[14]=m):m=b[14];p=h==null?void 0:h.threadType;var q=h==null?void 0:h.parentThreadKey,r;b[15]!==e||b[16]!==p||b[17]!==q||b[18]!==a?(r=[a,p,q,e],b[15]=e,b[16]=p,b[17]=q,b[18]=a,b[19]=r):r=b[19];var s=d("Int64Hooks").useCallbackInt64(m,r);b[20]!==s?(p=function(a){s(a)},b[20]=s,b[21]=p):p=b[21];q=c("useDebouncedOnChange")(g,p,k);m=q[0];r=q[1];b[22]!==o||b[23]!==m?(g=n(m,o),b[22]=o,b[23]=m,b[24]=g):g=b[24];b[25]!==r||b[26]!==m||b[27]!==g?(p={content:g,isReadReceiptsDisabled:m,onClick:r},b[25]=r,b[26]=m,b[27]=g,b[28]=p):p=b[28];return p}g["default"]=a}),226);
__d("MWInboxInfoReadReceiptsPage.react",["fbt","MWInboxInfoSubPageHeader.react","MWXColumn.react","MWXColumnItem.react","MWXListCell.react","MWXSwitch.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useMWReadReceiptsPropsForThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useId;function a(a){var b=d("react-compiler-runtime").c(22),e=a.onReturn;a=a.threadKey;a=c("useMWReadReceiptsPropsForThread")(a);var f=a.content,g=a.isReadReceiptsDisabled,i=a.onClick;a=k();var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Confirmations de lecture"),b[0]=l):l=b[0];b[1]!==e?(l=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWInboxInfoSubPageHeader.react"),{onPressBack:e,title:l})}),b[1]=e,b[2]=l):l=b[2];b[3]!==g||b[4]!==i?(e=function(){return i(!g)},b[3]=g,b[4]=i,b[5]=e):e=b[5];var m=!g,n;b[6]!==a||b[7]!==e||b[8]!==m?(n=j.jsx(c("MWXSwitch.react"),{"aria-labelledby":a,onClick:e,value:m}),b[6]=a,b[7]=e,b[8]=m,b[9]=n):n=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Afficher les confirmations de lecture"),b[10]=e):e=b[10];b[11]!==f?(m=j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:f}),b[11]=f,b[12]=m):m=b[12];b[13]!==a||b[14]!==m?(f=j.jsx(c("MWXTextPairing.react"),{headline:e,headlineId:a,level:4,meta:m}),b[13]=a,b[14]=m,b[15]=f):f=b[15];b[16]!==n||b[17]!==f?(e=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,children:j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXListCell.react"),{addOnEnd:n,addOnEndVerticalAlign:"top",content:f})})}),b[16]=n,b[17]=f,b[18]=e):e=b[18];b[19]!==l||b[20]!==e?(a=j.jsxs(c("MWXColumn.react"),{spacing:12,children:[l,e]}),b[19]=l,b[20]=e,b[21]=a):a=b[21];return a}g["default"]=a}),226);
__d("MWReadReceiptsMenuItem.react",["fbt","FDSMenuItemCheckbox.react","I64","LSFactory","LSIntEnum","LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure","LSReadReceiptSettingState","MWXMenuItemWithSubmenu.react","MWXText.react","ReadReceiptControlSettingChangedFalcoEvent","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedOnChange","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));i.useCallback;var m=250;function n(){var a=d("react-compiler-runtime").c(10),b=c("useAsyncReStore")(),e=c("useMWIsReadReceiptsDisabledForUser")(),g;a[0]!==b?(g=function(a){c("promiseDone")(b,function(b){var e=a?(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").DISABLED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").ENABLED);c("ReadReceiptControlSettingChangedFalcoEvent").log(function(){return{is_account_level:!0,setting_enabled:!(k||(k=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReadReceiptSettingState").DISABLED))}});c("promiseDone")(b.runInTransaction(function(a){return c("LSOptimisticallyUpdateMessagingPrivacySettingsStoredProcedure")(c("LSFactory")(a),{readReceiptsDisabled:e})},"readwrite",void 0,void 0,f.id+":50"))})},a[0]=b,a[1]=g):g=a[1];g=g;e=c("useDebouncedOnChange")(e,g,m);var i=e[0],n=e[1];g=!i;a[2]!==n||a[3]!==i?(e=function(){return n(!i)},a[2]=n,a[3]=i,a[4]=e):e=a[4];var o;a[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Afficher les confirmations de lecture"),a[5]=o):o=a[5];var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:h._(/*BTDS*/"Personne ne pourra voir quand vous avez lu des messages et vous ne pourrez pas voir quand les v\u00f4tres ont \u00e9t\u00e9 lus.")}),a[6]=p):p=a[6];a[7]!==g||a[8]!==e?(o=l.jsx(c("FDSMenuItemCheckbox.react"),{asSwitch:!0,isSelected:g,onClick:e,preventClosingMenuOnSelect:!0,primaryText:o,secondaryText:p}),a[7]=g,a[8]=e,a[9]=o):o=a[9];return o}function a(){var a=d("react-compiler-runtime").c(6),b=c("useMWIsReadReceiptsDisabledForUser")(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Confirmations de lecture"),a[0]=e):e=a[0];var f;a[1]!==b?(f=b?h._(/*BTDS*/"D\u00e9sactiv\u00e9"):h._(/*BTDS*/"Activ\u00e9"),a[1]=b,a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b={header:{title:h._(/*BTDS*/"Confirmations de lecture")},items:[l.jsx(n,{},"read-receipts")]},a[3]=b):b=a[3];a[4]!==f?(e=l.jsx(c("MWXMenuItemWithSubmenu.react"),{primaryText:e,secondaryText:f,submenu:b}),a[4]=f,a[5]=e):e=a[5];return e}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("ChevronLeftFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M14.791 5.207 8 12l6.793 6.793a1 1 0 1 1-1.415 1.414l-7.5-7.5a1 1 0 0 1 0-1.414l7.5-7.5a1 1 0 1 1 1.415 1.414z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ChevronRightFilled24.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M9.209 5.207 16 12l-6.791 6.793a1 1 0 1 0 1.415 1.414l7.5-7.5a1 1 0 0 0 0-1.414l-7.5-7.5a1 1 0 1 0-1.415 1.414z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSFriendAddFilled16Icon",["cr:14017"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14017")}),98);
__d("FDSHScroll.react",["fbt","BaseHScroll.react","ChevronLeftFilled24.svg.react","ChevronRightFilled24.svg.react","CometTrackingNodeProvider.react","FDSCircleButton.react","Locale","SVGIcon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=h._(/*BTDS*/"\u00c9l\u00e9ments suivants"),l=h._(/*BTDS*/"\u00c9l\u00e9ments pr\u00e9c\u00e9dents"),m=d("Locale").isRTL(),n=44;function a(a){var b=d("react-compiler-runtime").c(15),e,f,g,h;b[0]!==a?(f=a.nextButtonLabel,g=a.prevButtonLabel,h=a.reduceArrowSize,e=babelHelpers.objectWithoutPropertiesLoose(a,["nextButtonLabel","prevButtonLabel","reduceArrowSize"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);var i=f===void 0?k:f,o=g===void 0?l:g,p=h===void 0?!1:h;b[5]!==o||b[6]!==p?(a=function(a,b){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:419,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",disabled:b,icon:d("SVGIcon").svgIcon(m?c("ChevronRightFilled24.svg.react"):c("ChevronLeftFilled24.svg.react")),label:o,onPress:a,size:p?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},b[5]=o,b[6]=p,b[7]=a):a=b[7];f=a;b[8]!==i||b[9]!==p?(g=function(a,b){return j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:420,children:j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",disabled:b,icon:d("SVGIcon").svgIcon(m?c("ChevronLeftFilled24.svg.react"):c("ChevronRightFilled24.svg.react")),label:i,onPress:a,size:p?40:48,testid:void 0,type_DEPRECATED:"overlay-raised"})})},b[8]=i,b[9]=p,b[10]=g):g=b[10];h=g;b[11]!==h||b[12]!==f||b[13]!==e?(a=j.jsx(d("BaseHScroll.react").HScrollContainer,babelHelpers["extends"]({},e,{nextButton:h,peekWidth:n,prevButton:f})),b[11]=h,b[12]=f,b[13]=e,b[14]=a):a=b[14];return a}g.Container=a;g.Child=d("BaseHScroll.react").HScrollChild}),226);
__d("useMWGetThreadDataForContact",["CometRelay","I64","LSDatabaseSingleton","MAWLoggerDeferred","asyncToGeneratorRuntime","gkx","promiseDone","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(h||d("react")).useCallback;var k=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWGetThreadDataForContact");function a(){var a=d("react-compiler-runtime").c(2),e=d("CometRelay").useRelayEnvironment(),f;a[0]!==e?(f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.preloadedNavigationData;a=a.userId;var f=b==null?void 0:b.isSecureThread;if(f===!0)return{threadStatus:"SECURE"};f=b==null?void 0:b.contactCapabilities2;b=b==null?void 0:b.isOdCutoverEligible;var g=(i||(i=d("I64"))).of_string(a),h=(yield k.load());b=(yield h.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,e,g,b,f));f=b==="cutover";b=b==="on_demand_cutover";if(f===!0&&(!b||c("gkx")("7867"))){h=(yield h.getCutoverThread((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,(i||(i=d("I64"))).of_string(a)));!h&&!b&&c("gkx")("7867")&&c("promiseDone")(d("MAWLoggerDeferred").logWithTags(["MWChatOpenTabForUser","OpenTab"],["No existing MI mapping found for cutover thread"],"WARN"));a=h?h.serverThreadKey:g;g=h!=null||b;return{isCutover:f,isSecure:g,threadStatus:"CUTOVER",verifiedThreadKey:a}}return{threadStatus:"OPEN"}});return function(b){return a.apply(this,arguments)}}(),a[0]=e,a[1]=f):f=a[1];return f}g["default"]=a}),98);
__d("useMWBaseChatOpenTabForUser",["I64","LSDatabaseSingleton","LSIntEnum","LSThreadAttributionStore","MAWStateContext.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","asyncToGeneratorRuntime","dispatchOpenChatTabTraceLogging","performanceNow","qex","react","react-compiler-runtime","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider","useMWGetThreadDataForContact"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=i||d("react");e.useCallback;var m=e.useContext;e.useMemo;var n=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWBaseChatOpenTabForUser"),o=c("requireDeferred")("MWChatLogOpenChatTab").__setRef("useMWBaseChatOpenTabForUser"),p=c("requireDeferred")("MWChatOpenSecureTabForUserCallback").__setRef("useMWBaseChatOpenTabForUser"),q=c("requireDeferred")("MWLSPreloadThreadForContact").__setRef("useMWBaseChatOpenTabForUser");function a(a,e){var f=d("react-compiler-runtime").c(36),g=a!=null?a:!1,i=c("useMWChatOpenTabTraceProvider")(),q=c("useCometFeedNoRoutingNavigationEventLogger")(),s=r,t=d("MWChatStateV2.react").useDispatch(),u=m(d("MAWStateContext.react").MAWDispatchContext);f[0]!==t||f[1]!==g?(a=function(a,b){a={clientThreadKey:void 0,threadKey:a,threadType:(j||(j=d("LSIntEnum"))).ofNumber(1)};c("dispatchOpenChatTabTraceLogging")(b,a,"useMWBaseChatOpenTabForUser.openOpenTab");t(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!g},{threadKeyDescriptor:a,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},f[0]=t,f[1]=g,f[2]=a):a=f[2];var v=a;f[3]!==t||f[4]!==g?(a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield p.load());return d.openChatTab(a,g,t,b,c)});return function(b,c,d){return a.apply(this,arguments)}}(),f[3]=t,f[4]=g,f[5]=a):a=f[5];var w=a;f[6]!==e||f[7]!==q?(a=function(a,b){q(Date.now(),"","messenger"),d("LSThreadAttributionStore").setSource(a,e),o.onReady(function(c){return c.logOpenUserTab(b,a,e)})},f[6]=e,f[7]=q,f[8]=a):a=f[8];var x=a,y=c("useMWGetThreadDataForContact")();f[9]!==e||f[10]!==y||f[11]!==x||f[12]!==v||f[13]!==w||f[14]!==i?(a=function(a){var f=a.preloadedNavigationData,g=a.reason,j=a.userId;f=f==null?void 0:f.isSecureThread;var k=(l||(l=d("I64"))).of_string(j);f=f===!0?15:1;i(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){var f=(h||(h=c("performanceNow")))(),i=(yield y(a));if(i.threadStatus==="SECURE"){var k;x(j,!0);d("MWChatInteraction").set(j,b);return w(j,"with FBID, secure: "+((k=g)!=null?k:"unknown"),e)}else if(i.threadStatus==="CUTOVER"){k=(l||(l=d("I64"))).to_string(i.verifiedThreadKey);e.addAnnotationInt("is_cutover",i.isCutover?1:0);x(k,i.isSecure);d("MWChatInteraction").set(k,b);e.addAnnotationBoolean("is_secure",i.isSecure);e.addAnnotation("thread_id",k);e.setTracePolicy("comet.messenger.chat_tab.cutover");e.addSubspan("verify_and_get_cutover_thread","AppTiming",f,(h||(h=c("performanceNow")))());return w(j,"with FBID, cutover",e)}else{d("MWChatInteraction").set(j,b);x(j,!1);e.addSubspan("verify_and_get_cutover_thread","AppTiming",f,(h||(h=c("performanceNow")))());return v((l||(l=d("I64"))).of_string(j),e)}});return function(a,b){return e.apply(this,arguments)}}(),f,e,k)},f[9]=e,f[10]=y,f[11]=x,f[12]=v,f[13]=w,f[14]=i,f[15]=a):a=f[15];a=a;a=a;var z;f[16]!==y||f[17]!==u?(z=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield y(a));if(b.threadStatus==="OPEN")return s(a);b=(yield p.load());return b.preloadSecureThreadForUser(a.userId,"preload",u)});return function(b){return a.apply(this,arguments)}}(),f[16]=y,f[17]=u,f[18]=z):z=f[18];z=z;var A;f[19]!==x||f[20]!==v||f[21]!==w?(A=function(a,b,e,f,g){x(a,b);d("MWChatInteraction").set(a,e);if(b===!0){f.addAnnotationBoolean("is_secure",b);f.addAnnotation("thread_id",a);f.setTracePolicy("comet.messenger.chat_tab.cutover");f.addSubspan("verify_and_get_cutover_thread","AppTiming",g,(h||(h=c("performanceNow")))());return w(a,"with threadKey",f)}else{f.addSubspan("verify_and_get_cutover_thread","AppTiming",g,(h||(h=c("performanceNow")))());return v((l||(l=d("I64"))).of_string(a),f)}},f[19]=x,f[20]=v,f[21]=w,f[22]=A):A=f[22];var B=A;f[23]!==t||f[24]!==e||f[25]!==x||f[26]!==B||f[27]!==g||f[28]!==i?(A=function(a,f){var m=f?15:1;i(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){if(f===!0){x(a,f);d("MWChatInteraction").set(a,b);var i=(l||(l=d("I64"))).of_string(a);i={clientThreadKey:void 0,threadKey:i,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15)};c("dispatchOpenChatTabTraceLogging")(e,i,"useMWBaseChatOpenTabForUser.openTabByThreadKey");return t(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!g},{threadKeyDescriptor:i,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))}else{i=(h||(h=c("performanceNow")))();var m=(yield n.load());m=(yield m.verifyThreadCutover((k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton,(l||(l=d("I64"))).of_string(a)));return B(a,m,b,e,i)}});return function(a,b){return e.apply(this,arguments)}}(),m,e,(l||(l=d("I64"))).of_string(a))},f[23]=t,f[24]=e,f[25]=x,f[26]=B,f[27]=g,f[28]=i,f[29]=A):A=f[29];A=A;A=A;var C;f[30]!==z?(C=c("qex")._("3438")?z:s,f[30]=z,f[31]=C):C=f[31];f[32]!==A||f[33]!==a||f[34]!==C?(z={openTabByThreadKey:A,openTabForUser:a,preloadThread:C},f[32]=A,f[33]=a,f[34]=C,f[35]=z):z=f[35];return z}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield q.load());return b.verifyThreadExists(a.userId)});return s.apply(this,arguments)}g["default"]=a}),98);
__d("useMWChatOpenTabForPage",["I64","LSIntEnum","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","dispatchOpenChatTabTraceLogging","react","react-compiler-runtime","recoverableViolation","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(h||d("react")).useMemo;var k=c("requireDeferred")("MWChatLogOpenChatTab").__setRef("useMWChatOpenTabForPage");function a(a,b){var e=d("react-compiler-runtime").c(6),f=(b=b==null?void 0:b.preventAutofocus_DO_NOT_USE)!=null?b:!1,g=c("useMWChatOpenTabTraceProvider")(),h=c("useCometFeedNoRoutingNavigationEventLogger")(),l=d("MWChatStateV2.react").useDispatch();e[0]!==l||e[1]!==a||e[2]!==h||e[3]!==f||e[4]!==g?(b=function(b,e){var m=(e=e)!=null?e:!1;h(Date.now(),"","messenger");d("LSThreadAttributionStore").setSource(b,a);k.onReady(function(c){return c.logOpenPageTab(void 0,b,a)});return g(function(a,e){d("MWChatInteraction").set(b,a);if(m){c("recoverableViolation")("Opening secure converstions with pages not supported","messenger_web_entrypoints");return}else{a={clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(b),threadType:(j||(j=d("LSIntEnum"))).ofNumber(1)};c("dispatchOpenChatTabTraceLogging")(e,a,"useMWChatOpenTabForPage");return l(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!f},{threadKeyDescriptor:a,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))}},14,a,(i||(i=d("I64"))).of_string(b))},e[0]=l,e[1]=a,e[2]=h,e[3]=f,e[4]=g,e[5]=b):b=e[5];e=b;return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDSButtonGroup.react",["Box.react","CometFocusTableContext","MDSButton.react","MDSRow.react","MDSRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={hiddenButton:{height:"xqtp20y",opacity:"xg01cxk",visibility:"xlshs6z",$$css:!0},resetFlexBasis:{flexBasis:"xdl72j9",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(3),e=j(c("CometFocusTableContext"));e=e.FocusCell;a=a.children;if(e!=null){var f;b[0]!==e||b[1]!==a?(f=i.jsx(e,{children:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}return a}function a(a){var b=d("react-compiler-runtime").c(36),e=a.align,f=a.direction,g=a.expanding,h=a.paddingHorizontal,j=a.paddingTop,m=a.primary,n=a.secondary,o=a.secondaryIcon,p=a.size,q=a.testid,r=a.verticalAlign;a=a.wrap;var s=e===void 0?"justify":e;e=f===void 0?"forward":f;f=g===void 0?!1:g;g=a===void 0?"none":a;var t,u;if(b[0]!==s||b[1]!==e||b[2]!==m||b[3]!==n||b[4]!==o||b[5]!==p){t=[];a=[];u=null;if(m!=null){var v,w,x,y;b[10]!==m?(w=m.ref,x=m.testid,y=m.type,v=babelHelpers.objectWithoutPropertiesLoose(m,["ref","testid","type"]),b[10]=m,b[11]=v,b[12]=w,b[13]=x,b[14]=y):(v=b[11],w=b[12],x=b[13],y=b[14]);var z;b[15]!==v||b[16]!==w||b[17]!==x||b[18]!==p||b[19]!==y?(z=i.jsx(l,{children:i.jsx(c("MDSButton.react"),babelHelpers["extends"]({},v,{ref:w,size:p,testid:void 0,type:y}))}),b[15]=v,b[16]=w,b[17]=x,b[18]=p,b[19]=y,b[20]=z):z=b[20];u=z;t.push({hidden:i.jsx(c("MDSButton.react"),babelHelpers["extends"]({},v,{disabled:!0,padding:"normal",role:"none",size:p,type:y})),visible:u})}if(n!=null){w=n.ref;x=n.testid;z=babelHelpers.objectWithoutPropertiesLoose(n,["ref","testid"]);t.push({hidden:i.jsx(c("MDSButton.react"),babelHelpers["extends"]({},z,{disabled:!0,padding:"normal",size:p,type:"secondary"})),visible:i.jsx(l,{children:i.jsx(c("MDSButton.react"),babelHelpers["extends"]({},z,{ref:w,size:p,testid:void 0,type:"secondary"}))})})}else if(o!=null){b[21]!==o||b[22]!==p?(v=i.jsx(c("MDSRowItem.react"),{children:i.jsx(l,{children:i.jsx(c("MDSButton.react"),babelHelpers["extends"]({},o,{labelIsHidden:!0,size:p,type:"secondary"}))})},"secondary-icon"),b[21]=o,b[22]=p,b[23]=v):v=b[23];a.push(v)}y=t.map(function(a,b){return i.jsx(c("MDSRowItem.react"),{expanding:s==="justify",xstyle:k.resetFlexBasis,children:t.map(function(a,d){return i.jsx(i.Fragment,{children:b!==d?i.jsx(c("Box.react"),{"aria-hidden":!0,xstyle:k.hiddenButton,children:a.hidden}):a.visible},d)})},b)});b[24]!==s||b[25]!==u?(x=u!=null?i.jsx(c("MDSRowItem.react"),{expanding:s==="justify",xstyle:k.resetFlexBasis,children:u},"primary"):null,b[24]=s,b[25]=u,b[26]=x):x=b[26];z=x;w=[z].concat(a);e==="backward"&&(y=y.reverse(),w=w.reverse());b[0]=s;b[1]=e;b[2]=m;b[3]=n;b[4]=o;b[5]=p;b[6]=t;b[7]=w;b[8]=y;b[9]=u}else t=b[6],w=b[7],y=b[8],u=b[9];v=t.length===2;x=v||u==null?y:w;b[27]!==s||b[28]!==f||b[29]!==h||b[30]!==j||b[31]!==x||b[32]!==q||b[33]!==r||b[34]!==g?(z=i.jsx(c("MDSRow.react"),{align:s,expanding:f,paddingHorizontal:h,paddingTop:j,spacing:8,testid:void 0,verticalAlign:r,wrap:g,children:x}),b[27]=s,b[28]=f,b[29]=h,b[30]=j,b[31]=x,b[32]=q,b[33]=r,b[34]=g,b[35]=z):z=b[35];return z}g["default"]=a}),98);
__d("MDSDialogContainerLegacy.react",["BaseDialog.react","BaseDialogLabelIDProvider","MDSDialogSizes","XPlatReactEnvironment","emptyFunction","react","react-compiler-runtime","useIsCometOnMobile"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={anchor:{paddingTop:"x1x97wu9",paddingBottom:"xbr3nou",paddingStart:"x1c2jvxr",paddingEnd:"x1paickk",paddingLeft:null,paddingRight:null,$$css:!0},anchorInMobileEnvironment:{paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},anchorWeb:{paddingStart:"x1c2jvxr x3v4vwv",paddingLeft:null,paddingRight:null,paddingEnd:"x1paickk x1dzdb2q",$$css:!0},card:{backgroundColor:"x1jx94hy",borderTopStartRadius:"xxadwq3",borderTopEndRadius:"x3hh19s",borderBottomEndRadius:"x1kl8bxo",borderBottomStartRadius:"xb3b7hn",boxShadow:"xwhkkir",$$css:!0},cardWeb:{borderTopStartRadius:"xxadwq3 x1g2kw80",borderTopEndRadius:"x3hh19s x16n5opg",borderBottomEndRadius:"x1kl8bxo xl7ujzl",borderBottomStartRadius:"xb3b7hn xhkep3z",boxShadow:"xwhkkir",$$css:!0},rootInMobileEnvironment:{justifyContent:"x1nhvcw1",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.ref,f=a.anchorXStyle,g=a.children,h=a.disableClosingWithMask,k=a.onClose,l=a.size,m=a.testid,n=a.title,o=a.xstyle;a=a.labelledBy;h=h===void 0?!1:h;k=k===void 0?c("emptyFunction"):k;l=l===void 0?"small":l;var p=c("useIsCometOnMobile")();l=l==="content-mobile-safe"&&!p?"content":l;var q;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=d("XPlatReactEnvironment").isWeb(),b[0]=q):q=b[0];q=q;var r=d("BaseDialogLabelIDProvider").useDialogLabelID();a=(a=a)!=null?a:r;r=p&&j.anchorInMobileEnvironment;var s;b[1]!==f||b[2]!==r?(s=[j.anchor,q&&j.anchorWeb,r,f],b[1]=f,b[2]=r,b[3]=s):s=b[3];f=n==null?void 0:n;r=n==null?a:void 0;n=p&&j.rootInMobileEnvironment;a=d("MDSDialogSizes").sizeStyles[l];b[4]!==a||b[5]!==o?(p=[j.card,q&&j.cardWeb,a,o],b[4]=a,b[5]=o,b[6]=p):p=b[6];b[7]!==g||b[8]!==h||b[9]!==k||b[10]!==p||b[11]!==s||b[12]!==f||b[13]!==r||b[14]!==n||b[15]!==m?(l=i.jsx(c("BaseDialog.react"),{anchorXStyle:s,"aria-label":f,"aria-labelledby":r,disableClosingWithMask:h,onClose:k,ref:e,rootXStyle:n,testid:void 0,withDeprecatedStyles:!0,xstyle:p,children:g}),b[7]=g,b[8]=h,b[9]=k,b[10]=p,b[11]=s,b[12]=f,b[13]=r,b[14]=n,b[15]=m,b[16]=l):l=b[16];return l}g["default"]=a}),98);
__d("MDSDialogFooter.react",["MDSButton.react","MDSButtonGroup.react","MDSSpinner.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={buttonContainer:{backgroundColor:"x1jx94hy",bottom:"x1ey2m1c",boxShadow:"x13xjmei",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"xv7j57z",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29),e=a.callToActionGroupDirection,f=a.callToActionGroupWrap,g=a.primaryCallToAction;a=a.secondaryCallToAction;e=e===void 0?"forward":e;f=f===void 0?"none":f;var h=null;if(g!=null&&a!=null){var k,l,m;b[0]!==g?(k=g.disabled,l=g.loading,m=babelHelpers.objectWithoutPropertiesLoose(g,["disabled","loading"]),b[0]=g,b[1]=k,b[2]=l,b[3]=m):(k=b[1],l=b[2],m=b[3]);var n;b[4]!==l?(n=l===!0?i.jsx(c("MDSSpinner.react"),{color:"grey",size:24}):void 0,b[4]=l,b[5]=n):n=b[5];k=k===!0||l;b[6]!==m||b[7]!==n||b[8]!==k?(l=babelHelpers["extends"]({addOnStart:n,disabled:k,type:"primary"},m),b[6]=m,b[7]=n,b[8]=k,b[9]=l):l=b[9];b[10]!==e||b[11]!==f||b[12]!==a||b[13]!==l?(m=i.jsx(c("MDSButtonGroup.react"),{direction:e,expanding:!0,paddingHorizontal:0,paddingTop:0,primary:l,secondary:a,size:36,wrap:f}),b[10]=e,b[11]=f,b[12]=a,b[13]=l,b[14]=m):m=b[14];h=m}else if(g!=null){b[15]!==g?(n=g.disabled,k=g.loading,e=babelHelpers.objectWithoutPropertiesLoose(g,["disabled","loading"]),b[15]=g,b[16]=n,b[17]=k,b[18]=e):(n=b[16],k=b[17],e=b[18]);b[19]!==k?(f=k===!0?i.jsx(c("MDSSpinner.react"),{color:"grey",size:24}):void 0,b[19]=k,b[20]=f):f=b[20];l=n===!0||k;b[21]!==e||b[22]!==f||b[23]!==l?(m=i.jsx(c("MDSButton.react"),babelHelpers["extends"]({addOnStart:f,disabled:l,size:36,type:"primary"},e)),b[21]=e,b[22]=f,b[23]=l,b[24]=m):m=b[24];h=m}else if(a!=null){b[25]!==a?(g=i.jsx(c("MDSButton.react"),babelHelpers["extends"]({size:36,type:"secondary"},a)),b[25]=a,b[26]=g):g=b[26];h=g}b[27]!==h?(n=h!=null?i.jsx(d("react-strict-dom").html.div,{style:j.buttonContainer,children:h}):null,b[27]=h,b[28]=n):n=b[28];return n}g["default"]=a}),98);
__d("MDSDialogPageLegacy.react",["MDSDialogFooter.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={content:{paddingBottom:"xwib8y2",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},textOnlyContent:{textAlign:"x2b8uid",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e,f,g,h;b[0]!==a?(e=a.children,g=a.hasTextOnlyContent,h=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasTextOnlyContent","ref"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);a=g===!0&&j.textOnlyContent;b[5]!==a?(g=[j.content,a],b[5]=a,b[6]=g):g=b[6];b[7]!==e||b[8]!==g?(a=i.jsx(d("react-strict-dom").html.div,{style:g,children:e}),b[7]=e,b[8]=g,b[9]=a):a=b[9];b[10]!==f?(e=i.jsx(c("MDSDialogFooter.react"),babelHelpers["extends"]({},f)),b[10]=f,b[11]=e):e=b[11];b[12]!==h||b[13]!==a||b[14]!==e?(g=i.jsxs(d("react-strict-dom").html.div,{ref:h,children:[a,e]}),b[12]=h,b[13]=a,b[14]=e,b[15]=g):g=b[15];return g}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSIssueCheckBackupStateOnInitSyncTask",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[6]=new c.Map(),d[6].set("error_msg","Expected a nonempty query result"),d[6].set("code",c.i64.cast([0,3])),d[6].set("src_line","MEBClientStateUtils.php:244 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[7]=c.createArray(),d[8]=(d[7].push(d[6]),d[7]),e=[void 0,d[7]],d[0]=e[0],d[1]=e[1],e):(b=a.item,d[6]=new c.Map(),d[6].set("backup_id",b.backupId),d[6].set("device_public_key_blob",b.devicePublicKeyBlob),d[6].set("device_private_key_blob",b.devicePrivateKeyBlob),d[6].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[6].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[6].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[6].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[6].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[6].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[6].set("orf_client_state_v2_blob",void 0),d[6].set("orf_v2_authority_level",void 0),d[6].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[6].set("device_id",b.deviceId),d[6].set("backup_tenancy",b.backupTenancy),d[6].set("encryption_version",b.encryptionVersion),d[6].set("revision_version",b.revisionVersion),d[6].set("initialize_restore_result",void 0),d[6].set("authority_level",b.authorityLevel),e=[d[6],void 0],d[0]=e[0],d[1]=e[1],e)})},function(a){return d[3]=new c.Map(),d[3].set("value",d[0]),d[3].set("errors",d[1]),d[4]=d[3].get("value"),d[4]!==void 0?c.sequence([function(a){return d[6]=d[4].get("backup_id"),d[7]=d[4].get("device_public_key_blob"),d[8]=d[4].get("device_private_key_blob"),d[9]=d[4].get("epoch_storage_public_key_blob"),d[10]=d[4].get("epoch_storage_private_key_blob"),d[11]=d[4].get("epoch_auth_public_key_blob"),d[12]=d[4].get("epoch_auth_private_key_blob"),d[13]=d[4].get("mailbox_root_key_blob"),d[14]=d[4].get("ocmf_client_state_blob"),d[15]=d[4].get("orf_client_state_v2_blob"),d[16]=d[4].get("orf_v2_authority_level"),d[17]=d[4].get("oblivious_validation_token_blob"),d[18]=d[4].get("device_id"),d[19]=d[4].get("backup_tenancy"),d[20]=d[4].get("encryption_version"),d[21]=d[4].get("revision_version"),d[22]=d[4].get("initialize_restore_result"),d[23]=d[4].get("authority_level"),c.i64.neq(d[18],void 0)?c.sequence([function(a){return d[25]=void 0,c.i64.neq(d[25],void 0)?c.resolve(d[26]=d[25]):c.sequence([function(a){return d[32]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[42]=(d[32].push(c.i64.cast([0,0])),d[32]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[42]=(d[32].push(c.i64.cast([0,2])),d[32]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[42]=(d[32].push(c.i64.cast([0,3])),d[32]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[42]=(d[32].push(c.i64.cast([0,4])),d[32]):0,d[37]=c.createArray(),d[38]=c.i64.of_int32(d[32].length),c.i64.gt(d[38],c.i64.cast([0,0]))?c.loopAsync(d[38],function(a){return d[42]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],d[42]).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[45]=(d[37].push(d[43]),d[37])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[42]=c.createArray(),d[43]=c.i64.of_int32(d[37].length),c.i64.gt(d[43],c.i64.cast([0,0]))?c.loopAsync(d[43],function(a){return d[45]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[37],d[45]).then(function(a){return a=a,d[46]=a[0],d[47]=a[1],a})},function(a){return d[48]=(d[42].push(c.i64.to_string(d[46])),d[42])}])}):c.resolve()},function(a){return d[44]=d[42].join(","),d[39]=d[44]}])},function(a){return d[37].some(function(a){return c.i64.eq(d[20],a)})?d[40]=d[20]:d[40]=void 0,c.i64.neq(d[40],void 0)?d[41]=d[40]:d[41]=void 0,d[26]=d[41]}])},function(a){return c.i64.neq(d[26],void 0)?d[27]=d[26]:d[27]=c.i64.cast([0,0]),c.i64.neq(d[19],void 0)?d[28]=d[19]:d[28]=c.i64.cast([0,1]),d[29]=new c.Map(),d[29].set("backup_id",d[6]),d[29].set("device_id",d[18]),d[30]=c.toJSON(d[29]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",c.i64.cast([0,50054]),d[30],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[24]=!0}]):c.resolve((function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueCheckBackupStateOnInitSyncTaskStoredProcedure] No client state in checkBackupStateOnInitSyncTask with reason: 24"),d[24]=!1))},function(a){return d[5]=d[24]}]):c.resolve((d[6]=d[3].get("errors"),d[7]=d[3].get("errors"),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueCheckBackupStateOnInitSyncTaskStoredProcedure] No client state in checkBackupStateOnInitSyncTask with reason: 1"),d[5]=!1))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueCheckBackupStateOnInitSyncTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueThreadCapabilitySyncTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxIssueThreadCapabilitySyncTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetHMPSStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxSetHMPSStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateMetadataThreads.nop",["I64","LSIntEnum","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("9855")){e=a.mi_act_mapping_table.keys(new WeakMap());while(!0){var f,g=(yield e.next());if(g.done)break;yield (f=a.mi_act_mapping_table)["delete"].apply(f,g.value)}f=d("ReQL").fromTableAscending(a.threads).filter(function(a){return a.syncGroup!=null&&(i||(i=d("I64"))).equal(a.syncGroup,(j||(j=d("LSIntEnum"))).ofNumber(95))}).iterator(new WeakMap());while(!0){g=(yield f.next());if(g.done)break;yield (e=a.threads)["delete"].apply(e,g.value[0])}}return(h||(h=b("Promise"))).resolve()});function e(b,c){return a.apply(this,arguments)}return e}();a.__nop_name__="LSTruncateMetadataThreads";g["default"]=a}),98);
__d("LSTruncateMetadataThreads",["LSTruncateMetadataThreads.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.nativeOperation(b("LSTruncateMetadataThreads.nop"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxTruncateMetadataThreadsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSTruncateThreadRangeTablesForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(10).fetch(),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.i64.eq(a[0],b.i64.cast([0,95]))?b.forEach(b.filter(b.db.table(10).fetch([[[b.i64.cast([0,0])],[b.i64.cast([-1,4294967295])]]]),function(a){return b.i64.eq(b.i64.cast([0,1])==null?b.i64.cast([0,1]):b.i64.cast([0,1]),b.i64.cast([0,1]))&&(b.i64.eq(a.parentThreadKey,b.i64.cast([0,0]))||b.i64.eq(a.parentThreadKey,b.i64.cast([-1,4294967295])))}),function(a){return a["delete"]()}):b.resolve(0)},function(c){return b.i64.eq(a[0],b.i64.cast([0,1]))?b.forEach(b.filter(b.db.table(247).fetch(),function(a){return b.i64.eq(a.syncGroup==null?b.i64.cast([0,1]):a.syncGroup,b.i64.cast([0,1]))}),function(a){return a["delete"]()}):b.resolve()},function(c){return b.forEach(b.db.table(198).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(c){return b.forEach(b.db.table(220).fetch([[[a[0]]]]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxTruncateThreadRangeTablesForSyncGroupStoredProcedure";a.__tables__=["threads_ranges_v2__generated","filtered_threads_ranges_v3__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSTruncateTablesForSyncGroup",["LSTruncateThreadRangeTablesForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return(c.i64.eq(b.syncGroup,a[0])||c.i64.eq(b.syncGroup,void 0)&&c.i64.eq(c.i64.cast([0,1]),a[0]))&&![c.i64.cast([0,17]),c.i64.cast([0,18]),c.i64.cast([0,19]),c.i64.cast([0,20]),c.i64.cast([0,21]),c.i64.cast([0,22]),c.i64.cast([0,23]),c.i64.cast([0,24]),c.i64.cast([0,25]),c.i64.cast([0,26]),c.i64.cast([0,27]),c.i64.cast([0,28])].some(function(a){return c.i64.eq(b.threadType,a)})}),function(a){return a["delete"]()})},function(d){return c.storedProcedure(b("LSTruncateThreadRangeTablesForSyncGroup"),a[0])}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxTruncateTablesForSyncGroupStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSUpdateThreadsRangesV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(c){return b.forEach(b.db.table(10).fetch([[[a[1]]]]),function(a){return a["delete"]()})},function(d){return c[8]=b.i64.gt(a[2],b.i64.cast([0,1]))&&b.i64.gt(a[3],b.i64.cast([-2147483648,0])),a[0]==="inbox"&&b.i64.eq(a[1],b.i64.cast([0,0]))&&b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=a[2],c[10]=a[3],c[11]=!1,c[12]=c[8],b.forEach(b.db.table(198).fetch(),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],a}]):b.resolve((d=[a[2],a[3],!1,c[8]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],d))},function(d){return b.i64.eq(a[4],b.i64.cast([0,1]))?b.sequence([function(d){return c[9]=c[0],c[10]=c[1],c[11]=c[2],c[12]=c[3],b.forEach(b.filter(b.db.table(220).fetch(),function(c){return b.i64.eq(c.parentThreadKey,a[1])}),function(a){a=a.item;return c[13]=a.minLastActivityTimestampMs,c[15]=a.minThreadKey,c[14]=b.i64.lt(c[9]==null?c[13]:c[9],c[13]),c[9]=c[14]?c[13]:c[9],c[10]=c[14]?c[15]:c[10],c[11]=c[11]||a.isLoadingBefore,c[12]=c[12]||b.i64.gt(c[13],b.i64.cast([0,1]))&&b.i64.gt(c[15],b.i64.cast([-2147483648,0]))})},function(a){return a=[c[9],c[10],c[11],c[12]],c[4]=a[0],c[5]=a[1],c[6]=a[2],c[7]=a[3],a}]):b.resolve((d=[c[0],c[1],c[2],c[3]],c[4]=d[0],c[5]=d[1],c[6]=d[2],c[7]=d[3],d))},function(d){return b.db.table(10).add({parentThreadKey:a[1],minThreadKey:c[5]==null?b.i64.cast([-2147483648,0]):c[5],minLastActivityTimestampMs:c[4]==null?b.i64.cast([0,1]):c[4],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:c[6],isLoadingAfter:!1,hasMoreBefore:c[7],hasMoreAfter:!1})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateThreadsRangesV2StoredProcedure";a.__tables__=["threads_ranges_v2__generated","inbox_threads_ranges","sync_group_threads_ranges"];e.exports=a}),null);
__d("LSUpsertFolderSeenTimestamp",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.gt(a[1],b.i64.cast([0,0]))?b.db.table(35).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?b.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:a[1]}):(d=c.item,b.i64.lt(d.lastSeenRequestTimestampMs,a[1])?b.forEach(b.db.table(35).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({lastSeenRequestTimestampMs:a[1]})}):b.resolve())}):b.resolve()},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertFolderSeenTimestampStoredProcedure";a.__tables__=["folder_metadata"];e.exports=a}),null);/*FB_PKG_DELIM*/
__d("BaseHovercardStateContext.react",["fbt","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;a=i||d("react");b=a.createContext({active:!1,"aria-label":h._(/*BTDS*/"Appuyez sur Alt-F1 ou la touche fl\u00e9ch\u00e9e vers le haut pour acc\u00e9der \u00e0 l\u2019aper\u00e7u de lien"),label:h._(/*BTDS*/"Appuyez sur la touche fl\u00e9ch\u00e9e vers le haut pour acc\u00e9der \u00e0 l\u2019aper\u00e7u de lien"),labelId:null,onClose:c("emptyFunction")});g["default"]=b}),226);
__d("BaseHovercardTriggerWrapper.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={displayInlineBlock:{display:"x1rg5ohu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e,f;b[0]!==a?(e=a.display,f=babelHelpers.objectWithoutPropertiesLoose(a,["display"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);if(e==="inline"){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="xt0psk2",b[3]=a):a=b[3];b[4]!==f?(a=j.jsx("span",babelHelpers["extends"]({},f,{className:a})),b[4]=f,b[5]=a):a=b[5];return a}a=e==="inline-block"&&k.displayInlineBlock;b[6]!==a?(e=(h||(h=c("stylex")))(a),b[6]=a,b[7]=e):e=b[7];b[8]!==f||b[9]!==e?(a=j.jsx("div",babelHelpers["extends"]({},f,{className:e})),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("BaseNestedHovercardContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);c=b;g["default"]=c}),98);
__d("useBaseHovercardTriggerAccessible",["fbt","BaseContextualLayer.react","BaseHovercardStateContext.react","BaseHovercardTriggerWrapper.react","CometErrorBoundary.react","CometHeroInteractionContextPassthrough.react","CometPlaceholder.react","FocusWithinHandler.react","HiddenSubtreeContextProvider.react","clearTimeout","react","setTimeout","useCometDisplayTimingTrackerForInteraction","useCometPrerenderer","useDelayedState","useFadeEffect","useMergeRefs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useId,n=b.useMemo,o=b.useRef,p=b.useState,q=300,r=100,s={disablePointerEvents:{pointerEvents:"x47corl",$$css:!0}};function a(a){var b=a.children,d=a.display,e=a.fallback,f=a.onLoadEntryPoint,g=a.onVisibilityChange,i=a.showDelay,u=babelHelpers.objectWithoutPropertiesLoose(a,["children","display","fallback","onLoadEntryPoint","onVisibilityChange","showDelay"]);a=c("useDelayedState")(!1);var v=a[0],w=a[1];a=p(!1);var x=a[0],y=a[1];a=p(!1);var z=a[0],A=a[1];a=p(!1);var B=a[0],C=a[1];a=p(!1);var D=a[0],E=a[1];a=p(!1);var F=a[0],G=a[1],H=B&&D&&!z,I=function(a){E(a),!a&&!F&&A(!1)},J=o(null),K=o(null),L=o(null),M=c("useCometDisplayTimingTrackerForInteraction")("HoverCard"),N=function(){if(!U)return;G(!0)};l(function(){if(F){var a=W.current;if(!a)return;a=a.querySelector(t);a==null?void 0:a.focus()}},[F]);var O=function(){if(F){G(!1);var a=K.current;a==null?void 0:a.focus()}},P=o(N),Q=o(O),R=k(function(){w(!1),y(!1),A(!0),Q.current()},[w]),S=o(R);l(function(){P.current=N,Q.current=O,S.current=R});var T=k(function(a){a.key==="Escape"&&(a.stopPropagation(),R())},[R]),aa=k(function(a){(a.key==="Escape"||a.key===" "||a.keyCode===9)&&(a.stopPropagation(),R()),(["ArrowDown","ArrowUp"].includes(a.key)||a.altKey&&a.key==="F1")&&(P.current(),a.preventDefault(),a.stopPropagation())},[R]),U=v||x||H||F,V=o(U),W=o();l(function(){V.current!==U&&(g&&g(U),U||G(!1)),V.current=U},[U,g]);a=c("useFadeEffect")(U);var X=a[0],ba=a[1];B=a[2];D=c("useCometPrerenderer")("tooltip",U);a=D[0].shouldPrerender;var Y=a===void 0?!1:a,ca=D[1],da=D[2],Z=k(function(){f&&f()},[f]),ea=function(a){if(v)c("clearTimeout")(J.current);else{var b;w(!0,(b=i)!=null?b:q);Z()}!H&&!x&&ca(a)},fa=function(){J.current=c("setTimeout")(function(){w(!1)},r),da()},ga=function(){y(!1)},ha=function(){y(!1)},ia=function(){x||(y(!0),Z())},ja=function(){Z()},$=m(),ka=n(function(){return{active:F,"aria-label":h._(/*BTDS*/"Appuyez sur Alt-F1 ou la touche fl\u00e9ch\u00e9e vers le haut pour acc\u00e9der \u00e0 l\u2019aper\u00e7u de lien"),label:h._(/*BTDS*/"Appuyez sur la touche fl\u00e9ch\u00e9e vers le haut pour acc\u00e9der \u00e0 l\u2019aper\u00e7u de lien"),labelId:H?$:null,onClose:function(){Q.current(),R()}}},[F,H,$,R]),la=function(a){a.key==="Escape"&&R()},ma=c("useMergeRefs")(B,W);l(function(){var a=K.current;if(a==null)return;H?a.setAttribute("aria-describedby",$):a.removeAttribute("aria-describedby")},[H,$]);a=function(a){a=a;e!=null&&(a=j.jsx(c("CometPlaceholder.react"),{fallback:e,children:a}));return j.jsxs(c("BaseHovercardTriggerWrapper.react"),{display:d,onKeyDown:T,onMouseEnter:ea,onMouseLeave:fa,onTouchCancel:ga,onTouchEnd:ha,onTouchStart:ia,children:[j.jsx(c("FocusWithinHandler.react"),{onFocusChange:C,onFocusVisibleChange:I,onFocusWithin:ja,children:j.jsx("span",babelHelpers["extends"]({className:"xjp7ctv"},{onKeyDown:aa,children:b(K)}))}),(H||x||Y||X)&&!z&&j.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"HovercardTriggerPopover",children:j.jsx(c("BaseContextualLayer.react"),babelHelpers["extends"]({align:"middle",contextRef:K,hidden:!U&&Y,imperativeRef:L,ref:M,xstyle:!U&&X?s.disablePointerEvents:void 0},u,{children:j.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:!U&&Y,children:j.jsx("div",babelHelpers["extends"]({},{0:{className:"xg01cxk x1n2onr6 x1ebt8du x19991ni x1dhq9h"},1:{className:"x1n2onr6 x19991ni x1hc1fzr xhb22t3 xls3em1"}}[!!ba<<0],{onKeyDown:la,ref:ma,children:j.jsx(c("BaseHovercardStateContext.react").Provider,{value:ka,children:a})}))})}))})})})]})};return[a,R]}var t=['a[href]:not([href=""]):not([rel="ignore"])',"button:not(:disabled)","[tabindex]"].map(function(a){return a+':not([tabindex="-1"])'}).join(", ");g["default"]=a}),226);
__d("BaseHovercardTriggerAccessible.react",["BaseHovercardTriggerWrapper.react","BaseNestedHovercardContext.react","CometRelay","react","react-compiler-runtime","useBaseHovercardTriggerAccessible","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useRef,l={};function m(a){var b=d("react-compiler-runtime").c(19),e;if(b[0]!==a){var f=a.popoverEntryPoint,g=a.popoverOtherProps,h=a.popoverProps;a.preventNested;var j=babelHelpers.objectWithoutPropertiesLoose(a,["popoverEntryPoint","popoverOtherProps","popoverProps","preventNested"]);f=f;g=g;e=h;h=j;b[0]=a;b[1]=h;b[2]=f;b[3]=e;b[4]=g}else h=b[1],f=b[2],e=b[3],g=b[4];j=g===void 0?l:g;a=c("useCometRelayEntrypointContextualEnvironmentProvider")();g=d("CometRelay").useEntryPointLoader(a,f);a=g[0];var k=g[1];b[5]!==k||b[6]!==e?(f=function(){k(e)},b[5]=k,b[6]=e,b[7]=f):f=b[7];g=f;b[8]!==h||b[9]!==g?(f=babelHelpers["extends"]({},h,{onLoadEntryPoint:g}),b[8]=h,b[9]=g,b[10]=f):f=b[10];h=c("useBaseHovercardTriggerAccessible")(f);g=h[0];b[11]!==a||b[12]!==j?(f=a!=null&&i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:a,props:j}),b[11]=a,b[12]=j,b[13]=f):f=b[13];b[14]!==f?(h=i.jsx(i.Fragment,{children:f}),b[14]=f,b[15]=h):h=b[15];b[16]!==h||b[17]!==g?(a=g(h),b[16]=h,b[17]=g,b[18]=a):a=b[18];return a}function a(a){var b=a.preventNested;b=b===void 0?!1:b;var d=babelHelpers.objectWithoutPropertiesLoose(a,["preventNested"]),e=j(c("BaseNestedHovercardContext.react")),f=k(null);return e?i.jsx(c("BaseHovercardTriggerWrapper.react"),{display:a.display,children:a.children(f)}):i.jsx(c("BaseNestedHovercardContext.react").Provider,{value:b,children:i.jsx(m,babelHelpers["extends"]({},d))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("fbs",["fbt","invariant","FbtHooks","FbtPureStringResult"],(function(a,b,c,d,e,f,g,h){var i;a={};c=babelHelpers["extends"]({},g,{_param:function(a,c,d){typeof c==="string"||c instanceof b("FbtPureStringResult")||h(0,11709,c,typeof c);return g._param(a,c,d)},_plural:function(a,c,d){d==null||typeof d==="string"||d instanceof b("FbtPureStringResult")||h(0,47119,d,typeof d);return g._plural(a,c,d)},_wrapContent:function(a,c,d,e){a=typeof a==="string"?[a]:a;var f=(i||(i=b("FbtHooks"))).getErrorListener({hash:d,translation:c});return i.getFbsResult({contents:a,errorListener:f,extraOptions:e,patternHash:d,patternString:c})},cachedResults:a});d=c;e.exports=d}),null);/*FB_PKG_DELIM*/
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function a(a,b,c){b===void 0&&(b=!0);c===void 0&&(c=1);if(!b)return;h.onReady(function(b){b.bumpEntityKey(354,a,"fetched-cache",c)})}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverCache",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.dataSource;b[0]!==c?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;var d=a.perfTraceAPI;a=c.fetchCache(a);d&&d.addMarkerPoint("cachedResponse","AppTiming");b(a);return a},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolverNetwork",["promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(9),e=a.dataSource;a=k(!1);var f=a[0],g=a[1],h=j(0),l=j(!1),m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){l.current=!1;return function(){l.current=!0}},m=[],b[0]=a,b[1]=m):(a=b[0],m=b[1]);i(a,m);b[2]!==e?(a=function(a){var b=a.onResolvePayload;a=a.requestParams;h.current=h.current+1;var d=h.current,f=a.perfTraceAPI;g(!0);c("promiseDone")(e.fetchNetwork(a).then(function(a){!l.current&&d===h.current&&(b(a),f&&f.addMarkerPoint("networkResponse","AppTiming"))})["finally"](function(){!l.current&&d===h.current&&(h.current=0,g(!1))}))},b[2]=e,b[3]=a):a=b[3];m=a;b[4]!==f?(a={isLoading:f},b[4]=f,b[5]=a):a=b[5];b[6]!==m||b[7]!==a?(f=[a,m],b[6]=m,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetchResolver",["baseTypeaheadFlattenEntries","cometTypeaheadODSLogFetchCacheEvent","cometTypeaheadODSLogFetchNetworkEvent","emptyObject","react","recoverableViolation","useBaseTypeaheadDataSourceFetchResolverCache","useBaseTypeaheadDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=8;function a(a,b){var d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.onResolvePayload;e=(a=e)!=null?a:c("emptyObject");a=e.renderLimit;var g=a===void 0?k:a;a=e.bypassCacheRenderLimitCheck;var h=a===void 0?!1:a;a=e.shouldDebounceNetwork;var l=a===void 0?!0:a;a=e.networkDebounceWaitDuration;e=e.requestFlow;var m=j(e),n=c("useBaseTypeaheadDataSourceFetchResolverCache")({dataSource:d});e=c("useBaseTypeaheadDataSourceFetchResolverNetwork")({dataSource:d});var o=e[0].isLoading,p=e[1],q=c("useDebouncedComet")(p,{wait:a});function r(){var a=!1;function e(b,d){var e=d.isTraceComplete;d=d.source;try{a||f(b,{isTraceComplete:e,source:d})}catch(b){a||c("recoverableViolation")("Failed to resolve fetched payload","search")}}function i(a){var b=a.requestParams;a=a.source;var f=b.requestFlow;f!=null&&(m.current=f);if(typeof d.fetchCache==="function"&&["all","cache"].includes(a)){f=n({onResolvePayload:function(a){var b=a.entries;b=c("baseTypeaheadFlattenEntries")(b).length;e(a,{isTraceComplete:!h&&b>=g,source:"cache"});c("cometTypeaheadODSLogFetchCacheEvent")&&c("cometTypeaheadODSLogFetchCacheEvent")("comet.ta.fetch",!0,1)},requestParams:b});f=f;f=f.entries;f=c("baseTypeaheadFlattenEntries")(f).length;if(!h&&f>=g)return}if(typeof d.fetchNetwork==="function"&&["all","network"].includes(a)){f={onResolvePayload:function(a){e(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1)},requestParams:babelHelpers["extends"]({},b,{requestFlow:m.current})};Boolean(l)?q(f):p(f)}}b!=null&&i(b);return function(){a=!0}}i(r,[b]);return[{isLoading:o}]}g["default"]=a}),98);
__d("useBaseTypeaheadDataSourceFetch",["react","react-compiler-runtime","recoverableViolation","useBaseTypeaheadDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b,e=d("react-compiler-runtime").c(9),f=i(null),g=f[0],h=f[1];f=c("useBaseTypeaheadDataSourceFetchResolver")(a,g);a=f[0];f=a.isLoading;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a,b){b=b===void 0?"all":b;h({requestParams:a,source:b})},e[0]=a):a=e[0];var j=a;e[1]!==g?(a=function(a){a=a||{};var b=a.requestFlow;a=a.source;if(g==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var d=g.requestParams,e=d.loggingEventTrace;d=babelHelpers.objectWithoutPropertiesLoose(d,["loggingEventTrace"]);e=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},e,{sequenceID:String(Date.now())}),requestFlow:b},d);j(e,a)},e[1]=g,e[2]=a):a=e[2];a=a;b=(b=g==null?void 0:g.source)!=null?b:"all";var k;e[3]!==f||e[4]!==b?(k={isLoading:f,source:b},e[3]=f,e[4]=b,e[5]=k):k=e[5];e[6]!==a||e[7]!==k?(f=[k,j,a],e[6]=a,e[7]=k,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("CometTypeaheadViewList.react",["CometCompositeStructureContext","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(16),e,f,g,h,j;b[0]!==a?(e=a.ariaProps,f=a.children,g=a.entries,h=a.highlightedEntry,j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","children","entries","highlightedEntry"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);var k=h!=null?h.key:null;a=e.role;b[6]!==a?(h=babelHelpers["extends"]({},a!=null?{role:a}:{}),b[6]=a,b[7]=h):h=b[7];h=h;h=h;var l;if(b[8]!==k||b[9]!==e||b[10]!==f||b[11]!==h||b[12]!==g||b[13]!==j||b[14]!==a){var m=c("getItemRoleFromCompositeRole")(a);l=g!=null&&g.length>0?i.jsx("ul",babelHelpers["extends"]({},e,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:i.jsx(c("CometCompositeStructureContext").Provider,{value:h,children:g.map(function(a,b){var c=k===a.key;return f({entry:a,index:b,isActive:c,isLastItem:g.length-1===b,itemRole:m})})})})):null;b[8]=k;b[9]=e;b[10]=f;b[11]=h;b[12]=g;b[13]=j;b[14]=a;b[15]=l}else l=b[15];return l}g["default"]=a}),98);
__d("CometTypeaheadViewListStrategy.react",["CometTypeaheadViewList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e,f;if(b[0]!==a){var g=a.ariaProps,h=a.entries;a.extraViewProps;var j=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var k=a.viewItemStrategyRenderer,l=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"]);g=g;h=h;j=j;e=k;f=l;b[0]=a;b[1]=e;b[2]=g;b[3]=h;b[4]=j;b[5]=f}else e=b[1],g=b[2],h=b[3],j=b[4],f=b[5];b[6]!==e||b[7]!==f?(k=function(a){var b=a.entry,c=a.isActive,d=a.isLastItem;a=a.itemRole;return i.createElement(e,babelHelpers["extends"]({},f,{entry:b,isActive:c,isLastItem:d,key:b.key,role:a}))},b[6]=e,b[7]=f,b[8]=k):k=b[8];b[9]!==g||b[10]!==h||b[11]!==j||b[12]!==k?(l=i.jsx(c("CometTypeaheadViewList.react"),{ariaProps:g,entries:h,highlightedEntry:j,testid:void 0,children:k}),b[9]=g,b[10]=h,b[11]=j,b[12]=k,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("useCometTypeaheadViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadViewListStrategy.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(8),e=a.emptyStateContent,f=a.extraViewProps,g=a.loadingState,i=a.nullstateContent,k=a.viewItemStrategyRenderer,l=a.viewListStrategyRenderer,m=a.viewXStyle,n=l===void 0?c("CometTypeaheadViewListStrategy.react"):l;b[0]!==n||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==i||b[5]!==k||b[6]!==m?(a=function(a){var b=a.entries,d=a.isLoading,l=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries","isLoading","queryString"]);if(l.length===0&&i!=null)return i;return!d&&b.length===0&&e!=null?e:j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([m]),{children:[j.jsx(n,babelHelpers["extends"]({},a,{entries:b,extraViewProps:f,isLoading:!1,queryString:l,viewItemStrategyRenderer:k})),d&&((a=g)!=null?a:j.jsx(c("CometTypeaheadProgressGlimmer.react"),{}))]}))},b[0]=n,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k,b[6]=m,b[7]=a):a=b[7];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTextArea.react",["BaseFocusRing.react","BaseInput.react","Locale","react","react-compiler-runtime","stylex","useMergeRefs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=d("Locale").isRTL(),o={containerOverride:{backgroundColor:"xjbqb8w",backgroundImage:"x18o3ruo",borderLeftWidth:"xyj58a3",borderRightWidth:"xgfja2r",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",display:"xrvj5dj",paddingBottom:null,paddingLeft:null,paddingRight:null,paddingStart:null,paddingEnd:null,paddingTop:null,position:"x1n2onr6",":active_backgroundColor":"xyftt0y",":active_backgroundImage":"xuqm82a",":focus_backgroundColor":"xyc4ar7",":focus_backgroundImage":"x19zaomo",":hover_backgroundColor":"x1n5bzlp",":hover_backgroundImage":"xn3cpwa",$$css:!0},divOverride:{overflowWrap:"x1mzt3pk",pointerEvents:"x47corl",visibility:"xlshs6z",whiteSpace:"x126k92a",$$css:!0},elementOverride:{gridColumnEnd:"x1ls7aod",gridColumnStart:"xcrlgei",gridRowEnd:"x1byulpo",gridRowStart:"x1agbcgv",lineHeight:"x15bjb6t",marginBottom:null,marginLeft:null,marginRight:null,marginStart:null,marginEnd:null,marginTop:null,$$css:!0},labelRTL:{transformOrigin:"x1h1bmdg",$$css:!0},maxHeight:function(a){return[{WebkitBoxOrient:"x1ua5tub",WebkitLineClamp:a==null?null:"x65k6ix",display:"x104kibb",$$css:!0},{"--WebkitLineClamp":a!=null?a:void 0}]},unresizable:{bottom:"x1ey2m1c",end:"xds687c",start:"x17qophe",left:null,right:null,position:"x10l6tqk",resize:"xtt52l0",top:"x13vifvy",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(86),e,f,g,i,q,r,s,t,u,v,w,x,y,z;b[0]!==a?(e=a.addOnEnd,f=a.disabled,g=a.id,i=a.label,t=a.maxRows,u=a.minRows,q=a.placeholder,s=a.ref,v=a.suppressFocusRing,w=a.unresizable,x=a.value,y=a.variant,z=a.xstyle,r=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","disabled","id","label","maxRows","minRows","placeholder","ref","suppressFocusRing","unresizable","value","variant","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=q,b[6]=r,b[7]=s,b[8]=t,b[9]=u,b[10]=v,b[11]=w,b[12]=x,b[13]=y,b[14]=z):(e=b[1],f=b[2],g=b[3],i=b[4],q=b[5],r=b[6],s=b[7],t=b[8],u=b[9],v=b[10],w=b[11],x=b[12],y=b[13],z=b[14]);a=t===void 0?200:t;t=u===void 0?1:u;u=v===void 0?!1:v;var A=w===void 0?!1:w,B=x!=null?String(x):x,C=l(null),D=l(null);v=m(!1);var E=v[0],F=v[1];w=m(!1);x=w[0];var G=w[1],H=c("useMergeRefs")(C,s),I=B!==""&&B!=null;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(){var a=function(){document.activeElement===C.current?F(!0):F(!1)},b=function(a){a.key==="Tab"?G(!0):G(!1)},c=C.current;document.addEventListener("focusin",a);c==null?void 0:c.addEventListener("keyup",b);return function(){document.removeEventListener("focusin",a),c==null?void 0:c.removeEventListener("keyup",b)}},w=[],b[15]=v,b[16]=w):(v=b[15],w=b[16]);k(v,w);b[17]!==r||b[18]!==B?(s=function(a){var b=a.target.value,c=D.current;if(c!=null&&B!=null){b=b.endsWith("\n")?b+" ":b;c.textContent=b}r.onChange==null?void 0:r.onChange(a)},b[17]=r,b[18]=B,b[19]=s):s=b[19];var J=s;b[20]!==I||b[21]!==g||b[22]!==i||b[23]!==y?(v=function(a){var b;return j.jsx("label",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(((b=y)==null?void 0:b.labelLocation)==="outside"?y.xstyleConfig.labelOutside:[(b=y)==null?void 0:b.xstyleConfig.labelInside,(I||a)&&((b=y)==null?void 0:b.xstyleConfig.labelInsideShrunk)],n&&o.labelRTL),{htmlFor:g,suppressHydrationWarning:!0,children:i}))},b[20]=I,b[21]=g,b[22]=i,b[23]=y,b[24]=v):v=b[24];w=v;b[25]!==f||b[26]!==I||b[27]!==g||b[28]!==H||b[29]!==J||b[30]!==q||b[31]!==r||b[32]!==E||b[33]!==A||b[34]!==B||b[35]!==y||b[36]!==z?(s=function(a){return j.jsx(c("BaseInput.react"),babelHelpers["extends"]({},r,{disabled:f,id:g,onChange:J,placeholder:y!=null&&(I||E)?q:y==null?q:null,ref:H,type:"textarea",value:B,xstyle:[a,A===!0&&o.unresizable,z,(a=y)==null?void 0:a.xstyleConfig.input,f===!0&&((a=y)==null?void 0:a.xstyleConfig.inputDisabled),o.elementOverride]}))},b[25]=f,b[26]=I,b[27]=g,b[28]=H,b[29]=J,b[30]=q,b[31]=r,b[32]=E,b[33]=A,b[34]=B,b[35]=y,b[36]=z,b[37]=s):s=b[37];var K=s;b[38]!==z?(v=(h||(h=c("stylex"))).props(z,o.containerOverride),b[38]=z,b[39]=v):v=b[39];b[40]!==z?(s=(h||(h=c("stylex"))).props(z,o.elementOverride,o.divOverride),b[40]=z,b[41]=s):s=b[41];if(b[42]!==t){var L;L=Array.from({length:(L=t)!=null?L:1}).map(p);b[42]=t;b[43]=L}else L=b[43];b[44]!==s||b[45]!==L?(t=j.jsx("div",babelHelpers["extends"]({},s,{"aria-hidden":"true",ref:D,children:L})),b[44]=s,b[45]=L,b[46]=t):t=b[46];if(b[47]!==a||b[48]!==z){L=(h||(h=c("stylex"))).props(z,o.elementOverride,o.divOverride,o.maxHeight((s=a)!=null?s:220));b[47]=a;b[48]=z;b[49]=L}else L=b[49];b[50]!==B?(s=B!=null&&B.endsWith("\n")?B+" ":B,b[50]=B,b[51]=s):s=b[51];b[52]!==L||b[53]!==s?(a=j.jsx("div",babelHelpers["extends"]({},L,{"aria-hidden":"true",ref:D,children:s})),b[52]=L,b[53]=s,b[54]=a):a=b[54];b[55]!==K||b[56]!==y?(L=function(a){var b;return y!=null?j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((b=y)==null?void 0:b.xstyleConfig.inputWrapper),{children:K(a)})):K(a)},b[55]=K,b[56]=y,b[57]=L):L=b[57];b[58]!==u||b[59]!==L?(s=j.jsx(c("BaseFocusRing.react"),{suppressFocusRing:u,children:L}),b[58]=u,b[59]=L,b[60]=s):s=b[60];if(b[61]!==w||b[62]!==E||b[63]!==((u=y)==null?void 0:u.labelLocation)){u=((L=y)==null?void 0:L.labelLocation)==="inside"&&w(E);b[61]=w;b[62]=E;b[63]=(L=y)==null?void 0:L.labelLocation;b[64]=u}else u=b[64];if(b[65]!==e||b[66]!==((L=y)==null?void 0:L.xstyleConfig)){L=e!=null&&j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((L=y)==null?void 0:L.xstyleConfig.addOnEndWrapper),{children:e}));b[65]=e;b[66]=(e=y)==null?void 0:e.xstyleConfig;b[67]=L}else L=b[67];b[68]!==v||b[69]!==t||b[70]!==a||b[71]!==s||b[72]!==u||b[73]!==L?(e=j.jsxs("div",babelHelpers["extends"]({},v,{children:[t,a,s,u,L]})),b[68]=v,b[69]=t,b[70]=a,b[71]=s,b[72]=u,b[73]=L,b[74]=e):e=b[74];v=e;if(b[75]!==w||b[76]!==((t=y)==null?void 0:t.labelLocation)){s=((a=y)==null?void 0:a.labelLocation)==="outside"&&w(!1);b[75]=w;b[76]=(u=y)==null?void 0:u.labelLocation;b[77]=s}else s=b[77];if(b[78]!==x||b[79]!==v||b[80]!==E||b[81]!==y){a=y!=null?j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((L=y)==null?void 0:L.xstyleConfig.container,((e=y)==null?void 0:e.labelLocation)==="outside"&&y.xstyleConfig.labelOutside,x&&E&&((t=y)==null?void 0:t.xstyleConfig.containerFocused)),{children:v})):v;b[78]=x;b[79]=v;b[80]=E;b[81]=y;b[82]=a}else a=b[82];b[83]!==s||b[84]!==a?(w=j.jsxs(j.Fragment,{children:[s,a]}),b[83]=s,b[84]=a,b[85]=w):w=b[85];return w}function p(a,b){return j.jsx("br",{},b)}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("getMWInlineQPBannerStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={inlineQPBanner:{backgroundColor:"x1jx94hy",boxShadow:"xyqbzfk",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},inlineQPBannerWrapper:{backgroundColor:"x1jx94hy",borderTopColor:"x1pdss0j",borderEndColor:"xtcpoma",borderBottomColor:"x81c4ja",borderStartColor:"x8g6rb3",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",$$css:!0}};g.inlineQPBannerStyles=a}),98);
__d("getMWLocalStorageThreadsWithBannerDismissed",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{var b;b=JSON.parse((b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null?b:"{}")}catch(d){c("FBLogger")("armadillo").warn("Local storage value retrieval failed with error of "+String(d)+" when "+("retrieving value of "+a+" from web storage.")),b={}}return b}g.parseLocalStorageThreadsWithBannerDismissed=a}),98);
__d("setHasDismissedSecretConversationsDeprecationBanner.react",["WebStorage","getMWLocalStorageThreadsWithBannerDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if((h||(h=c("WebStorage"))).getLocalStorage()==null||(h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded())return;var e=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(b);Object.prototype.hasOwnProperty.call(e,a)||(e[a]=!0,(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),b,JSON.stringify(e)))}g.setHasDismissedSecretConversationsDeprecationBanner=a}),98);
__d("useMWRedirectToEncryptedThreadOfDualThread",["LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(13),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.mi_act_mapping_table||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(a)},b[0]=e.tables.mi_act_mapping_table,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":31");var k=c("useMWNavigation")(),l=c("useMWPCreateOneToOneThreadThenNavigate")(k,"preCutoverThread","dualThreadCutoverComposer"),m=g!=null,n=g==null?void 0:g.clientThreadPk,o=g==null?void 0:g.serverThreadKey;b[6]!==n||b[7]!==l||b[8]!==m||b[9]!==k||b[10]!==o||b[11]!==a?(j=function(){m&&o!=null?k.openTabOrInbox({clientThreadKey:n,threadKey:o,threadType:(i||(i=d("LSIntEnum"))).ofNumber(15)},"preCutoverThread",void 0,void 0,{subEntrypoint:"dualThreadCutoverComposer"}):l==null?void 0:l(a)},b[6]=n,b[7]=l,b[8]=m,b[9]=k,b[10]=o,b[11]=a,b[12]=j):j=b[12];return j}g["default"]=a}),98);
__d("MWInboxPrecutoverOpenThreadBanner.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBanner.react");function a(a){var b=d("react-compiler-runtime").c(38);a=a.thread;var e=a.threadKey,g=a.threadType,m=(j||(j=c("useReStore")))(),r=d("MWPActor.react").useActor(),s;b[0]!==r||b[1]!==e?(s=(l||(l=d("I64"))).equal(r,e),b[0]=r,b[1]=e,b[2]=s):s=b[2];var t=s,u;b[3]!==r||b[4]!==m||b[5]!==t||b[6]!==e||b[7]!==g?(s=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(m.tables.contacts)).filter(function(a){a=a[1];return t||!(l||(l=d("I64"))).equal(a.id,r)}).map(q):d("ReQL").empty()},u=[m,e,g,r,t],b[3]=r,b[4]=m,b[5]=t,b[6]=e,b[7]=g,b[8]=s,b[9]=u):(s=b[8],u=b[9]);s=d("ReQLSuspense").useFirst(s,u,f.id+":63");var v=d("MAWThreadCutover").useIsCutoverOpenThread(e);u=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e);var w;b[10]!==a?(w=d("LSThreadBitOffset").has(260,a),b[10]=a,b[11]=w):w=b[11];a=w;var x=c("useMWRedirectToEncryptedThreadOfDualThread")(e);b[12]!==e?(w=function(){var a=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);return!Object.prototype.hasOwnProperty.call(a,(l||(l=d("I64"))).to_string(e))},b[12]=e,b[13]=w):w=b[13];w=o(w);var y=w[0],z=w[1];if(b[14]!==t||b[15]!==(s==null?void 0:s.firstName)||b[16]!==(s==null?void 0:s.name)){w=t?h._(/*BTDS*/"Messenger renforce sa s\u00e9curit\u00e9. Par cons\u00e9quent, seule votre discussion chiffr\u00e9e de bout en bout restera active."):h._(/*BTDS*/"Messenger renforce sa s\u00e9curit\u00e9. Par cons\u00e9quent, seule votre discussion chiffr\u00e9e de bout en bout avec {name} restera active.",[h._param("name",(w=s==null?void 0:s.firstName)!=null?w:s==null?void 0:s.name)]);b[14]=t;b[15]=s==null?void 0:s.firstName;b[16]=s==null?void 0:s.name;b[17]=w}else w=b[17];s=w;var A=c("useMWEntrypoint")();b[18]!==g?(w=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),b[18]=g,b[19]=w):w=b[19];var B=w;b[20]!==A||b[21]!==v||b[22]!==B||b[23]!==e||b[24]!==g?(w={onVisible:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_impression_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})})}},b[20]=A,b[21]=v,b[22]=B,b[23]=e,b[24]=g,b[25]=w):w=b[25];w=c("useVisibilityObserver")(w);var C;b[26]!==s||b[27]!==A||b[28]!==v||b[29]!==u||b[30]!==a||b[31]!==B||b[32]!==x||b[33]!==w||b[34]!==y||b[35]!==e||b[36]!==g?(C=y&&a&&!v&&!u&&n.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(k||(k=c("stylex"))).props(d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:n.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:h._(/*BTDS*/"Passer \u00e0 l\u2019autre discussion"),onPress:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_cta_click_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),x()},type:"secondary"},body:s,headline:h._(/*BTDS*/"Cette discussion sera bient\u00f4t archiv\u00e9e"),icon:{props:{src:i("876158")},type:"image"},onClose:function(){d("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((l||(l=d("I64"))).to_string(e),c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED),p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_dismissed_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),z(!1)},ref:w,xstyle:d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),b[26]=s,b[27]=A,b[28]=v,b[29]=u,b[30]=a,b[31]=B,b[32]=x,b[33]=w,b[34]=y,b[35]=e,b[36]=g,b[37]=C):C=b[37];return C}function q(a){a=a[1];return a}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f,g){"use strict";a={isUserActive:function(){return d("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var b=d("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){b&&b.remove()}}};g["default"]=a}),98);
__d("XMessengerDotComHelpContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("XPlatReactNestedPressableContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("isIntersectionObserverEntryVPVDVisible",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=200,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.boundingClientRect;var e=a.intersectionRect,f=a.rootBounds;d=d||i;e=e||i;f=f||i;return e.height>=b||e.height>=f.height/2||e.height===d.height||a.intersectionRatio>.95}g["default"]=a}),98);
__d("isIntersectionObserverEntryVPVDVisiblePct",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=.5,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.intersectionRect;var e=a.rootBounds,f=a.boundingClientRect;if(f==null||f.height===0)return!1;d=d||i;e=e||i;return d.height/f.height>=b||d.height>=e.height/2||a.intersectionRatio>.95}g["default"]=a}),98);
__d("useCometPressableEventHandlers",["ExecutionEnvironment","XPlatReactNestedPressableContext","emptyObject","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useLayoutEffect,o=b.useRef,p=b.useState,q=new Set();(h||(h=c("ExecutionEnvironment"))).canUseDOM&&document.addEventListener("mousedown",function(){q.forEach(function(a){return a()})},!0);var r=function(a){q.add(a);return function(){q["delete"](a)}},s=new Set();(h||(h=c("ExecutionEnvironment"))).canUseDOM&&document.addEventListener("keydown",function(a){switch(a.key){case"ArrowUp":case"ArrowRight":case"ArrowDown":case"ArrowLeft":case"Tab":case"Enter":case" ":case"Escape":s.forEach(function(a){return a()})}},!0);var t=function(a){s.add(a);return function(){s["delete"](a)}},u=(h||(h=c("ExecutionEnvironment"))).canUseDOM?null:!0;function v(){u==null&&(u=!window.matchMedia("(pointer: coarse)").matches);return u}var w=0,x=1;function a(a){var b=a.clickOnSpace,d=b===void 0?!1:b;b=a.disabled;b=b===void 0?!1:b;var e=a.onFocusChange,f=a.onFocusIn,g=a.onFocusOut,h=a.onFocusVisibleChange,i=a.onHoverChange,q=a.onHoverIn,s=a.onHoverOut,u=a.onPress,y=a.onPressChange,z=a.onPressIn,A=a.onPressOut;a=a.testOnly_pressed;var B=a===void 0?!1:a;a=l(c("XPlatReactNestedPressableContext"));var C=o(w),D=p(!1),E=D[0],F=D[1];D=p(b);var G=D[0];D=D[1];var H=p(B),I=H[0],J=H[1];H=p(!1);var K=H[0],L=H[1];H=p(!1);var M=H[0],N=H[1];H=p(!1);var O=H[0],P=H[1];m(function(){var a=r(function(){C.current=w}),b=t(function(){C.current=x});return function(){a(),b()}},[]);var Q=k(function(a){J(a),y&&y(a)},[y]),R=k(function(a){L(a),e&&e(a),(C.current===x||!a&&M)&&(N(a),h&&h(a))},[e,h,M]),S=k(function(a){P(a),i&&i(a)},[i]);H=p(B);var T=H[0],U=H[1];n(function(){B!==T&&(Q(B),U(B))},[T,Q,B]);H=o(null);var V=k(function(a){R(!0),f&&f(a)},[f,R]),W=k(function(a){K&&(R(!1),g&&g(a))},[K,g,R]),X=k(function(a){if(!v())return;E&&(Q(!0),!I&&z&&z(a));S(!0);q&&q(a)},[E,q,z,I,S,Q]),Y=k(function(a){I&&(Q(!1),A&&A(a)),O&&(S(!1),s&&s(a))},[O,s,A,I,S,Q]),Z=k(function(a){F(!0),Q(!0),z&&z(a)},[z,Q]),aa=k(function(a){F(!1),I&&(Q(!1),A&&A(a))},[A,I,Q]),$=o(!1),ba=k(function(a){$.current=a.touches.length===1,Q($.current),$.current&&z!=null&&z(a)},[z,Q]),ca=k(function(a){$.current=!1,I&&(Q(!1),A&&A(a))},[A,I,Q]),da=k(function(a){I&&(Q(!1),$.current&&a.touches.length===1&&(A&&A(a)))},[A,I,Q]);m(function(){if(E&&!O){var a=function(){F(!1)};document.addEventListener("mouseup",a,{capture:!0,passive:!0});return function(){document.removeEventListener("mouseup",a,{capture:!0,passive:!0})}}return function(){}},[a,E,Q,O]);var ea=k(function(a){var b=a.target;u!=null&&b instanceof HTMLElement&&b.tagName==="LABEL"&&a.preventDefault();F(!1);u&&u(a)},[u]),fa=k(function(a){a.key==="Enter"&&(u&&u(a)),a.key===" "&&d&&(u&&u(a))},[d,u]);b!==G&&(b&&(Q(!1),R(!1),S(!1)),D(b));G=b?c("emptyObject"):{onBlur:W,onClick:ea,onFocus:V,onKeyDown:fa,onMouseDown:Z,onMouseEnter:X,onMouseLeave:Y,onMouseUp:aa,onTouchEnd:da,onTouchMove:ca,onTouchStart:ba};D=k(function(a){a=a.children;return j.jsx(c("XPlatReactNestedPressableContext").Provider,{value:!0,children:a})},[]);return[H,a,{disabled:b,focused:K,focusVisible:M,hovered:O,pressed:I},G,D]}g["default"]=a}),98);
__d("useNoopDebuggingInfoComponent",["react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[null,h],a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("vpvdConstants",[],(function(a,b,c,d,e,f){"use strict";a=250;b=200;f.DEFAULT_MIN_VISIBLE_TIME_MS=a;f.DEFAULT_MIN_VISIBLE_PX=b}),66);
__d("useVPVDImpression",["CometVPVDUserActivityMonitor","cr:921407","isIntersectionObserverEntryVPVDVisible","isIntersectionObserverEntryVPVDVisiblePct","react","react-compiler-runtime","useVisibilityObserver","vpvdConstants"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(20),f=a.activityMonitorOverride,g=a.isLite,h=a.minVisiblePct,i=a.minVisiblePx,j=a.minVisibleTimeMs,k=a.onVPVDEnd;a=a.onVPVDStart;i=i===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_PX:i;var l=j===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_TIME_MS:j;j=b("cr:921407")();var m=j[0];j=j[1];var n;e[0]!==l||e[1]!==k?(n=function(a){if(a.visibleDuration<l)return;k(a)},e[0]=l,e[1]=k,e[2]=n):n=e[2];n=n;var o=g===!0?1:i;e[3]!==o||e[4]!==h?(i=function(a){return h!=null?c("isIntersectionObserverEntryVPVDVisiblePct")(a,h):c("isIntersectionObserverEntryVPVDVisible")(a,o)},e[3]=o,e[4]=h,e[5]=i):i=e[5];i=i;var p;e[6]!==g?(p=g===!0?null:{thresholdOverride:"EXPENSIVE"},e[6]=g,e[7]=p):p=e[7];g=p;f=(p=f)!=null?p:c("CometVPVDUserActivityMonitor");e[8]!==i||e[9]!==f||e[10]!==g?(p=babelHelpers["extends"]({activityMonitorOverride:f,isEntryInViewport:i},g),e[8]=i,e[9]=f,e[10]=g,e[11]=p):p=e[11];i=p;e[12]!==n||e[13]!==a||e[14]!==i||e[15]!==j?(f={onHidden:n,onVisibilityDurationUpdated:j,onVisible:a,options:i},e[12]=n,e[13]=a,e[14]=i,e[15]=j,e[16]=f):f=e[16];g=c("useVisibilityObserver")(f);e[17]!==g||e[18]!==m?(p=[g,m],e[17]=g,e[18]=m,e[19]=p):p=e[19];return p}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseHovercardTrigger.react",["cr:3843"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3843")}),98);
__d("BaseSwitch.react",["BaseFocusRing.react","BaseInput.react","BaseView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={"switch":{cursor:"x1ypdohk",height:"x5yr21d",start:"x17qophe",left:null,right:null,marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",opacity:"x1w3u9th",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},wrapper:{position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e,f,g,h,k,l,m;b[0]!==a?(e=a.children,f=a.onFocusVisibleChange,h=a.ref,m=a.xstyle,k=a.suppressFocusRing,l=a.testid,g=babelHelpers.objectWithoutPropertiesLoose(a,["children","onFocusVisibleChange","ref","xstyle","suppressFocusRing","testid"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7]);b[8]!==e||b[9]!==g||b[10]!==h||b[11]!==l||b[12]!==m?(a=function(a){return i.jsxs(c("BaseView.react"),{testid:void 0,xstyle:[j.wrapper,a,m],children:[e,i.jsx(c("BaseInput.react"),babelHelpers["extends"]({},g,{"aria-checked":(a=g.checked)!=null?a:!1,ref:h,role:"switch",type:"checkbox",xstyle:j["switch"]}))]})},b[8]=e,b[9]=g,b[10]=h,b[11]=l,b[12]=m,b[13]=a):a=b[13];b[14]!==f||b[15]!==k||b[16]!==a?(l=i.jsx(c("BaseFocusRing.react"),{onFocusVisibleChange:f,suppressFocusRing:k,children:a}),b[14]=f,b[15]=k,b[16]=a,b[17]=l):l=b[17];return l}b=i.memo(a);g["default"]=b}),98);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";a=3e4;f["default"]=a}),66);
__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[],k=!1,l=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&c("UserActivity").isOnTab()&&c("UserActivity").isActive(c("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",m=[],n;function o(a){k=!0;m.push.apply(m,j);var b=function(){var b=m.shift();(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b(a)},null,[],{name:"CometUserActivityMonitor"})};while(m.length)b();k=!1}function p(a){var b=l;l=a;b!==a&&o(a)}function a(){return l}d=function(){n==null&&(n=new(c("SubscriptionsHandler"))(),n.addSubscriptions(c("UserActivity").subscribe(function(a,b){a=b.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&c("UserActivity").isOnTab()===!1)return;p("ACTIVE")}),function(){var a=function(){p("INACTIVE")};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),c("Visibility").addListener(c("Visibility").HIDDEN,function(){p("INACTIVE")})))};function b(a){j.push(a);k&&m.push(a);var b=!1;return{remove:function(){if(b)return;var c=j.indexOf(a);c!==-1&&j.splice(c,1);if(k){c=m.indexOf(a);c!==-1&&m.splice(c,1)}b=!0}}}(h||(h=c("ExecutionEnvironment"))).canUseDOM&&d();g.getActivityState=a;g.init=d;g.subscribe=b}),98);
__d("RecoverableViolation.react",["react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(4),e=a.errorMessage,f=a.errorObject,g=a.projectName,h=j(!1);b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){h.current||(c("recoverableViolation")(e,g,f),h.current=!0)},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];i(a);return null}g["default"]=a}),98);
__d("WorkCometIsEmployeeGKProvider.relayprovider",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(){return c("gkx")("20861")}};g["default"]=a}),98);
__d("XCometStoriesControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/stories/{?bucket_id}/{?card_id}/",Object.freeze({view_single:!1}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWXIconEye",["MWXSvgIcon","SVGIcon","cr:12409","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12409")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWReadReceiptsCanBeDisabledForThread",["LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MessagingFolderTag","ReQLSuspense","queryMWLSOtherParticipantContact","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){switch((i||(i=d("LSIntEnum"))).toNumber(a.threadType)){case 1:case 2:case 15:case 16:case 5:return!0}return!1}function k(a){switch(a){case c("MessagingFolderTag").SPAM:case c("MessagingFolderTag").PENDING:case c("MessagingFolderTag").OTHER:return!1}return!0}function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),l,m;b[0]!==g||b[1]!==e||b[2]!==a.threadKey||b[3]!==a.threadType?(l=function(){return c("queryMWLSOtherParticipantContact")(e,a.threadKey,a.threadType,g,[])},m=[a.threadKey,a.threadType,e,g],b[0]=g,b[1]=e,b[2]=a.threadKey,b[3]=a.threadType,b[4]=l,b[5]=m):(l=b[4],m=b[5]);l=d("ReQLSuspense").useFirst(l,m,f.id+":61");b[6]!==a?(m=j(a)&&k(a.folderName),b[6]=a,b[7]=m):m=b[7];b=m;m=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&l==null;l=a.authorityLevel!=null&&(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel)!==c("LSAuthorityLevel").AUTHORITATIVE;return b&&!m&&!l}g["default"]=a}),98);
__d("MWInboxInfoReadReceipts.react",["fbt","MWInboxInfoButton.react","MWXIconEye","MWXIconForListCell.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useMWIsReadReceiptsDisabledForThread","useMWReadReceiptsCanBeDisabledForThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWInboxInfoReadReceiptsPage.react").__setRef("MWInboxInfoReadReceipts.react"));function a(a){var b=d("react-compiler-runtime").c(12),e=a.pushPage,f=a.thread;a=c("useMWIsReadReceiptsDisabledForThread")(f.threadKey);var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Confirmations de lecture"),b[0]=g):g=b[0];g=g;var i;b[1]!==e||b[2]!==f.threadKey?(i=function(){e(function(a){a=a.onReturn;return j.jsx(k,{onReturn:a,threadKey:f.threadKey})})},b[1]=e,b[2]=f.threadKey,b[3]=i):i=b[3];var l=i;if(!c("useMWReadReceiptsCanBeDisabledForThread")(f))return null;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("MWXIconForListCell.react"),{icon:c("MWXIconEye")}),b[4]=i):i=b[4];var m;b[5]!==l?(m=function(){return l()},b[5]=l,b[6]=m):m=b[6];var n;b[7]!==a?(n=a?h._(/*BTDS*/"D\u00e9sactiv\u00e9"):h._(/*BTDS*/"Activ\u00e9"),b[7]=a,b[8]=n):n=b[8];b[9]!==m||b[10]!==n?(a=j.jsx(c("MWInboxInfoButton.react"),{addOnStart:i,label:g,onPress:m,subLabel:n}),b[9]=m,b[10]=n,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("MessengerEyeFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M22 18a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M30.577 19.38a2.451 2.451 0 0 0 0-2.76C27.487 12.07 22.057 9 18 9s-9.486 3.07-12.577 7.62a2.451 2.451 0 0 0 0 2.76C8.513 23.93 13.943 27 18 27s9.486-3.07 12.577-7.62zM24 18a6 6 0 1 1-12 0 6 6 0 0 1 12 0z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("MWQuickPromotionDesktopInterstitialUpsellQuery.graphql",["MWQuickPromotionDesktopInterstitialUpsellQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_OPEN"}],c=[{kind:"Literal",name:"supported",value:"3Cq8Hv"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopFeedbackInterstitialRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopFeedbackInterstitialRendererStrategy",abstractKey:null},e={kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionDesktopInterstitialUpsellQuery",fragmentName:"CometQuickPromotionMessengerDesktopInterstitialUpsellRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopInterstitialUpsellRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionDesktopInterstitialUpsellQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d,e],storageKey:'renderer_strategy(supported:"3Cq8Hv")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWQuickPromotionDesktopInterstitialUpsellQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e],storageKey:'renderer_strategy(supported:"3Cq8Hv")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_OPEN")'}],storageKey:null}]},params:{id:b("MWQuickPromotionDesktopInterstitialUpsellQuery_facebookRelayOperation"),metadata:{},name:"MWQuickPromotionDesktopInterstitialUpsellQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionDesktopInterstitialUpsell.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionDesktopInterstitialUpsellQuery.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(8);a=a.upsellQueryRef;a=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("MWQuickPromotionDesktopInterstitialUpsellQuery.graphql"),a);if(f[0]!==(a==null?void 0:(e=a.viewer)==null?void 0:(e=e.eligible_promotions)==null?void 0:e.nodes)){e=a==null?void 0:(e=a.viewer)==null?void 0:(e=e.eligible_promotions)==null?void 0:(e=e.nodes)==null?void 0:e.find(k);f[0]=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:a.nodes;f[1]=e}else e=f[1];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;f[2]===Symbol["for"]("react.memo_cache_sentinel")?(e={context_surface_id:8879,context_trigger:"messenger_open"},f[2]=e):e=f[2];e=c("useQuickPromotionFalcoEvent")(e);if(a==null)return null;var g;f[3]!==a?(g=j.jsx(d("CometRelay").MatchContainer,{match:a}),f[3]=a,f[4]=g):g=f[4];f[5]!==e||f[6]!==g?(a=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:g}),f[5]=e,f[6]=g,f[7]=a):a=f[7];return a}function k(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MWQuickPromotionDesktopInterstitialUpsellEntrypoint.react",["MWQuickPromotionDesktopInterstitialUpsell.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.queries;var e;b[0]!==a.upsellQueryRef?(e=i.jsx(c("MWQuickPromotionDesktopInterstitialUpsell.react"),{upsellQueryRef:a.upsellQueryRef}),b[0]=a.upsellQueryRef,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VultureJSSampleRatesLoader",["VultureJSSampleRates"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VultureJSSampleRates")}),98);/*FB_PKG_DELIM*/
__d("BaseList.react",["CometCompositeStructureContext","CometFocusGroup.react","focusScopeQueries","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(22),e=a["aria-label"],f=a["aria-labelledby"],g=a.children,h=a.keyNavOrientation_DEPRECATED,j=a.ref,k=a.role,l=a.testid,m=a.xstyle;a=(a=k)!=null?a:"list";var n;b[0]!==a?(n={role:a},b[0]=a,b[1]=n):n=b[1];n=n;n=n;if(h!=null){var o;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==k||b[6]!==m?(o=function(a){var b;return i.jsx(d("react-strict-dom").html.div,{"aria-label":(b=e)!=null?b:void 0,"aria-labelledby":f,ref:j,role:(b=k)!=null?b:void 0,style:[a,[m]],children:g})},b[2]=e,b[3]=f,b[4]=g,b[5]=k,b[6]=m,b[7]=o):o=b[7];var p;b[8]!==h||b[9]!==k||b[10]!==o?(p=i.jsx(c("CometFocusGroup.react"),{orientation:h,role:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,children:o}),b[8]=h,b[9]=k,b[10]=o,b[11]=p):p=b[11];return p}o=(h=e)!=null?h:void 0;b[12]!==g||b[13]!==n?(p=i.jsx(c("CometCompositeStructureContext").Provider,{value:n,children:g}),b[12]=g,b[13]=n,b[14]=p):p=b[14];b[15]!==f||b[16]!==a||b[17]!==o||b[18]!==p||b[19]!==l||b[20]!==m?(h=i.jsx(d("react-strict-dom").html.div,{"aria-label":o,"aria-labelledby":f,"data-testid":void 0,ref:j,role:a,style:m,children:p}),b[15]=f,b[16]=a,b[17]=o,b[18]=p,b[19]=l,b[20]=m,b[21]=h):h=b[21];return h}g["default"]=a}),98);
__d("CometList_DEPRECATED.react",["BaseList.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={margins:{marginBottom:"x1oo3vh0",marginTop:"x1rdy4ex",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.items,g=a.keyNavOrientation_DEPRECATED,h=a.label,k=a.ref,l=a.role,m=a.testid;a=a.withNegativeMargins;if(b[0]!==e||b[1]!==f){var n;n=typeof e==="function"?((n=f)!=null?n:[]).map(function(a,b){if(a==null||typeof a!=="object")return null;if(a.key==null)return e({item:a,key:b});a.key;b=babelHelpers.objectWithoutPropertiesLoose(a,["key"]);return e({item:b,key:a.key})}):e;b[0]=e;b[1]=f;b[2]=n}else n=b[2];f=n;b[3]!==g||b[4]!==h||b[5]!==l||b[6]!==m?(n={"aria-label":h,keyNavOrientation_DEPRECATED:g,role:l,testid:m},b[3]=g,b[4]=h,b[5]=l,b[6]=m,b[7]=n):n=b[7];g=n;h=a&&j.margins;b[8]!==g||b[9]!==f||b[10]!==h?(l=i.jsx(c("BaseList.react"),babelHelpers["extends"]({},g,{ref:k,xstyle:h,children:f})),b[8]=g,b[9]=f,b[10]=h,b[11]=l):l=b[11];return l}g["default"]=a}),98);
__d("FDSCalendarFilled20Icon",["cr:13822"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13822")}),98);
__d("FDSCalendarFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("481118"),20);b=a;g["default"]=b}),98);
__d("FDSGroupFilled20Icon",["cr:15088"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15088")}),98);
__d("FDSGroupFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("485091"),20);b=a;g["default"]=b}),98);
__d("FDSShieldFilled20Icon",["cr:14248"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14248")}),98);
__d("FDSShieldFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("492714"),20);b=a;g["default"]=b}),98);
__d("FDSWatchTvFilled20Icon",["cr:15866"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15866")}),98);
__d("FDSWatchTvFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("607169"),20);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("useNUX",["CometNUXManagerContext","react","react-compiler-runtime","recoverableViolation","useNUXLoggers","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useState;function a(a,b){var e=d("react-compiler-runtime").c(10),f=b===void 0?!0:b;e[0]!==a?(b=function(){return a},e[0]=a,e[1]=b):b=e[1];var g=c("useStable")(b);if(g!==a){c("recoverableViolation")("Error nux changed at runtime from "+((b=g)!=null?b:"null")+" to "+((b=a)!=null?b:"null")+", this is not supported and will lead to erratic behavior, we have continued to use your initially supplied nux","comet_ui")}b=k(!1);var h=b[0],l=b[1];b=i(c("CometNUXManagerContext"));var m=b.registerNUX;b=b.removeNUX;var n,o;e[2]!==f||e[3]!==g||e[4]!==m?(n=function(){if(g==null||!f)return;return m(g,l)},o=[g,m,f],e[2]=f,e[3]=g,e[4]=m,e[5]=n,e[6]=o):(n=e[5],o=e[6]);j(n,o);n=c("useNUXLoggers")(g,b,f);e[7]!==h||e[8]!==n?(o=[h,n],e[7]=h,e[8]=n,e[9]=o):o=e[9];return o}g["default"]=a}),98);
__d("MWCreatorMessagingDialogNuxContainer.react",["JSResourceForInteraction","declareNUXRequireable","react","react-compiler-runtime","useMWXLazyDialog","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=c("JSResourceForInteraction")("MWCreatorMessagingChatWithPagesYouFollowDialog.react").__setRef("MWCreatorMessagingDialogNuxContainer.react");function a(a){function b(){var b=d("react-compiler-runtime").c(5),e=c("useMWXLazyDialog")(k),f=e[0];e=c("useNUX")(a);var g=e[0];e=e[1];var h=e.onDismiss,l=j(!1),m;b[0]!==g||b[1]!==h||b[2]!==f?(e=function(){!l.current&&g&&(l.current=!0,f({},h))},m=[g,h,f],b[0]=g,b[1]=h,b[2]=f,b[3]=e,b[4]=m):(e=b[3],m=b[4]);i(e,m)}return b}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("ZenonDialogTitle.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.children;return i.jsx("h1",{className:"x1awj2ng x1603h9y x1s688f x1yc453h",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MessengerLogoSvg.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c=a.height;a=a.width;a=(a=a)!=null?a:"80";c=(c=c)!=null?c:"80";var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs("g",{clipPath:"url(#clip0_761_9815)",children:[i.jsx("path",{d:"M79.07 38.8027C79.07 60.5762 62.0114 76.6954 40.005 76.6954C36.0529 76.6954 32.2607 76.1744 28.6964 75.1945C28.0037 75.003 27.2675 75.0573 26.6103 75.3465L18.8561 78.7696C16.8283 79.6656 14.5389 78.2229 14.4709 76.0066L14.2577 69.0567C14.2311 68.2011 13.8462 67.3998 13.2078 66.8305C5.60652 60.0325 0.940002 50.1922 0.940002 38.8027C0.940002 17.0302 17.9986 0.91 40.005 0.91C62.0114 0.91 79.07 17.0302 79.07 38.8027Z",fill:"#0866FF"}),i.jsx("path",{d:"M50.612 49.7107L64.2129 28.6911C65.5806 26.5784 63.0475 24.1193 60.9762 25.5481L46.7783 35.341C46.2997 35.6716 45.6691 35.6805 45.1817 35.3647L32.5804 27.2119C31.5137 26.5221 30.0897 26.827 29.4 27.8937L15.7981 48.9143C14.4304 51.027 16.9635 53.4861 19.0347 52.0572L33.2356 42.2634C33.7142 41.9328 34.3448 41.9239 34.8332 42.2397L47.4325 50.3925C48.4993 51.0823 49.9232 50.7774 50.613 49.7107H50.612Z",fill:"white"})]}),b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("defs",{children:i.jsx("clipPath",{id:"clip0_761_9815",children:i.jsx("rect",{fill:"white",height:"80",width:"80"})})}),b[1]=f):f=b[1];b[2]!==c||b[3]!==a?(e=i.jsxs("svg",{fill:"none",height:c,viewBox:"0 0 80 80",width:a,xmlns:"http://www.w3.org/2000/svg",children:[e,f]}),b[2]=c,b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometEdfFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1922996");b=d("FalcoLoggerInternal").create("comet_edf",a);e=b;g["default"]=e}),98);
__d("declareNUXRequireable",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("useNUXLoggers",["CometEdfFalcoEvent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef;function a(a,b,e){var f=d("react-compiler-runtime").c(23),g=e===void 0?!0:e;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={hidden:!1,visible:!1},f[0]=e):e=f[0];var h=i(e);f[1]!==g||f[2]!==a||f[3]!==b?(e=function(){if(a==null||!g)return;b(a);c("CometEdfFalcoEvent").logImmediately(function(){return{nux:a,type:"dismiss"}})},f[1]=g,f[2]=a,f[3]=b,f[4]=e):e=f[4];var j,k,l;f[5]!==g||f[6]!==a?(j=function(b){if(a==null||!g)return;c("CometEdfFalcoEvent").log(function(){return{nux:a,step_key:b,type:"helpful"}})},k=function(){if(a==null||!g||h.current.hidden||h.current.visible!==!0)return;h.current.hidden=!0;c("CometEdfFalcoEvent").log(function(){return{nux:a,type:"hidden"}})},l=function(b){if(a==null||!g)return;c("CometEdfFalcoEvent").log(function(){return{nux:a,step_key:b,type:"not_helpful"}})},f[5]=g,f[6]=a,f[7]=j,f[8]=k,f[9]=l):(j=f[7],k=f[8],l=f[9]);var m;f[10]!==a||f[11]!==b?(m=function(){if(a==null)return;b(a)},f[10]=a,f[11]=b,f[12]=m):m=f[12];var n;f[13]!==g||f[14]!==a?(n=function(){if(a==null||!g||h.current.visible)return;h.current.visible=!0;c("CometEdfFalcoEvent").logCritical(function(){return{nux:a,type:"visible"}})},f[13]=g,f[14]=a,f[15]=n):n=f[15];var o;f[16]!==e||f[17]!==j||f[18]!==k||f[19]!==l||f[20]!==m||f[21]!==n?(o={onDismiss:e,onHelpful:j,onHidden:k,onNotHelpful:l,onRemoved:m,onVisible:n},f[16]=e,f[17]=j,f[18]=k,f[19]=l,f[20]=m,f[21]=n,f[22]=o):o=f[22];e=o;return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MWCallingRestrictionDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{}},root:c("JSResourceForInteraction")("MWCallingRestrictionDialog.react").__setRef("MWCallingRestrictionDialog.entrypoint")};g["default"]=a}),98);
__d("MWCallingRestrictionEvent",[],(function(a,b,c,d,e,f){"use strict";a="CALLING_RESTRICTION";f["default"]=a}),66);
__d("MWCallingRestrictionHook",["MWCallingRestrictionDialog.entrypoint","MWCallingRestrictionEvent","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWCallingRestrictionDialog.entrypoint"),b);var e=b[0],f;a[1]!==e?(b=function(){var a=function(a){a.origin===document.location.origin&&typeof a.data==="object"&&((a=a.data)==null?void 0:a.event)===c("MWCallingRestrictionEvent")&&e({})};window.addEventListener("message",a);return function(){window.removeEventListener("message",a)}},f=[e],a[1]=e,a[2]=b,a[3]=f):(b=a[2],f=a[3]);i(b,f)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("XMessengerHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("goURIOnWindow",["ConstUriUtils","FBLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=typeof b==="string"?d("ConstUriUtils").getUri(b):d("ConstUriUtils").isConstUri(b);if(e){if(a==null)return!1;a.location=e.toString();return!0}else{a="Invalid URI "+b.toString()+" provided to goURIOnWindow";c("FBLogger")("comet_infra").blameToPreviousFrame().mustfix(a);return!1}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("XCometProfileControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/profile.php",Object.freeze({show_switched_toast:!1,show_switched_tooltip:!1,is_tour_dismissed:!1,is_tour_completed:!1,show_podcast_settings:!1,show_community_review_changes:!1,should_open_composer:!1,badge_type:"NEW_MEMBER",show_community_rollback_toast:!1,show_community_rollback:!1,show_follower_visibility_disclosure:!1}),new Set(["show_switched_toast","show_switched_tooltip","is_tour_dismissed","is_tour_completed","show_podcast_settings","show_community_review_changes","should_open_composer","show_community_rollback_toast","show_community_rollback","show_follower_visibility_disclosure"]));b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("first",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}return null}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("XInstagramHelpDotComContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[],force_new_ighc:!1}),void 0);b=a;g["default"]=b}),98);